{"version":3,"sources":["redux/redux-sauce/auth.js","redux/redux-sauce/shops.js","redux/redux-sauce/products.js","redux/api/endpoints.js","redux/api/authApi.js","redux/api/utils.js","redux/api/productsApi.js","redux/api/shopsApi.js","redux/sagas/authSagas.js","redux/sagas/productsSagas.js","redux/sagas/shopsSagas.js","redux/sagas/index.js","redux/store/index.js","containers/Main.js","containers/ShopDetail.js","containers/CreateShop.js","index.js","components/MainPage.js"],"names":["createActions","loginRequest","loginSuccess","loginFailure","signupRequest","signupSuccess","signupFailure","logoutRequest","logoutSuccess","logoutFailure","checkTokenRequest","checkTokenSuccess","checkTokenFail","resetAuthErrors","restorePasswordRequest","restorePasswordSuccess","restorePasswordFailure","toggleModal","checkAuthRequest","checkAuthSuccess","checkAuthFail","Types","Creators","AuthTypes","INITIAL_STATE","Immutable","fetching","user","error","isLoggedIn","isLoggingIn","AuthSelectors","getUser","state","data","merge","action","signUpRequest","signUpSuccess","signUpFailure","isAuthModalOpen","payload","isLogginIn","reducer","createReducer","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_FAILURE","CHECK_TOKEN_REQUEST","CHECK_TOKEN_FAIL","CHECK_TOKEN_SUCCESS","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","TOGGLE_MODAL","RESET_AUTH_ERRORS","CHECK_AUTH_SUCCESS","getShopsRequest","getShopsFail","getShopsSuccess","getShopDetailRequest","getShopDetailFail","getShopDetailSuccess","ShopsTypes","listFetching","shop_list","errorList","detailFetching","shopDetail","errorDetail","message","ShopsSelectors","getShops","shops","GET_SHOPS_REQUEST","GET_SHOPS_SUCCESS","GET_SHOPS_FAIL","GET_SHOP_DETAIL_REQUEST","GET_SHOP_DETAIL_SUCCESS","GET_SHOP_DETAIL_FAIL","getProductsRequest","getProductsFail","getProductsSuccess","getProductDetailRequest","getProductDetailFail","getProductDetailSuccess","getCategoriesRequest","getCategoriesFail","getCategoriesSuccess","ProductsTypes","product_list","categories","productDetail","ProductsSelectors","getProducts","products","getCategories","tours_info","GET_PRODUCTS_REQUEST","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCT_DETAIL_REQUEST","GET_PRODUCT_DETAIL_SUCCESS","GET_PRODUCT_DETAIL_FAIL","GET_CATEGORIES_REQUEST","GET_CATEGORIES_SUCCESS","GET_CATEGORIES_FAIL","apiUrl","JWT_AUTH","JWT_CHECK_TOKEN","SIGNUP","GET_PRODUCTS","getProductDetail","id","GET_SHOPS","getShopDetail","GET_CATEGORIES","logIn","username","password","axios","post","endpoints","then","response","status","Error","token","catch","err","Object","keys","localStorage","setItem","checkToken","logOut","removeItem","signUp","email","phone","checkAuth","getItem","group","indexOf","parseErrorData","errorObj","statusText","JSON","stringify","property","createUrlParamsFromFilters","filters","params","URLSearchParams","forEach","key","Array","append","map","value","get","url","method","api","put","AuthActions","call","ProductsActions","results","ShopsActions","root","authApi","AuthApi","productsApi","ProductsApi","shopsApi","ShopsApi","all","takeEvery","takeLatest","CHECK_AUTH_REQUEST","productsSaga","shopsSaga","reducers","combineReducers","auth","require","form","formReducer","CatButton","props","history","useHistory","catName","useParams","push","cat","name","classActive","className","onClick","category","ru_name","ShopsList","length","shop","href","aria-hidden","category_products","product","title","price","category_images","image","src","height","witdh","Main","this","Component","connect","notifications","dispatch","query","shopId","ProductTextBody","description","CatProductList","catProducts","i","images","thumb_image","ShopDetail","active_cat","match","delivery","routing","ShopActions","ShopForm","shopName","shopPhone","shopInfo","handleChange","bind","setState","e","target","type","placeholder","onChange","CreateShop","store","sagaMiddleware","createSagaMiddleware","createStore","composeWithDevTools","applyMiddleware","run","rootSaga","configureStore","ReactDOM","render","classname","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.f5281b5c.chunk.js","sourcesContent":["import { createReducer, createActions } from 'reduxsauce'\nimport Immutable from 'seamless-immutable'\n\n/* ------------- Types and Action Creators ------------- */\n\nconst { Types, Creators } = createActions({\n  loginRequest: ['data'],\n  loginSuccess: ['user'],\n  loginFailure: ['error'],\n\n  signupRequest: ['data'],\n  signupSuccess: ['user'],\n  signupFailure: ['error'],\n\n  logoutRequest: null,\n  logoutSuccess: null,\n  logoutFailure: ['error'],\n\n  checkTokenRequest: ['payload'],\n  checkTokenSuccess: ['payload'],\n  checkTokenFail: ['error'],\n\n  resetAuthErrors: null,\n\n  restorePasswordRequest: ['data'],\n  restorePasswordSuccess: null,\n  restorePasswordFailure: ['error'],\n\n  toggleModal: ['isAuthModalOpen'],\n  \n  checkAuthRequest: ['payload'],\n  checkAuthSuccess: ['payload'],\n  checkAuthFail: null\n})\n\nexport const AuthTypes = Types\nexport default Creators\n\n/* ------------- Initial State ------------- */\n\nexport const INITIAL_STATE = Immutable({\n  fetching: false,\n  user: null,\n  error: '',\n  isLoggedIn: false,\n  isLoggingIn: false\n})\n\n/* ------------- Selectors ------------- */\n\nexport const AuthSelectors = {\n  getUser: state => state.user\n}\n\n/* ------------- Reducers ------------- */\n\n// login request\nexport const loginRequest = (state, { data }) => {\n  return state.merge({ fetching: true, user: null, isLoggingIn: true, isLoggedIn: false })\n}\n  \n\n// login success\nexport const loginSuccess = (state, { user }) => {\n  return state.merge({ fetching: false, error: null, user: user, isLoggedIn: true, isLoggingIn: false })\n}\n\n// login fail\nexport const loginFailure = (state, action) => {\n  const { error } = action\n  return state.merge({ fetching: false, error: error, user: null, isLoggedIn: false, isLoggingIn: false })\n}\n\n// register request\nexport const signUpRequest = (state, { data }) =>\n  state.merge({ fetching: true, user: {}, isLoggingIn: true, isLoggedIn: false })\n\n// register success\nexport const signUpSuccess = (state, { user }) => {\n  return state.merge({ fetching: false, error: null, user: user, isLoggingIn: false, isLoggedIn: true  })\n}\n\n// register fail\nexport const signUpFailure = (state, { error }) => {\n  return state.merge({ fetching: false, error: error, user: null, isLoggingIn: false, isLoggedIn: false  })\n}\n\n// logout request\nexport const logoutRequest = (state) => {\n  return state.merge({ fetching: true, isLoggingIn: true })\n}\n  \n\n// logout success\nexport const logoutSuccess = (state) => {\n  return state.merge({ fetching: false, error: null, user: null, isLoggingIn: false, isLoggedIn: false  })\n}\n\n// logout fail\nexport const logoutFailure = (state, { error }) => {\n  return state.merge({ fetching: false, error: error, isLoggingIn: false })\n}\n\nexport const resetAuthErrors = (state) => {\n  return state.merge({ fetching: false, error: null })\n}\n\n// auth modal toggle \n\nexport const toggleModal = (state, { isAuthModalOpen }) => {\n  return state.merge({ isAuthModalOpen, error: null })\n}\n  \nexport const checkTokenRequest = (state, { payload }) => {\n  return state.merge({ fetching: true })\n}\n\nexport const checkTokenSuccess = (state, { payload }) => {\n  return state.merge({ fetching: false, error: null, user: payload.user, isLoggedIn: true, isLoggingIn: false })\n}\n\nexport const checkTokenFail = (state, { error }) => {\n  return state.merge({ fetching: false, error: error, user: null, isLoggedIn: false, isLoggingIn: false })\n}\n\nexport const checkAuthSuccess = (state, { payload }) => {\n  return state.merge({ user: payload, isLoggedIn: true, isLogginIn: false })\n}\n\n/* ------------- Hookup Reducers To Types ------------- */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.LOGIN_REQUEST]: loginRequest,\n  [Types.LOGIN_SUCCESS]: loginSuccess,\n  [Types.LOGIN_FAILURE]: loginFailure,\n  [Types.SIGNUP_REQUEST]: signUpRequest,\n  [Types.SIGNUP_SUCCESS]: signUpSuccess,\n  [Types.SIGNUP_FAILURE]: signUpFailure,\n  [Types.CHECK_TOKEN_REQUEST]: checkTokenRequest,\n  [Types.CHECK_TOKEN_FAIL]: checkTokenFail,\n  [Types.CHECK_TOKEN_SUCCESS]: checkTokenSuccess,\n  [Types.LOGOUT_REQUEST]: logoutRequest,\n  [Types.LOGOUT_SUCCESS]: logoutSuccess,\n  [Types.LOGOUT_FAILURE]: logoutFailure,\n  [Types.TOGGLE_MODAL]: toggleModal,\n  [Types.RESET_AUTH_ERRORS]: resetAuthErrors,\n  [Types.CHECK_AUTH_SUCCESS]: checkAuthSuccess\n})\n","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getShopsRequest: ['payload'],\r\n    getShopsFail: ['payload'],\r\n    getShopsSuccess: ['payload'],\r\n\r\n    getShopDetailRequest: ['payload'],\r\n    getShopDetailFail: ['error'],\r\n    getShopDetailSuccess: ['payload'],\r\n})\r\n\r\nexport const ShopsTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    shop_list: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    shopDetail: null,\r\n    errorDetail: null,\r\n\r\n    message: '',\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const ShopsSelectors = {\r\n    getShops: state => state.shops.shop_list,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get\r\nexport const getShopsRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, shop_list: [] })\r\n}\r\n\r\nexport const getShopsSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, shop_list: payload })\r\n}\r\n\r\nexport const getShopsFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, shop_list: [] })\r\n}\r\n\r\n// Get one\r\nexport const getShopDetailRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getShopDetailSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, shopDetail: payload,})\r\n}\r\n\r\nexport const getShopDetailFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, shopDetail: null })\r\n}\r\n\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_SHOPS_REQUEST]: getShopsRequest,\r\n    [Types.GET_SHOPS_SUCCESS]: getShopsSuccess,\r\n    [Types.GET_SHOPS_FAIL]: getShopsFail,\r\n\r\n    [Types.GET_SHOP_DETAIL_REQUEST]: getShopDetailRequest,\r\n    [Types.GET_SHOP_DETAIL_SUCCESS]: getShopDetailSuccess,\r\n    [Types.GET_SHOP_DETAIL_FAIL]: getShopDetailFail,\r\n})\r\n","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getProductsRequest: ['payload'],\r\n    getProductsFail: ['payload'],\r\n    getProductsSuccess: ['payload'],\r\n\r\n    getProductDetailRequest: ['payload'],\r\n    getProductDetailFail: ['error'],\r\n    getProductDetailSuccess: ['payload'],\r\n\r\n    getCategoriesRequest: ['payload'],\r\n    getCategoriesFail: ['payload'],\r\n    getCategoriesSuccess: ['payload'],\r\n})\r\n\r\nexport const ProductsTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    product_list: [],\r\n    categories: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    productDetail: null,\r\n    errorDetail: null,\r\n\r\n    message: '',\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const ProductsSelectors = {\r\n    getProducts: state => state.products.product_list,\r\n    getCategories: state => state.products.categories,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get products\r\nexport const getProductsRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, product_list: [] })\r\n}\r\n\r\nexport const getProductsSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, product_list: payload })\r\n}\r\n\r\nexport const getProductsFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, product_list: [] })\r\n}\r\n\r\n// Get one\r\nexport const getProductDetailRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getProductDetailSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, productDetail: payload,\r\n         tours_info: payload.tours_info})\r\n}\r\n\r\nexport const getProductDetailFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, productDetail: null })\r\n}\r\n\r\n// Get categories\r\nexport const getCategoriesRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, categories: [] })\r\n}\r\n\r\nexport const getCategoriesSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, categories: payload })\r\n}\r\n\r\nexport const getCategoriesFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, categories: [] })\r\n}\r\n\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_PRODUCTS_REQUEST]: getProductsRequest,\r\n    [Types.GET_PRODUCTS_SUCCESS]: getProductsSuccess,\r\n    [Types.GET_PRODUCTS_FAIL]: getProductsFail,\r\n\r\n    [Types.GET_PRODUCT_DETAIL_REQUEST]: getProductDetailRequest,\r\n    [Types.GET_PRODUCT_DETAIL_SUCCESS]: getProductDetailSuccess,\r\n    [Types.GET_PRODUCT_DETAIL_FAIL]: getProductDetailFail,\r\n\r\n    [Types.GET_CATEGORIES_REQUEST]: getCategoriesRequest,\r\n    [Types.GET_CATEGORIES_SUCCESS]: getCategoriesSuccess,\r\n    [Types.GET_CATEGORIES_FAIL]: getCategoriesFail,\r\n})\r\n","export const url = 'https://svoyaeda.su';\r\n// export const url = 'http://192.168.1.6';\r\n\r\nexport const apiUrl = `${url}/api`;\r\n\r\nexport default {\r\n    JWT_AUTH: `${apiUrl}/jwt/api-token-auth/`,\r\n    JWT_CHECK_TOKEN: `${apiUrl}/jwt/api-token-verify/`,\r\n    SIGNUP: `${apiUrl}/users/`,\r\n\r\n    // products\r\n    GET_PRODUCTS: `${apiUrl}/products/`,\r\n    getProductDetail: (id) => `${apiUrl}/products/${id}/`,\r\n\r\n    // shops\r\n    GET_SHOPS: `${apiUrl}/shops/`,\r\n    getShopDetail: (id) => `${apiUrl}/shops/${id}/`,\r\n\r\n    // categories\r\n    GET_CATEGORIES: `${apiUrl}/categories/`,\r\n}","// @flow\n\nimport axios from 'axios';\nimport endpoints from './endpoints';\n\n\nconst create = () => {\n  const logIn = (data: { username: string, password: string}): void => {\n    const { username, password } = data;\n    \n     return axios.post(endpoints.JWT_AUTH, { username, password })\n      .then(response => {\n        if (response.status < 200 || response.status >= 300) {\n            throw new Error(response);\n        }\n        return { token: response.data.token, user: response.data.user };\n      })\n      .catch(err => {\n        throw new Error(err.response.data[Object.keys(err.response.data)[0]][0])\n      })\n      .then((response) => {\n          localStorage.setItem('token', response.token);\n          return response.user;\n      })\n  }\n\n  const logOut = () => {\n    localStorage.removeItem('token');\n  }\n\n  const checkToken = (payload: string) => {\n    return axios.post(endpoints.JWT_CHECK_TOKEN, { token: payload })\n      .then(response => {\n        return { user: response.data.user }\n      })\n      .catch(err => {\n        throw new Error(err.response.data[Object.keys(err.response.data)[0]][0])\n      })\n  }\n\n  const signUp = (payload: { email: string, phone: string}) => {\n    const { email, phone } = payload;\n    return axios.post(endpoints.SIGNUP, { email, phone })\n      .then(response => {\n        return response.data\n      })\n      .catch(err => {\n        throw new Error(err.response.data[Object.keys(err.response.data)[0]])\n      })\n  }\n\n  const checkAuth = (payload: string ) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      throw new Error('Нет доступа')\n    }\n    return axios.post(endpoints.JWT_CHECK_TOKEN, { token })\n      .then(({ data }) => {\n        const { user } = data;\n        const { group } = user;\n\n        // TODO - in response group is number (id), must be a string\n        if (payload.indexOf(group) === -1) {\n          throw new Error('Нет доступа')\n        }\n        return user\n      })\n      .catch(err => {\n        throw new Error(err.message)\n      })\n  }\n\n  return {\n    logIn,\n    checkToken,\n    logOut,\n    signUp,\n    checkAuth\n  }\n}\n\nexport default {\n  create\n}","\n// standart serializer field error. There are could be several fields\n// {\n//     \"birth_id\": [\"This field is required.\"]\n// }\n\n\nexport const parseErrorData = (error) => {\n\n    if (error && typeof error.response !== 'undefined') {\n        let errorObj = {\n            status: error.response.status, \n            statusText: error.response.statusText,\n            message: null,\n            response: error.response,\n        }\n        if ('message' in error.response.data) {\n            errorObj.message = JSON.stringify(error.response.data.message)\n        }\n        else {\n            let message = ''\n            for (const property in error.response.data) {\n                message = message + `${property}: ${error.response.data[property]}. `\n              }\n            errorObj.message = message\n\n        }\n        return errorObj\n\n    } else {\n        return { \n         status: 'Connection Error',\n         statusText: 'An error occurred while sending your data!',\n         message: 'An error occurred while sending your data!' }\n    }\n}\n\nexport const createUrlParamsFromFilters = (filters) => {\n    const params = new URLSearchParams()\n\n    if (filters != null) Object.keys(filters).forEach(key => {\n            if (filters[key] !== null && !(filters[key] instanceof Array)) \n                params.append(key, filters[key])\n            if (filters[key] !== null && filters[key] instanceof Array){\n                delete params[key]\n                filters[key].map(value => {\n                    if (value !== '')\n                        params.append(key, value)\n                    return null\n                })\n            }\n        })\n    return params\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getCategories = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_CATEGORIES, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getProducts = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_PRODUCTS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getProductDetail = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getProductDetail(id);\r\n\r\n        return axios({\r\n                    method: 'get',\r\n                    url: url,\r\n                    // headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getProducts,\r\n        getProductDetail,\r\n        getCategories\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getShops = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_SHOPS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getShopDetail = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getShopDetail(id);\r\n\r\n        return axios({\r\n                    method: 'get',\r\n                    url: url,\r\n                    // headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getShops,\r\n        getShopDetail\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import { put, call } from 'redux-saga/effects';\r\n// import { push } from 'react-router-redux';\r\n// import Notifications from 'react-notification-system-redux';\r\n\r\nimport AuthActions from '../redux-sauce/auth'\r\n\r\nexport function * logIn (api, action) {\r\n  const { data } = action;\r\n  yield put(AuthActions.resetAuthErrors())\r\n  try {\r\n    let response = yield call(api.logIn, data)\r\n    yield put(AuthActions.loginSuccess(response))\r\n    yield put(AuthActions.toggleModal(false))\r\n  } catch (e) {\r\n    yield put(AuthActions.loginFailure(e.message))\r\n    // yield put(Notifications.error({ title: 'Ошибка', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function * signUp (api, action) {\r\n  const { data } = action\r\n  try {\r\n    let response = yield call(api.signUp, data);\r\n    yield put(AuthActions.signupSuccess(response));\r\n    // yield put(push('/'));\r\n  } catch (e) {\r\n    yield put(AuthActions.signupFailure(e.message))\r\n    // yield put(Notifications.error({ title: 'Ошибка', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function * logOut (api, action) {\r\n  try {\r\n    yield call(api.logOut)\r\n    yield put(AuthActions.logoutSuccess())\r\n  } catch (e) {\r\n    yield put(AuthActions.logoutFailure(e.message))\r\n    // yield put(Notifications.error({ title: 'Ошибка', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function* checkToken(api, action) {\r\n  const { payload } = action;\r\n  try {\r\n    let response = yield call(api.checkToken, payload);\r\n    yield put(AuthActions.checkTokenSuccess(response));\r\n  } catch (e) {\r\n    yield put(AuthActions.checkTokenFail(e.message))\r\n  }\r\n}\r\n\r\nexport function* checkAuth(api, action) {\r\n  const { payload } = action;\r\n  try {\r\n    const response = yield call(api.checkAuth, payload);\r\n    yield put(AuthActions.checkAuthSuccess(response));\r\n  } catch (e) {\r\n    // yield put(push('/'));\r\n    // yield put(Notifications.error({ title: 'Ошибка', message: e.message, position: 'tc' }));\r\n    yield put(AuthActions.checkAuthFail(e.message))\r\n  }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport ProductsActions from '../redux-sauce/products'\r\n\r\nexport function* getProducts(api, action) {\r\n    try {\r\n        let response = yield call(api.getProducts, action.payload);\r\n        yield put(ProductsActions.getProductsSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getProductsFail(err))\r\n    }\r\n}\r\n\r\nexport function* getProductDetail(api, action) {\r\n    try {\r\n        let response = yield call(api.getProductDetail, action.payload);\r\n        yield put(ProductsActions.getProductDetailSuccess(response));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getProductDetailFail(err))\r\n    }\r\n}\r\n\r\nexport function* getCategories(api, action) {\r\n    try {\r\n        let response = yield call(api.getCategories, action.payload);\r\n        yield put(ProductsActions.getCategoriesSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getCategoriesFail(err))\r\n    }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport ShopsActions from '../redux-sauce/shops'\r\n\r\nexport function* getShops(api, action) {\r\n    try {\r\n        let response = yield call(api.getShops, action.payload);\r\n        yield put(ShopsActions.getShopsSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ShopsActions.getShopsFail(err))\r\n    }\r\n}\r\n\r\nexport function* getShopDetail(api, action) {\r\n    try {\r\n        let response = yield call(api.getShopDetail, action.payload);\r\n        yield put(ShopsActions.getShopDetailSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.getShopDetailFail(err))\r\n    }\r\n}","import { takeEvery, all, takeLatest } from \"redux-saga/effects\";\r\n\r\n/* -------------- API -------------- */\r\nimport AuthApi from \"../api/authApi\";\r\nimport ProductsApi from '../api/productsApi';\r\nimport ShopsApi from '../api/shopsApi';\r\n\r\n/* ------------- Types ------------- */\r\nimport { AuthTypes } from \"../redux-sauce/auth\";\r\nimport { ProductsTypes } from '../redux-sauce/products';\r\nimport { ShopsTypes } from '../redux-sauce/shops';\r\n\r\n/* ------------- Sagas ------------- */\r\nimport { logIn, logOut, checkToken, signUp, checkAuth } from \"./authSagas\";\r\nimport * as productsSaga from './productsSagas';\r\nimport * as shopsSaga from './shopsSagas';\r\n\r\nconst authApi = AuthApi.create();\r\nconst productsApi = ProductsApi.create();\r\nconst shopsApi = ShopsApi.create();\r\n\r\nexport default function* root() {\r\n  yield all([\r\n    takeEvery(AuthTypes.LOGIN_REQUEST, logIn, authApi),\r\n    takeEvery(AuthTypes.SIGNUP_REQUEST, signUp, authApi),\r\n    takeEvery(AuthTypes.LOGOUT_REQUEST, logOut, authApi),\r\n    takeEvery(AuthTypes.CHECK_TOKEN_REQUEST, checkToken, authApi),\r\n    takeEvery(AuthTypes.SIGNUP_REQUEST, signUp, authApi),\r\n    takeLatest(AuthTypes.CHECK_AUTH_REQUEST, checkAuth, authApi),\r\n\r\n    takeEvery(ProductsTypes.GET_PRODUCTS_REQUEST, productsSaga.getProducts, productsApi),\r\n    takeEvery(ProductsTypes.GET_PRODUCT_DETAIL_REQUEST, productsSaga.getProductDetail, productsApi),\r\n    takeEvery(ProductsTypes.GET_CATEGORIES_REQUEST, productsSaga.getCategories, productsApi),\r\n\r\n    takeEvery(ShopsTypes.GET_SHOPS_REQUEST, shopsSaga.getShops, shopsApi),\r\n    takeEvery(ShopsTypes.GET_SHOP_DETAIL_REQUEST, shopsSaga.getShopDetail, shopsApi),\r\n  ]);\r\n}\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n// import { routerMiddleware, routerReducer } from 'react-router-redux'\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootSaga from '../sagas';\r\n// import { reducer as notifications } from 'react-notification-system-redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nexport const reducers = combineReducers({\r\n  // routing: routerReducer,\r\n  auth: require('../redux-sauce/auth').reducer,\r\n  products: require('../redux-sauce/products').reducer,\r\n  shops: require('../redux-sauce/shops').reducer,\r\n  \r\n  form: formReducer,\r\n  // notifications: notifications\r\n})\r\n\r\nexport default (history) => {\r\n  // const rMiddleware = routerMiddleware(history)\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const store = createStore(reducers, composeWithDevTools(\r\n    applyMiddleware(sagaMiddleware)\r\n  ));\r\n\r\n  let sagasManager = sagaMiddleware.run(rootSaga)\r\n\r\n  if (module.hot) {\r\n    module.hot.accept(() => {\r\n      const nextRootReducer = require('./').reducers\r\n      store.replaceReducer(nextRootReducer)\r\n\r\n      const newYieldedSagas = require('../sagas').default\r\n      sagasManager.cancel()\r\n      sagasManager.done.then(() => {\r\n        sagasManager = sagaMiddleware.run(newYieldedSagas)\r\n      })\r\n    })\r\n  }\r\n\r\n  return store\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport { url } from '../redux/api/endpoints';\r\n\r\n// actions\r\nimport ProductsActions from '../redux/redux-sauce/products';\r\nimport ShopsActions from '../redux/redux-sauce/shops';\r\n\r\n\r\nfunction CatButton(props) {\r\n  let history = useHistory();\r\n  const { catName } = useParams();\r\n\r\n  if (!catName){\r\n    history.push(\"/dm/categories/\" + props.cat.name);\r\n  }\r\n\r\n  const classActive = catName == props.cat.name ? 'btn-category-active' : ''\r\n\r\n  function handleClick() {\r\n    history.push(\"/dm/categories/\" + props.cat.name);\r\n    props.getShops({category: props.cat.name})\r\n  }\r\n\r\n  return (\r\n    <div className={'btn-category ' + classActive}>\r\n      <span className='category-name' \r\n        onClick={handleClick}>\r\n          {props.cat.ru_name}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ShopsList(props) {\r\n  const { catName } = useParams();\r\n  const { shop_list, listFetching, errorList } = props\r\n\r\n  if (catName && shop_list.length <= 0 && !listFetching && !errorList) {\r\n    props.getShops({category: catName})\r\n  }\r\n\r\n  return (\r\n    !listFetching && shop_list && shop_list.length > 0 && shop_list.map(shop => \r\n      <div className='item-shop'>\r\n        <div className='row'>\r\n          <div className='col-8 shop-name'>\r\n            <a href={'http://192.168.1.3:3000/dm/shops/' + shop.id + '/products/' + catName}>\r\n              {shop.name}</a>\r\n          </div>\r\n          <div className='col-4 shop-ratings'>\r\n            <div className='row'>\r\n              <div className='col-6 shop-stars'>\r\n                <i className=\"fa fa-star-o\" aria-hidden=\"true\"></i> 4,5\r\n              </div>\r\n              <div className='col-6 shop-feedbacks-count'>\r\n                <i className=\"fa fa-comment-o\" aria-hidden=\"true\"></i> 7\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-7'>\r\n            {shop.category_products && shop.category_products.length > 0 && shop.category_products.map(product => \r\n              <div className='item-product'>\r\n                  <p className='item-product-title'>{product.title} - {product.price}</p>\r\n              </div>\r\n              )}\r\n          </div>\r\n          <div className='col-5'>\r\n              {shop.category_products && shop.category_images.map(image =>\r\n                  <img src={url + image} className='item-product-img'\r\n                  height='70' witdh='70'/>\r\n              )} \r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getCategories()\r\n  }\r\n\r\n  render() {\r\n    const { categories } = this.props.state.products\r\n    const { shop_list, listFetching, errorList } = this.props.state.shops\r\n\r\n    return (\r\n      // <div className=\"app\">\r\n        <div className='container-fluid block-main'>\r\n          <div className='block-content'>\r\n            <div className='shop-list'>\r\n              <div className='block-categories'>\r\n                {categories && categories.map(cat =>\r\n                  <CatButton cat={cat} getShops={this.props.getShops}/>\r\n                )}\r\n                <div className='clearfix'></div>\r\n              </div>\r\n\r\n              <div className='block-shops'>\r\n                <ShopsList shop_list={shop_list} listFetching={listFetching} getShops={this.props.getShops}\r\n                  errorList={errorList}/>\r\n              </div>\r\n            </div>\r\n         </div>\r\n        </div>\r\n      // </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  notifications: state.notifications,\r\n  state: state\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getCategories: query => dispatch(ProductsActions.getCategoriesRequest(query)),\r\n  getShops: query => dispatch(ShopsActions.getShopsRequest(query)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Main);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\n\r\nimport { url } from '../redux/api/endpoints';\r\n// actions\r\nimport ShopActions from '../redux/redux-sauce/shops';\r\n\r\n\r\nfunction ToShopListButton() {\r\n  let history = useHistory();\r\n  const { catName } = useParams();\r\n\r\n  function handleClick() {\r\n    history.push(`/dm/${catName}`)\r\n  }\r\n\r\n  return (\r\n    <div className='btn-category '\r\n        onClick={handleClick}>\r\n          назад к продавцам\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CatButton(props) {\r\n  let history = useHistory();\r\n  const { catName, shopId } = useParams();\r\n  const { cat } = props\r\n\r\n  const classActive = catName == cat[0] ? 'btn-category-active' : ''\r\n\r\n  function handleClick() {\r\n    history.push(\"/dm/shops/\" + shopId + '/products/' + cat[0] + '/')\r\n  }\r\n\r\n  return (\r\n    <div className={'btn-category ' + classActive}>\r\n      <span className='category-name' \r\n        onClick={handleClick}>\r\n          {cat[1]}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductTextBody(props) {\r\n  return (\r\n    <div className='shop-product-text-body'>\r\n      <div className='shop-product-title'>{props.product.title}</div>\r\n      <div className='shop-product-description'>{props.product.description}</div>\r\n      <div className='shop-product-price'>{props.product.price}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CatProductList(props) {\r\n  const { catName } = useParams();\r\n  const { products } = props\r\n  let catProducts = []\r\n\r\n  if (catName && products.length > 0) {\r\n    for (var i = 0; i < products.length; i++){\r\n      if (products[i].category === catName){\r\n        catProducts = [...catProducts, products[i]]\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='shop-products'>\r\n      {catProducts.map(product => \r\n        <div className='shop-product'>\r\n          {product.images.length > 0 ? \r\n            <div className='row'>\r\n              <div className='col-8'>\r\n                <ProductTextBody product={product} />\r\n              </div>\r\n              <div className='col-4'>\r\n                  <img src={url + product.images[0].thumb_image} height='70' witdh='70'/>\r\n              </div>\r\n            </div>\r\n            :\r\n            <ProductTextBody product={product} />\r\n            }\r\n            \r\n        </div>\r\n        )}\r\n    </div>\r\n  )}\r\n\r\n\r\nclass ShopDetail extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      catProducts: [],\r\n      active_cat: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { shopId } = this.props.match.params\r\n    this.props.getShopDetail(shopId)\r\n  }\r\n\r\n  render() {\r\n    const { shopDetail } = this.props.state.shops\r\n    return (\r\n        shopDetail && \r\n          <div className='container-fluid shop-detail'>\r\n            {/* <ToShopListButton /> */}\r\n            <div className='shop-header'>\r\n              <div className='row'>\r\n                <div className='col-9 shop-title'>\r\n                  {shopDetail.name}\r\n                </div>\r\n                <div className='col-3 shop-ratings'>\r\n                  <i className=\"fa fa-commenting-o\" aria-hidden=\"true\"> </i> {' '}\r\n                  17 отзывов\r\n                </div>\r\n              </div>\r\n              <div className='shop-descrtiption'>\r\n                {shopDetail.description}\r\n              </div>\r\n              <div className='row'>\r\n                <div className='col-8 shop-delivery'>\r\n                  {shopDetail.delivery}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='shop-categories'>\r\n              {shopDetail.categories.map(cat => \r\n                <CatButton cat={cat}/>\r\n              )}\r\n              <div className='clearfix'></div>\r\n            </div>\r\n            <CatProductList products={shopDetail.products} />\r\n          </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  routing: state.routing,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShopDetail: id => dispatch(ShopActions.getShopDetailRequest(id)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ShopDetail);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom'\r\n\r\nimport { url } from '../redux/api/endpoints';\r\n// actions\r\nimport ShopActions from '../redux/redux-sauce/shops';\r\n\r\n\r\nexport class ShopForm extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      shopName: '',\r\n      shopPhone: '',\r\n      shopInfo: '',\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  componentDidMount (){\r\n    this.setState({\r\n      ...this.state,\r\n      shopName: this.props.shopName,\r\n      shopPhone: this.props.shopPhone,\r\n      shopInfo: this.props.shopInfo,\r\n    })\r\n  }\r\n\r\n  handleChange(e){\r\n    this.setState({\r\n      ...this.state,\r\n      [e.target.name]: [e.target.value]\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='shop-create-form'>\r\n        <div className='input-group'>\r\n          <input className='form-control' type='text' placeholder='Название магазина'\r\n            value={this.state.shopName}\r\n            name='shopName'\r\n            onChange={this.handleChange}/>\r\n        </div>\r\n        <div className='input-group'>\r\n          <input className='form-control' type='number' placeholder='Телефон' \r\n            value={this.state.shopPhone}\r\n            name='shopPhone'\r\n            onChange={this.handleChange}/>\r\n        </div>\r\n        <div className='input-group'>\r\n          <textarea className='form-control' type='text' placeholder='Доп. информация(необязательно)' \r\n            value={this.state.shopInfo}\r\n            name='shopInfo'\r\n            onChange={this.handleChange}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass CreateShop extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='container-fluid shop-create'>\r\n        <p>Создание магазина(уже авторизованный пользователь)</p>\r\n        <ShopForm shopName={''} shopPhone={''} shopInfo={''}/>\r\n\r\n        <div className='shop-create-form'>\r\n          <p>Что продаете?</p>\r\n          <div className='input-group'>\r\n            <input type='text' className='form-control' \r\n              placeholder='буузы, стегно верблюда, мешок картошки, банку икры и тд.' />\r\n          </div>\r\n          <div className='input-group'>\r\n            <label> Категория\r\n              <select className='form-control'>\r\n                <option>Полуфабрикаты</option>\r\n                <option>Мясо</option>\r\n                <option>Рыба</option>\r\n                <option>Выпечка</option>\r\n              </select>\r\n            </label>\r\n          </div>\r\n          <div className='input-group'>\r\n            <input type='text' className='form-control' placeholder='30р/шт, 10р/кг, 10р/л и тд.' />\r\n          </div>\r\n          <div className='input-group'>\r\n            <textarea type='text' className='form-control' placeholder='Доп. информация(необязательно)' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  routing: state.routing,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShopDetail: id => dispatch(ShopActions.getShopDetailRequest(id)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateShop);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import { browserHistory } from 'react-router';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n} from \"react-router-dom\";\r\n\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './redux/store/';\r\n\r\n// Containers\r\nimport Main from './containers/Main'\r\nimport ShopDetail from './containers/ShopDetail'\r\nimport CreateShop from './containers/CreateShop'\r\n\r\n// components\r\nimport MainPage from './components/MainPage'\r\n\r\n// const store = configureStore(browserHistory)\r\nconst store = configureStore()\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <div classname='app'>\r\n        <div className='header'>\r\n          <p className='head-title'>Домашняя продукция</p>\r\n          <hr/>\r\n        </div>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Main />\r\n          </Route>\r\n          <Route exact path=\"/dm/categories/:catName/\">\r\n            <Main />\r\n          </Route>\r\n          <Route path=\"/dm/shops/:shopId/products/:catName\" component={ShopDetail} />\r\n          <Route path=\"/dm/shops/create/\" component={CreateShop} />\r\n        </Switch>\r\n        <div className='footer'>\r\n          <p className='foot-title'>Домашняя продукция</p>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  </Provider>, document.getElementById('root')\r\n);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router';\r\n\r\n\r\nclass MainPage extends Component {\r\n   constructor(props) {\r\n    super(props);\r\n  }\r\n  \r\n  render() {\r\n    \r\n    return (\r\n        <div className='main-page container-fluid'>\r\n          <h1>Домашняя продукция</h1>\r\n          <div className=\"row\">\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MainPage"],"sourceRoot":""}