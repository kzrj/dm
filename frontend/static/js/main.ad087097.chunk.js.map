{"version":3,"sources":["redux/redux-sauce/feedbacks.js","redux/redux-sauce/auth.js","redux/redux-sauce/products.js","redux/api/endpoints.js","redux/api/utils.js","redux/api/authApi.js","redux/api/productsApi.js","redux/api/shopsApi.js","redux/api/feedbacksApi.js","redux/sagas/authSagas.js","redux/sagas/productsSagas.js","redux/sagas/shopsSagas.js","redux/sagas/feedbacksSagas.js","redux/sagas/index.js","redux/store/index.js","components/Photos.js","containers/Main.js","components/ShopForms.js","components/RestForms.js","containers/MainCats.js","components/Feedbacks.js","containers/ShopDetail.js","components/ProductForms.js","containers/ShopCabinet.js","containers/ViberLogin.js","containers/HeaderContainer.js","index.js","components/utils.js","redux/redux-sauce/shops.js"],"names":["createActions","getFeedbacksRequest","getFeedbacksFail","getFeedbacksSuccess","createFeedbackRequest","createFeedbackFail","createFeedbackSuccess","updateFeedbackRequest","updateFeedbackFail","updateFeedbackSuccess","deleteFeedbackRequest","deleteFeedbackFail","deleteFeedbackSuccess","createSuggestionRequest","createSuggestionFail","createSuggestionSuccess","Types","Creators","FeedbacksTypes","INITIAL_STATE","Immutable","listFetching","eventFetching","feedback_list","categories","errorList","detailFetching","feedbackDetail","errorDetail","errorEvent","message","suggMessage","FeedbacksSelectors","getFeedbacks","state","feedbacks","getCategories","payload","merge","feedbackInList","getObjectbyId","id","index","indexOf","slice","reducer","createReducer","GET_FEEDBACKS_REQUEST","GET_FEEDBACKS_SUCCESS","GET_FEEDBACKS_FAIL","CREATE_FEEDBACK_REQUEST","CREATE_FEEDBACK_SUCCESS","CREATE_FEEDBACK_FAIL","UPDATE_FEEDBACK_REQUEST","UPDATE_FEEDBACK_SUCCESS","UPDATE_FEEDBACK_FAIL","DELETE_FEEDBACK_REQUEST","DELETE_FEEDBACK_SUCCESS","DELETE_FEEDBACK_FAIL","CREATE_SUGGESTION_REQUEST","CREATE_SUGGESTION_SUCCESS","CREATE_SUGGESTION_FAIL","loginRequest","loginSuccess","loginFailure","logoutRequest","logoutSuccess","logoutFailure","checkTokenRequest","checkTokenSuccess","checkTokenFail","partialUpdateUserRequest","partialUpdateUserFail","partialUpdateUserSuccess","AuthTypes","fetching","user","error","isLoggedIn","isLoggingIn","AuthSelectors","getUser","login","profile","action","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","CHECK_TOKEN_REQUEST","CHECK_TOKEN_FAIL","CHECK_TOKEN_SUCCESS","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAILURE","PARTIAL_UPDATE_USER_REQUEST","PARTIAL_UPDATE_USER_SUCCESS","PARTIAL_UPDATE_USER_FAIL","getProductsRequest","getProductsFail","getProductsSuccess","getProductDetailRequest","getProductDetailFail","getProductDetailSuccess","getCategoriesRequest","getCategoriesFail","getCategoriesSuccess","ProductsTypes","product_list","productDetail","ProductsSelectors","getProducts","products","tours_info","GET_PRODUCTS_REQUEST","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCT_DETAIL_REQUEST","GET_PRODUCT_DETAIL_SUCCESS","GET_PRODUCT_DETAIL_FAIL","GET_CATEGORIES_REQUEST","GET_CATEGORIES_SUCCESS","GET_CATEGORIES_FAIL","url","apiUrl","JWT_AUTH","JWT_CHECK_TOKEN","updateUser","GET_PRODUCTS","getProductDetail","addProductImage","deleteProductImage","GET_SHOPS","getShopDetail","updateShop","likeShop","GET_CATEGORIES","FEEDBACKS","feedback","SUGGS","parseErrorData","response","errorObj","status","statusText","data","JSON","stringify","property","createUrlParamsFromFilters","filters","params","URLSearchParams","Object","keys","forEach","key","Array","append","map","value","logIn","username","password","endpoints","formData","FormData","axios","method","headers","then","localStorage","setItem","token","catch","err","Error","checkToken","post","logOut","removeItem","partialUpdateUser","nickname","getItem","get","createProduct","title","price","description","category","partialUpdateProduct","active","deleteProduct","original","image","getShops","createShop","name","phone","delivery","profile_id","console","log","createFeedback","shop","rel_feedback","text","updateFeedback","deleteFeedback","createSuggestion","api","call","put","AuthActions","ShopsActions","getShopOwnSuccess","ProductsActions","results","getShopsSuccess","getShopsFail","getShopDetailSuccess","getShopDetailFail","createShopSuccess","createShopFail","updateShopSuccess","updateShopFail","createProductSuccess","createProductFail","partialUpdateProductSuccess","partialUpdateProductFail","deleteProductSuccess","deleteProductFail","addProductImageSuccess","addProductImageFail","deleteProductImageSuccess","deleteProductImageFail","likeShopSuccess","likeShopFail","FeedbacksActions","addToFeedbacksList","removeFromFeedbacksList","root","authApi","AuthApi","productsApi","ProductsApi","shopsApi","ShopsApi","feedbacksApi","FeedbacksApi","all","takeEvery","productsSaga","ShopsTypes","GET_SHOPS_REQUEST","shopsSaga","GET_SHOP_DETAIL_REQUEST","CREATE_SHOP_REQUEST","UPDATE_SHOP_REQUEST","LIKE_SHOP_REQUEST","CREATE_PRODUCT_REQUEST","PARTIAL_UPDATE_PRODUCT_REQUEST","DELETE_PRODUCT_REQUEST","ADD_PRODUCT_IMAGE_REQUEST","DELETE_PRODUCT_IMAGE_REQUEST","feedbacksSaga","reducers","combineReducers","auth","require","shops","form","formReducer","AllPhotoGallery","props","length","fullscreenButton","shareButton","className","product","images","img","catalog_image","thumbnail","thumb_image","width","cat_width","height","cat_height","ref","open","onClick","src","CatButtonComp","cat","handleClick","data-id","ru_name","style","ShopsList","catName","useParams","shop_list","to","aria-hidden","likes_list","feedbacks_list","lineHeight","category_products","cat_images_cnt","Main","this","match","category_last_active","CircularProgress","Component","connect","notifications","routing","dispatch","query","getShopsRequest","renderTextField","label","placeholder","input","multiline","meta","touched","invalid","labelClass","custom","formClass","TextField","helperText","InputLabelProps","MySelect","styled","Select","verticalAlign","fontSize","renderSelectField","selectClass","children","FormControl","InputLabel","FormHelperText","renderFromHelper","validateShopForm","values","errors","field","ShopForm","useState","Field","component","type","variant","rowsMax","hidden","InitShopForm","parentSubmit","pristine","submitting","reset","handleSubmit","initialValues","onSubmit","disabled","EditShopForm","setEdit","socials","FeedbackCreateForm","FeedbackEditForm","setEditOnOff","SuggestionForm","reduxForm","validate","history","useHistory","push","MainCats","createSug","bind","createSugg","suggestionForm","class","Feedback","OwnFeedback","editOnOff","edit","delete","Feedbacks","shop_id","user_id","whoFeedbackList","showFeed","isFeedback","includes","fb","editFeedback","CatButton","shopId","classActive","CatProductList2","lWidth","window","screen","catProducts","i","flexGrow","borderBottom","ViberBlock","shopDetail","viberIconSrc","re_phone","replace","href","ShopDetail","active_cat","showFeedbacks","openFeedbacks","feedbackCreateForm","setState","feedbackEditForm","likeClass","whiteSpace","whoLikeList","ShopActions","getShopDetailRequest","likeShopRequest","ProductForm","CreateProductForm","validateProductForm","UpdateProductForm","clickEdit","ProductContent","btnClass","ru_category","clickActive","data-active","ProductEdit","editId","clickEditDone","onChange","data-product-id","ProductsEdit","editList","needToRefresh","e","target","dataset","submitUpdateProduct","submitActivateProduct","files","productId","clickDelete","SocLink","iconClass","shortLink","soc","link_type","link","split","ShopInfoEditable","createNewProduct","setCNP","cardClass","createProductSubmit","all_products","ShopCabinet","submitCreateShop","submitUpdateShop","submitCreateProduct","editShopForm","initShopForm","createProductForm","updateProduct","updateProductForm","shopOwn","createShopRequest","updateShopRequest","createProductRequest","partialUpdateProductRequest","deleteProductRequest","addProductImageRequest","deleteProductImageRequest","ViberAuthenticationComponent","access","useStyles","makeStyles","theme","paper","position","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","Body","classes","HeaderTitle","pathname","useLocation","Header","modalOpen","login2","handleOpen","handleClose","Modal","onClose","aria-labelledby","aria-describedby","logout","store","sagaMiddleware","createSagaMiddleware","createStore","composeWithDevTools","applyMiddleware","run","rootSaga","configureStore","ReactDOM","render","exact","path","document","getElementById","lodashToggle","array","item","_","xor","list","obj","element","getShopOwnRequest","getShopOwnFail","eventError","ShopsSelectors","productInList","GET_SHOPS_SUCCESS","GET_SHOPS_FAIL","GET_SHOP_DETAIL_SUCCESS","GET_SHOP_DETAIL_FAIL","GET_SHOP_OWN_REQUEST","GET_SHOP_OWN_SUCCESS","GET_SHOP_OWN_FAIL","CREATE_SHOP_SUCCESS","CREATE_SHOP_FAIL","UPDATE_SHOP_SUCCESS","UPDATE_SHOP_FAIL","CREATE_PRODUCT_SUCCESS","CREATE_PRODUCT_FAIL","PARTIAL_UPDATE_PRODUCT_SUCCESS","PARTIAL_UPDATE_PRODUCT_FAIL","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAIL","ADD_PRODUCT_IMAGE_SUCCESS","ADD_PRODUCT_IMAGE_FAIL","DELETE_PRODUCT_IMAGE_SUCCESS","DELETE_PRODUCT_IMAGE_FAIL","ADD_TO_FEEDBACKS_LIST","REMOVE_FROM_FEEDBACKS_LIST","LIKE_SHOP_SUCCESS","LIKE_SHOP_FAIL"],"mappings":"2mCAM4BA,wBAAc,CACtCC,oBAAqB,CAAC,WACtBC,iBAAkB,CAAC,WACnBC,oBAAqB,CAAC,WAEtBC,sBAAuB,CAAC,WACxBC,mBAAoB,CAAC,WACrBC,sBAAuB,CAAC,WAExBC,sBAAuB,CAAC,WACxBC,mBAAoB,CAAC,WACrBC,sBAAuB,CAAC,WAExBC,sBAAuB,CAAC,WACxBC,mBAAoB,CAAC,WACrBC,sBAAuB,CAAC,WAExBC,wBAAyB,CAAC,WAC1BC,qBAAsB,CAAC,WACvBC,wBAAyB,CAAC,aAnBtBC,E,EAAAA,MAAOC,E,EAAAA,SAsBFC,EAAiBF,EACfC,YAIR,IAAME,EAAgBC,IAAU,CACnCC,cAAc,EACdC,eAAe,EAEfC,cAAe,GACfC,WAAY,GACZC,UAAW,KAEXC,eAAgB,KAChBC,eAAgB,KAChBC,YAAa,KAEbC,WAAY,KAEZC,QAAS,GACTC,YAAa,KAKJC,EAAqB,CAC9BC,aAAc,SAAAC,GAAK,OAAIA,EAAMC,UAAUZ,eACvCa,cAAe,SAAAF,GAAK,OAAIA,EAAMC,UAAUX,aAM/BvB,EAAsB,SAACiC,EAAD,GAAwB,EAAdG,QACzC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAME,cAAe,MAG/CpB,EAAsB,SAAC+B,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACzC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAW,KAAMF,cAAec,KAGjEnC,EAAmB,SAACgC,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACtC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAUY,EAASd,cAAe,MAInEnB,EAAwB,SAAC8B,EAAD,GAAwB,EAAdG,QAC3C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,KAG3BhB,EAAwB,SAAC4B,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC3C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOO,WAAY,KAAMC,QAASO,EAAQP,WAGrEzB,EAAqB,SAAC6B,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACxC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOO,WAAYQ,KAI9C9B,EAAwB,SAAC2B,EAAD,GAAwB,EAAdG,QAC3C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1CrB,EAAwB,SAACyB,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACrCE,EAAiBC,YAAcN,EAAMX,cAAec,EAAQI,IAC5DC,EAAQR,EAAMX,cAAcoB,QAAQJ,GAC1C,OAAOL,EAAMI,MAAM,CACfhB,eAAe,EACfO,WAAY,KACZN,cAAc,GAAD,mBACNW,EAAMX,cAAcqB,MAAM,EAAGF,IADvB,CAETL,GAFS,YAGNH,EAAMX,cAAcqB,MAAMF,EAAQ,QAKpClC,EAAqB,SAAC0B,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACxC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOO,WAAYQ,EAASP,QAAS,MAIhEpB,EAAwB,SAACwB,EAAD,GAAwB,EAAdG,QAC3C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1ClB,EAAwB,SAACsB,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACrCE,EAAiBC,YAAcN,EAAMX,cAAec,EAAQI,IAC5DC,EAAQR,EAAMX,cAAcoB,QAAQJ,GAC1C,OAAOL,EAAMI,MAAM,CACfhB,eAAe,EACfO,WAAY,KACZN,cAAc,GAAD,mBACNW,EAAMX,cAAcqB,MAAM,EAAGF,IADvB,YAENR,EAAMX,cAAcqB,MAAMF,EAAQ,QAKpC/B,EAAqB,SAACuB,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACxC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOO,WAAYQ,EAASN,YAAa,MAIpElB,EAA0B,SAACqB,EAAD,GAAwB,EAAdG,QAC7C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,KAG3BP,EAA0B,SAACmB,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC7C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOO,WAAY,KAAME,YAAaM,EAAQP,WAGzEhB,EAAuB,SAACoB,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC1C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOO,WAAYQ,KAK9CQ,EAAUC,wBAAc3B,GAAD,mBAC/BH,EAAM+B,sBAAwB9C,GADC,cAE/Be,EAAMgC,sBAAwB7C,GAFC,cAG/Ba,EAAMiC,mBAAqB/C,GAHI,cAK/Bc,EAAMkC,wBAA0B9C,GALD,cAM/BY,EAAMmC,wBAA0B7C,GAND,cAO/BU,EAAMoC,qBAAuB/C,GAPE,cAS/BW,EAAMqC,wBAA0B9C,GATD,cAU/BS,EAAMsC,wBAA0B7C,GAVD,cAW/BO,EAAMuC,qBAAuB/C,GAXE,cAa/BQ,EAAMwC,wBAA0B9C,GAbD,cAc/BM,EAAMyC,wBAA0B7C,GAdD,cAe/BI,EAAM0C,qBAAuB/C,GAfE,cAiB/BK,EAAM2C,0BAA4B9C,GAjBH,cAkB/BG,EAAM4C,0BAA4B7C,GAlBH,cAmB/BC,EAAM6C,uBAAyB/C,GAnBA,K,+2BC7IRd,wBAAc,CACxC8D,aAAc,CAAC,WACfC,aAAc,CAAC,WACfC,aAAc,CAAC,WAEfC,cAAe,KACfC,cAAe,KACfC,cAAe,CAAC,SAEhBC,kBAAmB,CAAC,WACpBC,kBAAmB,CAAC,WACpBC,eAAgB,CAAC,SAEjBC,yBAA0B,CAAC,WAC3BC,sBAAuB,CAAC,WACxBC,yBAA0B,CAAC,aAfrBzD,E,EAAAA,MAAOC,E,EAAAA,SAkBFyD,EAAY1D,EACVC,YAIR,IAAME,EAAgBC,IAAU,CACrCuD,UAAU,EACVC,KAAM,KACNC,MAAO,GACPC,YAAY,EACZC,aAAa,IAKFC,EAAgB,CAC3BC,QAAS,SAAA/C,GAAK,OAAIA,EAAM0C,MACxBM,MAAO,SAAAhD,GAAK,OAAIA,EAAM0C,OAMXd,EAAe,SAAC5B,EAAD,GAAwB,EAAdG,QACpC,OAAOH,EAAMI,MAAM,CAAEqC,UAAU,EAAMC,KAAM,KAAMG,aAAa,EAAMD,YAAY,KAKrEf,EAAe,SAAC7B,EAAD,GAA+B,IAArBG,EAAoB,EAApBA,QAAoB,EAAXuC,KAC7C,OAAO1C,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAO,KAAMD,KAAMvC,EAAQ8C,QAASL,YAAY,EAAMC,aAAa,KAI9Ff,EAAe,SAAC9B,EAAOkD,GAAY,IACtCP,EAAUO,EAAVP,MACR,OAAO3C,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAOA,EAAOD,KAAM,KAAME,YAAY,EAAOC,aAAa,KAKrFd,EAAgB,SAAC/B,GAC5B,OAAOA,EAAMI,MAAM,CAAEqC,UAAU,EAAMI,aAAa,KAGvCb,EAAgB,SAAChC,GAC5B,OAAOA,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAO,KAAMD,KAAM,KAAMG,aAAa,EAAOD,YAAY,KAGpFX,EAAgB,SAACjC,EAAD,GAAuB,IAAb2C,EAAY,EAAZA,MACrC,OAAO3C,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAOA,EAAOE,aAAa,KAGtDX,EAAoB,SAAClC,EAAD,GAAwB,EAAdG,QACzC,OAAOH,EAAMI,MAAM,CAAEqC,UAAU,KAGpBN,EAAoB,SAACnC,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACzC,OAAOH,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAO,KAAMD,KAAMvC,EAAQ8C,QAASL,YAAY,EAAMC,aAAa,KAG9FT,EAAiB,SAACpC,EAAD,GAAuB,IAAb2C,EAAY,EAAZA,MACtC,OAAO3C,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAOA,EAAOD,KAAM,KAAME,YAAY,EAAOC,aAAa,KAIrFR,EAA2B,SAACrC,EAAD,GAAwB,EAAdG,QAChD,OAAOH,EAAMI,MAAM,CAAEqC,UAAU,EAAM7C,QAAS,MAGnC2C,EAA2B,SAACvC,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAChD,OAAOH,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAO,KAAMD,KAAMvC,EAAQ8C,WAGtDX,EAAwB,SAACtC,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC7C,OAAOH,EAAMI,MAAM,CAAEqC,UAAU,EAAOE,MAAOxC,EAASP,QAAS,MAKpDe,EAAUC,wBAAc3B,GAAD,mBACjCH,EAAMqE,cAAgBvB,GADW,cAEjC9C,EAAMsE,cAAgBvB,GAFW,cAGjC/C,EAAMuE,cAAgBvB,GAHW,cAKjChD,EAAMwE,oBAAsBpB,GALK,cAMjCpD,EAAMyE,iBAAmBnB,GANQ,cAOjCtD,EAAM0E,oBAAsBrB,GAPK,cASjCrD,EAAM2E,eAAiB1B,GATU,cAUjCjD,EAAM4E,eAAiB1B,GAVU,cAWjClD,EAAM6E,eAAiB1B,GAXU,cAajCnD,EAAM8E,4BAA8BvB,GAbH,cAcjCvD,EAAM+E,4BAA8BtB,GAdH,cAejCzD,EAAMgF,yBAA2BxB,GAfA,K,4tBClGRxE,wBAAc,CACtCiG,mBAAoB,CAAC,WACrBC,gBAAiB,CAAC,WAClBC,mBAAoB,CAAC,WAErBC,wBAAyB,CAAC,WAC1BC,qBAAsB,CAAC,SACvBC,wBAAyB,CAAC,WAE1BC,qBAAsB,CAAC,WACvBC,kBAAmB,CAAC,WACpBC,qBAAsB,CAAC,aAXnBzF,E,EAAAA,MAAOC,E,EAAAA,SAeFyF,EAAgB1F,EACdC,YAIR,IAAME,EAAgBC,IAAU,CACnCC,cAAc,EACdsF,aAAc,GACdnF,WAAY,GACZC,UAAW,KAEXC,eAAgB,KAChBkF,cAAe,KACfhF,YAAa,KAEbE,QAAS,KAKA+E,EAAoB,CAC7BC,YAAa,SAAA5E,GAAK,OAAIA,EAAM6E,SAASJ,cACrCvE,cAAe,SAAAF,GAAK,OAAIA,EAAM6E,SAASvF,aAM9ByE,EAAqB,SAAC/D,EAAD,GAAwB,EAAdG,QACxC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAMsF,aAAc,MAG9CR,EAAqB,SAACjE,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACxC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAW,KAAMkF,aAActE,KAGhE6D,EAAkB,SAAChE,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACrC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAUY,EAASsE,aAAc,MAIlEP,EAA0B,SAAClE,EAAD,GAAwB,EAAdG,QAC7C,OAAOH,EAAMI,MAAM,CAAEZ,gBAAgB,KAG5B4E,EAA0B,SAACpE,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC7C,OAAOH,EAAMI,MAAM,CAAEZ,gBAAgB,EAAOE,YAAa,KAAMgF,cAAevE,EACzE2E,WAAY3E,EAAQ2E,cAGhBX,EAAuB,SAACnE,EAAD,GAAuB,IAAb2C,EAAY,EAAZA,MAC1C,OAAO3C,EAAMI,MAAM,CAAEZ,gBAAgB,EAAOE,YAAaiD,EAAO+B,cAAe,QAItEL,EAAuB,SAACrE,EAAD,GAAwB,EAAdG,QAC1C,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAMG,WAAY,MAG5CiF,EAAuB,SAACvE,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC1C,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAW,KAAMD,WAAYa,KAG9DmE,EAAoB,SAACtE,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACvC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAUY,EAASb,WAAY,MAMhEqB,EAAUC,wBAAc3B,GAAD,mBAC/BH,EAAMiG,qBAAuBhB,GADE,cAE/BjF,EAAMkG,qBAAuBf,GAFE,cAG/BnF,EAAMmG,kBAAoBjB,GAHK,cAK/BlF,EAAMoG,2BAA6BhB,GALJ,cAM/BpF,EAAMqG,2BAA6Bf,GANJ,cAO/BtF,EAAMsG,wBAA0BjB,GAPD,cAS/BrF,EAAMuG,uBAAyBhB,GATA,cAU/BvF,EAAMwG,uBAAyBf,GAVA,cAW/BzF,EAAMyG,oBAAsBjB,GAXG,K,+KCzFvBkB,EAAM,sBAGNC,EAAM,UAAMD,EAAN,QAEJ,GACXE,SAAS,GAAD,OAAKD,EAAL,wBACRE,gBAAgB,GAAD,OAAKF,EAAL,0BACfG,WAAY,SAACrF,GAAD,gBAAWkF,EAAX,qBAA8BlF,EAA9B,MAGZsF,aAAa,GAAD,OAAKJ,EAAL,cACZK,iBAAkB,SAACvF,GAAD,gBAAWkF,EAAX,qBAA8BlF,EAA9B,MAClBwF,gBAAiB,SAACxF,GAAD,gBAAWkF,EAAX,qBAA8BlF,EAA9B,gBACjByF,mBAAoB,SAACzF,GAAD,gBAAWkF,EAAX,qBAA8BlF,EAA9B,mBAGpB0F,UAAU,GAAD,OAAKR,EAAL,WACTS,cAAe,SAAC3F,GAAD,gBAAWkF,EAAX,kBAA2BlF,EAA3B,MACf4F,WAAY,SAAC5F,GAAD,gBAAWkF,EAAX,kBAA2BlF,EAA3B,MACZ6F,SAAU,SAAC7F,GAAD,gBAAWkF,EAAX,kBAA2BlF,EAA3B,WAGV8F,eAAe,GAAD,OAAKZ,EAAL,gBAGda,UAAU,GAAD,OAAKb,EAAL,eACTc,SAAU,SAAChG,GAAD,gBAAWkF,EAAX,sBAA+BlF,EAA/B,MACViG,MAAM,GAAD,OAAKf,EAAL,kBCtBIgB,EAAiB,SAAC9D,GAE3B,GAAIA,GAAmC,qBAAnBA,EAAM+D,SAA0B,CAChD,IAAIC,EAAW,CACXC,OAAQjE,EAAM+D,SAASE,OACvBC,WAAYlE,EAAM+D,SAASG,WAC3BjH,QAAS,KACT8G,SAAU/D,EAAM+D,UAEpB,GAAI,YAAa/D,EAAM+D,SAASI,KAC5BH,EAAS/G,QAAUmH,KAAKC,UAAUrE,EAAM+D,SAASI,KAAKlH,aAErD,CACD,IAAIA,EAAU,GACd,IAAK,IAAMqH,KAAYtE,EAAM+D,SAASI,KAClClH,GAAiB,UAAMqH,EAAN,aAAmBtE,EAAM+D,SAASI,KAAKG,GAAvC,MAErBN,EAAS/G,QAAUA,EAGvB,OAAO+G,EAGP,MAAO,CACNC,OAAQ,mBACRC,WAAY,6CACZjH,QAAS,+CAILsH,EAA6B,SAACC,GACvC,IAAMC,EAAS,IAAIC,gBAcnB,OAZe,MAAXF,GAAiBG,OAAOC,KAAKJ,GAASK,SAAQ,SAAAC,GACrB,OAAjBN,EAAQM,IAAmBN,EAAQM,aAAgBC,OACnDN,EAAOO,OAAOF,EAAKN,EAAQM,IACV,OAAjBN,EAAQM,IAAiBN,EAAQM,aAAgBC,eAC1CN,EAAOK,GACdN,EAAQM,GAAKG,KAAI,SAAAC,GAGb,MAFc,KAAVA,GACAT,EAAOO,OAAOF,EAAKI,GAChB,YAIhBT,GC4BI,EA3EA,WAmEb,MAAO,CACLU,MAnEY,SAAA3H,GAAY,IAChB4H,EAAuB5H,EAAvB4H,SAAUC,EAAa7H,EAAb6H,SACZxC,EAAMyC,EAAUvC,SAEhBwC,EAAW,IAAIC,SAIrB,OAHAD,EAASP,OAAO,WAAYI,GAC5BG,EAASP,OAAO,WAAYK,GAErBI,IAAM,CACPC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,yBAEhCC,MAAK,SAAA7B,GAEF,OADA8B,aAAaC,QAAQ,QAAS/B,EAASI,KAAK4B,OACrChC,EAASI,QAEnB6B,OAAM,SAAAC,GACL,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA+CRmG,WAvCiB,SAAC3I,GAClB,OAAOiI,IAAMW,KAAKd,EAAUtC,gBAAiB,CAAE+C,MAAOvI,IACnDoI,MAAK,SAAA7B,GAEJ,OADA8B,aAAaC,QAAQ,QAAS/B,EAASI,KAAK4B,OACrChC,EAASI,QAEjB6B,OAAM,SAAAC,GACL,IAAMjG,EAAQ,IAAIkG,MAAMD,GAEpB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA+BdqG,OA5Ca,WACbR,aAAaS,WAAW,UA4CxBC,kBA5BwB,SAAA/I,GAAY,IAC5BI,EAAiBJ,EAAjBI,GAAI4I,EAAahJ,EAAbgJ,SACNT,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUrC,WAAWrF,GAE3B2H,EAAW,IAAIC,SAGrB,OAFAgB,GAAYjB,EAASP,OAAO,WAAYwB,GAEjCf,IAAM,CACDC,OAAQ,QACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,QCkHC,EAlLA,WAsKX,MAAO,CACHiC,YA1JgB,SAACuC,GACjB,IAAMC,EAASF,EAA2BC,GAC1C,OAAOiB,IAAMiB,IAAIpB,EAAUpC,aAAc,CAAEuB,WAC1CmB,MAAK,SAAA7B,GAAQ,OAAIA,EAASI,QAC1B6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAoJVmD,iBAhJqB,SAAAvF,GACPiI,aAAaY,QAAQ,SAAnC,IACM5D,EAAMyC,EAAUnC,iBAAiBvF,GAEvC,OAAO6H,IAAM,CACDC,OAAQ,MACR7C,IAAKA,IAGhB+C,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAkIVzC,cAvKkB,SAACiH,GACnB,IAAMC,EAASF,EAA2BC,GAC1C,OAAOiB,IAAMiB,IAAIpB,EAAU5B,eAAgB,CAAEe,WAC5CmB,MAAK,SAAA7B,GAAQ,OAAIA,EAASI,QAC1B6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAiKV2G,cA/HkB,SAAAnJ,GAAY,IACtBoJ,EAAwCpJ,EAAxCoJ,MAAOC,EAAiCrJ,EAAjCqJ,MAAOC,EAA0BtJ,EAA1BsJ,YAAaC,EAAavJ,EAAbuJ,SAC7BhB,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUpC,aAEhBqC,EAAW,IAAIC,SAMrB,OALAD,EAASP,OAAO,QAAS4B,GACzBrB,EAASP,OAAO,QAAS6B,GACzBtB,EAASP,OAAO,WAAY+B,GAC5BD,GAAevB,EAASP,OAAO,cAAe8B,GAEvCrB,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAyGVgH,qBArGyB,SAAAxJ,GAAY,IAC7BI,EAAoDJ,EAApDI,GAAIgJ,EAAgDpJ,EAAhDoJ,MAAOE,EAAyCtJ,EAAzCsJ,YAAaD,EAA4BrJ,EAA5BqJ,MAAOE,EAAqBvJ,EAArBuJ,SAAUE,EAAWzJ,EAAXyJ,OAC3ClB,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUnC,iBAAiBvF,GAEjC2H,EAAW,IAAIC,SAOrB,OANAoB,GAASrB,EAASP,OAAO,QAAS4B,GAClCE,GAAevB,EAASP,OAAO,cAAe8B,GAC9CD,GAAStB,EAASP,OAAO,QAAS6B,GAClCE,GAAYxB,EAASP,OAAO,WAAY+B,GACxCE,GAAU1B,EAASP,OAAO,SAAUiC,GAE7BxB,IAAM,CACDC,OAAQ,QACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA8EVkH,cA1EkB,SAAAtJ,GAElB,IAAMmI,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUnC,iBAAiBvF,GAEvC,OAAO6H,IAAM,CACDC,OAAQ,SACR7C,IAAKA,EACL8C,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA2DVoD,gBAvDoB,SAAA5F,GAAY,IACxBI,EAAiBJ,EAAjBI,GAAIuJ,EAAa3J,EAAb2J,SACNpB,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUlC,gBAAgBxF,GAEhC2H,EAAW,IAAIC,SAGrB,OAFAD,EAASP,OAAO,WAAYmC,GAErB1B,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAoCVqD,mBAhCuB,SAAA7F,GAAY,IAC3BI,EAAcJ,EAAdI,GAAIwJ,EAAU5J,EAAV4J,MACNrB,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUjC,mBAAmBzF,GAEnC2H,EAAW,IAAIC,SAGrB,OAFAD,EAASP,OAAO,QAASoC,GAElB3B,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,QCvBH,EA3IA,WAkIX,MAAO,CACHqH,SAjIa,SAAC7C,GACd,IAAMC,EAASF,EAA2BC,GAC1C,OAAOiB,IAAMiB,IAAIpB,EAAUhC,UAAW,CAAEmB,WACvCmB,MAAK,SAAA7B,GAAQ,OAAIA,EAASI,QAC1B6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA2HVuD,cAvHkB,SAAA3F,GACJiI,aAAaY,QAAQ,SAAnC,IACM5D,EAAMyC,EAAU/B,cAAc3F,GAEpC,OAAO6H,IAAM,CACDC,OAAQ,MACR7C,IAAKA,IAGhB+C,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAyGVsH,WArGe,SAAA9J,GAAY,IACnB+J,EAAmD/J,EAAnD+J,KAAMC,EAA6ChK,EAA7CgK,MAAOV,EAAsCtJ,EAAtCsJ,YAAaW,EAAyBjK,EAAzBiK,SAAUC,EAAelK,EAAfkK,WACtC3B,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAUhC,UAEhBiC,EAAW,IAAIC,SAOrB,OANAD,EAASP,OAAO,OAAQuC,GACxBhC,EAASP,OAAO,QAASwC,GACzBjC,EAASP,OAAO,UAAW0C,GAC3BZ,GAAevB,EAASP,OAAO,cAAe8B,GAC9CW,GAAYlC,EAASP,OAAO,WAAYyC,GAEjChC,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA8EVwD,WA1Ee,SAAAhG,GAAY,IACnBI,EAAOJ,EAAPI,GAEFiF,EAAMyC,EAAU9B,WAAW5F,GA+B3BmI,EAAQF,aAAaY,QAAQ,UAAY,GAC/C,OAAOhB,IAAM,CACDC,OAAQ,QACR7C,IAAKA,EACLsB,KAAM3G,EACNmI,QAAS,CAAE,eAAgB,mBAAoB,cAAgB,OAAhB,OAAwBI,MAElFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MA4BVyD,SAxBa,SAAA7F,GACb,IAAMmI,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAU7B,SAAS7F,GAE/B,OADA+J,QAAQC,IAAI,KAAMhK,GACX6H,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACL8C,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,QCZH,EAlHA,WAyGX,MAAO,CACH5C,aAxGiB,SAACoH,GAClB,IAAMC,EAASF,EAA2BC,GAC1C,OAAOiB,IAAMiB,IAAIpB,EAAU3B,UAAW,CAAEc,WACvCmB,MAAK,SAAA7B,GAAQ,OAAIA,EAASI,QAC1B6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAkGV6H,eA9FmB,SAAArK,GAAY,IACvBsK,EAA6BtK,EAA7BsK,KAAMC,EAAuBvK,EAAvBuK,aAAcC,EAASxK,EAATwK,KACtBjC,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAU3B,UAEhB4B,EAAW,IAAIC,SAKrB,OAJAD,EAASP,OAAO,OAAQgD,GACxBF,GAAQvC,EAASP,OAAO,OAAQ8C,GAChCC,GAAgBxC,EAASP,OAAO,eAAgB+C,GAEzCtC,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAyEViI,eArEmB,SAAAzK,GAAY,IACvBI,EAAaJ,EAAbI,GAAIoK,EAASxK,EAATwK,KACNjC,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAU1B,SAAShG,GAEzB2H,EAAW,IAAIC,SAGrB,OAFAwC,GAAQzC,EAASP,OAAO,OAAQgD,GAEzBvC,IAAM,CACDC,OAAQ,QACR7C,IAAKA,EACLsB,KAAMoB,EACNI,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAkDVkI,eA9CmB,SAAAtK,GACnB,IAAMmI,EAAQF,aAAaY,QAAQ,UAAY,GACzC5D,EAAMyC,EAAU1B,SAAShG,GAE/B,OAAO6H,IAAM,CACDC,OAAQ,SACR7C,IAAKA,EACL8C,QAAS,CAAE,eAAgB,sBAAuB,cAAgB,OAAhB,OAAwBI,MAErFH,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,MAgCVmI,iBA5BqB,SAAA3K,GAAY,IACzBwK,EAASxK,EAATwK,KAEFnF,GADQgD,aAAaY,QAAQ,SACvBnB,EAAUzB,OAEhB0B,EAAW,IAAIC,SAGrB,OAFAD,EAASP,OAAO,OAAQgD,GAEjBvC,IAAM,CACDC,OAAQ,OACR7C,IAAKA,EACLsB,KAAMoB,IAEjBK,MAAK,SAAA7B,GACF,OAAOA,EAASI,QAEnB6B,OAAM,SAAAC,GACH,IAAMjG,EAAQ,IAAIkG,MAAMD,GAExB,MADAjG,EAAMmE,KAAOL,EAAemC,GACtBjG,Q,0CCnGAmF,G,WAWAkB,G,WAUDF,G,WAWAI,GAhCV,SAAWpB,EAAOiD,EAAK7H,GAAvB,uEAEY,OAFZ,kBAEkB8H,YAAKD,EAAIjD,MAAO5E,EAAO/C,SAFzC,OAGH,OADIuG,EAFD,gBAGGuE,YAAIC,UAAYrJ,aAAa6E,IAHhC,8BAMH,OANG,mCAMGuE,YAAIC,UAAYpJ,aAAa,KAAElC,UANlC,qDAWA,SAAWoJ,EAAQ+B,EAAK7H,GAAxB,iEAEH,OAFG,kBAEG8H,YAAKD,EAAI/B,QAFZ,OAGH,OAHG,SAGGiC,YAAIC,UAAYlJ,iBAHnB,8BAKH,OALG,mCAKGiJ,YAAIC,UAAYjJ,cAAc,KAAErC,UALnC,qDAUA,SAAUkJ,EAAWiC,EAAK7H,GAA1B,yEAGY,OAFT/C,EAAY+C,EAAZ/C,QADH,kBAGkB6K,YAAKD,EAAIjC,WAAY3I,GAHvC,OAIH,OADIuG,EAHD,gBAIGuE,YAAIC,UAAY/I,kBAAkBuE,IAJrC,OAKH,OALG,SAKGuE,YAAIE,UAAaC,kBAAkB1E,EAAS+D,OAL/C,+BAOH,OAPG,oCAOGQ,YAAIC,UAAY9I,eAAe,KAAExC,UAPpC,sDAWA,SAAUsJ,EAAkB6B,EAAK7H,GAAjC,uEAEc,OAFd,kBAEoB8H,YAAKD,EAAI7B,kBAAmBhG,EAAO/C,SAFvD,OAGD,OADIuG,EAFH,gBAGKuE,YAAIC,UAAY3I,yBAAyBmE,IAH9C,8BAKD,OALC,mCAKKuE,YAAIC,UAAY5I,sBAAZ,OALT,qD,eClCUsC,G,WASAkB,G,WASA5F,GAlBV,SAAU0E,EAAYmG,EAAK7H,GAA3B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAInG,YAAa1B,EAAO/C,SAFnD,OAGC,OADIuG,EAFL,gBAGOuE,YAAII,UAAgBpH,mBAAmByC,EAAS4E,UAHvD,8BAKC,OALD,mCAKOL,YAAII,UAAgBrH,gBAAhB,OALX,qDASA,SAAU8B,EAAiBiF,EAAK7H,GAAhC,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIjF,iBAAkB5C,EAAO/C,SAFxD,OAGC,OADIuG,EAFL,gBAGOuE,YAAII,UAAgBjH,wBAAwBsC,IAHnD,8BAKC,OALD,mCAKOuE,YAAII,UAAgBlH,qBAAhB,OALX,qDASA,SAAUjE,EAAc6K,EAAK7H,GAA7B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAI7K,cAAegD,EAAO/C,SAFrD,OAGC,OADIuG,EAFL,gBAGOuE,YAAII,UAAgB9G,qBAAqBmC,EAAS4E,UAHzD,8BAKC,OALD,mCAKOL,YAAII,UAAgB/G,kBAAhB,OALX,qD,eCjBU0F,I,WASA9D,I,WASA+D,I,WAUA9D,I,WASAmD,I,WASAK,I,WASAE,I,WASA9D,I,YASAC,I,YASAI,IAlFV,SAAU4D,GAASe,EAAK7H,GAAxB,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIf,SAAU9G,EAAO/C,SAFhD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAaI,gBAAgB7E,EAAS4E,UAHjD,8BAKC,OALD,mCAKOL,YAAIE,UAAaK,aAAb,OALX,qDASA,SAAUtF,GAAc6E,EAAK7H,GAA7B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAI7E,cAAehD,EAAO/C,SAFrD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAaM,qBAAqB/E,IAH7C,8BAKC,OALD,mCAKOuE,YAAIE,UAAaO,kBAAb,OALX,qDASA,SAAUzB,GAAWc,EAAK7H,GAA1B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAId,WAAY/G,EAAO/C,SAFlD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAaQ,kBAAkBjF,IAH1C,OAIC,OAJD,SAIOuE,YAAIC,UAAY3I,yBAAyBmE,IAJhD,+BAMC,OAND,oCAMOuE,YAAIE,UAAaS,eAAb,OANX,sDAUA,SAAUzF,GAAW4E,EAAK7H,GAA1B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAI5E,WAAYjD,EAAO/C,SAFlD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAaU,kBAAkBnF,IAH1C,8BAKC,OALD,mCAKOuE,YAAIE,UAAaW,eAAb,OALX,qDASA,SAAUxC,GAAcyB,EAAK7H,GAA7B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIzB,cAAepG,EAAO/C,SAFrD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAaY,qBAAqBrF,IAH7C,8BAKC,OALD,mCAKOuE,YAAIE,UAAaa,kBAAb,OALX,qDASA,SAAUrC,GAAqBoB,EAAK7H,GAApC,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIpB,qBAAsBzG,EAAO/C,SAF5D,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAac,4BAA4BvF,IAHpD,8BAKC,OALD,mCAKOuE,YAAIE,UAAae,yBAAb,OALX,qDASA,SAAUrC,GAAckB,EAAK7H,GAA7B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIlB,cAAe3G,EAAO/C,SAFrD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAagB,qBAAqBzF,IAH7C,8BAKC,OALD,mCAKOuE,YAAIE,UAAaiB,kBAAb,OALX,qDASA,SAAUrG,GAAgBgF,EAAK7H,GAA/B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIhF,gBAAiB7C,EAAO/C,SAFvD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAakB,uBAAuB3F,IAH/C,8BAKC,OALD,mCAKOuE,YAAIE,UAAamB,oBAAb,OALX,qDASA,SAAUtG,GAAmB+E,EAAK7H,GAAlC,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAI/E,mBAAoB9C,EAAO/C,SAF1D,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAaoB,0BAA0B7F,IAHlD,8BAKC,OALD,mCAKOuE,YAAIE,UAAaqB,uBAAb,OALX,sDASA,SAAUpG,GAAS2E,EAAK7H,GAAxB,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAI3E,SAAUlD,EAAO/C,SAFhD,OAGC,OADIuG,EAFL,gBAGOuE,YAAIE,UAAasB,gBAAgB/F,IAHxC,8BAKC,OALD,mCAKOuE,YAAIE,UAAauB,aAAb,OALX,sD,gBClFU3M,I,YASAyK,I,YAWAI,I,YASAC,I,YAWAC,IAxCV,SAAU/K,GAAagL,EAAK7H,GAA5B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIhL,aAAcmD,EAAO/C,SAFpD,OAGC,OADIuG,EAFL,gBAGOuE,YAAI0B,UAAiB1O,oBAAoByI,EAAS4E,UAHzD,8BAKC,OALD,mCAKOL,YAAI0B,UAAiB3O,iBAAjB,OALX,sDASA,SAAUwM,GAAeO,EAAK7H,GAA9B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIP,eAAgBtH,EAAO/C,SAFtD,OAGC,OADIuG,EAFL,gBAGOuE,YAAI0B,UAAiBvO,sBAAsBsI,IAHlD,WAIKA,EAASH,SAASkE,KAJvB,gBAKK,OALL,SAKWQ,YAAIE,UAAayB,mBAAmBlG,EAASH,SAAStD,UALjE,+BAOC,OAPD,oCAOOgI,YAAI0B,UAAiBxO,mBAAjB,OAPX,uDAWA,SAAUyM,GAAeG,EAAK7H,GAA9B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIH,eAAgB1H,EAAO/C,SAFtD,OAGC,OADIuG,EAFL,gBAGOuE,YAAI0B,UAAiBpO,sBAAsBmI,IAHlD,8BAKC,OALD,mCAKOuE,YAAI0B,UAAiBrO,mBAAjB,OALX,sDASA,SAAUuM,GAAeE,EAAK7H,GAA9B,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAIF,eAAgB3H,EAAO/C,SAFtD,OAGC,OADIuG,EAFL,gBAGOuE,YAAI0B,UAAiBjO,sBAAsBgI,IAHlD,WAIKA,EAAS+D,KAJd,gBAKK,OALL,SAKWQ,YAAIE,UAAa0B,wBAAwBnG,EAASzD,UAL7D,+BAOC,OAPD,oCAOOgI,YAAI0B,UAAiBlO,mBAAjB,OAPX,uDAWA,SAAUqM,GAAiBC,EAAK7H,GAAhC,uEAEgB,OAFhB,kBAEsB8H,YAAKD,EAAID,iBAAkB5H,EAAO/C,SAFxD,OAGC,OADIuG,EAFL,gBAGOuE,YAAI0B,UAAiB9N,wBAAwB6H,IAHpD,8BAKC,OALD,mCAKOuE,YAAI0B,UAAiB/N,qBAAjB,OALX,sD,gBCpBkBkO,IALnBC,GAAUC,IACVC,GAAcC,IACdC,GAAWC,IACXC,GAAeC,IAEN,SAAUR,KAAV,iEACb,OADa,SACPS,YAAI,CACRC,YAAUhL,YAAUW,cAAe2E,EAAOiF,IAC1CS,YAAUhL,YAAUiB,eAAgBuF,EAAQ+D,IAC5CS,YAAUhL,YAAUc,oBAAqBwF,EAAYiE,IACrDS,YAAUhL,YAAUoB,4BAA6BsF,EAAmB6D,IAEpES,YAAUhJ,gBAAcO,qBAAsB0I,EAA0BR,IACxEO,YAAUhJ,gBAAcU,2BAA4BuI,EAA+BR,IACnFO,YAAUhJ,gBAAca,uBAAwBoI,EAA4BR,IAE5EO,YAAUE,aAAWC,kBAAmBC,GAAoBT,IAC5DK,YAAUE,aAAWG,wBAAyBD,GAAyBT,IACvEK,YAAUE,aAAWI,oBAAqBF,GAAsBT,IAChEK,YAAUE,aAAWK,oBAAqBH,GAAsBT,IAChEK,YAAUE,aAAWM,kBAAmBJ,GAAoBT,IAE5DK,YAAUE,aAAWO,uBAAwBL,GAAyBX,IACtEO,YAAUE,aAAWQ,+BAAgCN,GAAgCX,IACrFO,YAAUE,aAAWS,uBAAwBP,GAAyBX,IACtEO,YAAUE,aAAWU,0BAA2BR,GAA2BX,IAC3EO,YAAUE,aAAWW,6BAA8BT,GAA8BX,IAEjFO,YAAUxO,iBAAe6B,sBAAuByN,GAA4BjB,IAC5EG,YAAUxO,iBAAegC,wBAAyBsN,GAA8BjB,IAChFG,YAAUxO,iBAAemC,wBAAyBmN,GAA8BjB,IAChFG,YAAUxO,iBAAesC,wBAAyBgN,GAA8BjB,IAEhFG,YAAUxO,iBAAeyC,0BAA2B6M,GAAgCjB,MA5BzE,wC,cCjBFkB,GAAWC,0BAAgB,CACtCC,KAAMC,EAAQ,IAAuB/N,QACrCkE,SAAU6J,EAAQ,IAA2B/N,QAC7CgO,MAAOD,EAAQ,GAAwB/N,QACvCV,UAAWyO,EAAQ,IAA4B/N,QAE/CiO,KAAMC,O,gFC+CD,SAASC,GAAiBC,GAAQ,IAC/BlK,EAAakK,EAAblK,SAER,OACEA,EAASmK,OAAS,GAChB,kBAAC,WAAD,CAASC,kBAAkB,EAAOC,aAAa,GAC7C,yBAAKC,UAAU,oBACZtK,EAAS+C,KAAI,SAAAwH,GAAO,OACnBA,EAAQC,OAAOL,OAAS,GAAKI,EAAQC,OAAOzH,KAAI,SAAA0H,GAAG,OACjD,kBAAC,QAAD,CACExF,SAAUtE,EAAM8J,EAAIC,cACpBC,UAAWhK,EAAM8J,EAAIG,YACrBC,MAAOJ,EAAIK,UACXC,OAAQN,EAAIO,WACZtG,MAAK,gCAEC6F,EAAQ7F,MAFT,cAEoB6F,EAAQ5F,MAF5B,uCAGI4F,EAAQ3F,aAAe2F,EAAQ3F,YAHnC,0BAOJ,gBAAGqG,EAAH,EAAGA,IAAKC,EAAR,EAAQA,KAAR,OACC,yBAAKD,IAAKA,EAAKE,QAASD,EACtBE,IAAKzK,EAAM8J,EAAIG,YACfN,UAAU,yBC1EvB,SAASe,GAAenB,GAAQ,IAC7BoB,EAAgCpB,EAAhCoB,IAAKhB,EAA2BJ,EAA3BI,UAAWiB,EAAgBrB,EAAhBqB,YAExB,OACE,4BACEjB,UAAWA,EACX1H,IAAK0I,EAAI5P,GAAIyP,QAASI,EACtBC,UAASF,EAAI5P,IAEV4P,EAAIG,QACJH,EAAId,OAAOL,OAAS,GAAK,yBAAKuB,MAAO,CAAC,MAAS,QAC9CN,IAAKzK,EAAM2K,EAAId,OAAO,GAAGE,iBAKnC,SAASiB,GAAUzB,GAAQ,IACjB0B,EAAYC,cAAZD,QACAE,EAA4B5B,EAA5B4B,UAER,OAFoC5B,EAAjB5P,aAIb,WACAwR,GAAaA,EAAU3B,OAAS,EAC9B2B,EAAU/I,KAAI,SAAA6C,GAAI,OAClB,kBAAC,IAAD,CAAMmG,GAAI,UAAYnG,EAAKlK,GAAK,aAAekQ,EAAU,KACvD,yBAAKtB,UAAU,4CACb,yBAAKA,UAAU,+CACb,wBAAIA,UAAU,WAAW1E,EAAKP,MAC9B,uBAAGiF,UAAU,IACX,uBAAGA,UAAU,wCAAwC0B,cAAY,QAC/D,yBAAK1B,UAAU,YAAY1E,EAAKqG,WAAW9B,SAE7C,uBAAGG,UAAU,+BAA+B0B,cAAY,QACtD,yBAAK1B,UAAU,YAAY1E,EAAKsG,eAAe/B,OAA/C,QAIN,yBAAKG,UAAU,oBAAoBoB,MAAO,CAACS,WAAY,SACpDvG,EAAKwG,mBAAqBxG,EAAKwG,kBAAkBjC,OAAS,GAAKvE,EAAKwG,kBAAkBrJ,KAAI,SAAAwH,GAAO,OAChG,uBAAGD,UAAU,uCACX,0BAAMA,UAAU,YAAYC,EAAQ7F,OACpC,0BAAM4F,UAAU,uBAAuBC,EAAQ5F,YAIpDiB,EAAKyG,gBACJ,yBAAK/B,UAAU,2CACZ1E,EAAKyG,eADR,kCAOR,yBAAK/B,UAAU,wBACb,yBAAKA,UAAU,WACb,yBAAKc,IAAKzK,EAAM,kBAAmBkK,MAAM,OAAOP,UAAU,oBAC1D,uBAAGA,UAAU,4BAAb,mL,IAONgC,G,sLAEiB,IACXV,EAAYW,KAAKrC,MAAMsC,MAAMjK,OAA7BqJ,QACRW,KAAKrC,MAAM/E,SAAS,CAACN,SAAU+G,EAASa,qBAAsBb,M,+BAGtD,IAAD,EACwCW,KAAKrC,MAAM/O,MAAM2O,MAAxDgC,EADD,EACCA,UAAWxR,EADZ,EACYA,aAAcI,EAD1B,EAC0BA,UACjC,OACIJ,EACI,kBAACoS,GAAA,EAAD,CAAkBpC,UAAU,mDAC5B,kBAACqB,GAAD,CAAWG,UAAWA,EAAWxR,aAAcA,EAAc6K,SAAUoH,KAAKrC,MAAM/E,SAClFzK,UAAWA,Q,GAbJiS,aA4BJC,gBAVS,SAACzR,GAAD,MAAY,CAClC0R,cAAe1R,EAAM0R,cACrBC,QAAS3R,EAAM2R,QACf3R,MAAOA,MAGkB,SAAC4R,GAAD,MAAe,CACxC5H,SAAU,SAAA6H,GAAK,OAAID,EAASzG,UAAa2G,gBAAgBD,QAG5CJ,CAGbN,I,4GCrFWY,GAAkB,SAAC,GAAD,IAC7BC,EAD6B,EAC7BA,MACAC,EAF6B,EAE7BA,YACAC,EAH6B,EAG7BA,MACAC,EAJ6B,EAI7BA,UAJ6B,IAK7BC,KAAQC,EALqB,EAKrBA,QAASC,EALY,EAKZA,QAAS3P,EALG,EAKHA,MAC1B4P,EAN6B,EAM7BA,WAEGC,GAR0B,EAO7BC,UAP6B,oGAU7B,kBAACC,GAAA,EAAD,eACEV,MAAOA,EACPC,YAAaA,EACbtP,MAAO0P,GAAWC,EAClBK,WAAYN,GAAW1P,GACnBuP,EACAM,EANN,CAOEL,UAAWA,EACXS,gBAAiB,CACfzD,UAAWoD,OAKXM,GAAWC,aAAOC,KAAPD,CAAe,CAC9BE,cAAe,WACfC,SAAU,WAGCC,GAAoB,SAAC,GAAD,IAC/BhB,EAD+B,EAC/BA,MACAF,EAF+B,EAE/BA,MACAS,EAH+B,EAG/BA,UACAF,EAJ+B,EAI/BA,WACAY,EAL+B,EAK/BA,YAL+B,IAM/Bf,KAAQC,EANuB,EAMvBA,QAAS1P,EANc,EAMdA,MACjByQ,EAP+B,EAO/BA,SACGZ,EAR4B,kGAU/B,kBAACa,GAAA,EAAD,CAAa1Q,MAAO0P,GAAW1P,EAAOwM,UAAWsD,GAC/C,kBAACa,GAAA,EAAD,CAAYnE,UAAWoD,GAAaP,GACpC,kBAACa,GAAD,eACE1D,UAAWgE,GACPjB,EACAM,GAEHY,GAtDyB,SAAC,GAAwB,IAAtBf,EAAqB,EAArBA,QAAS1P,EAAY,EAAZA,MAC1C,OAAM0P,GAAW1P,EAGR,kBAAC4Q,GAAA,EAAD,KAAiBlB,GAAW1P,QAFnC,EAsDC6Q,CAAiB,CAAEnB,UAAS1P,YAsE3B8Q,GAAmB,SAAAC,GACvB,IAAMC,EAAS,GAgBf,MAfuB,CACrB,OACA,SAEanM,SAAQ,SAAAoM,GAChBF,EAAOE,KACVD,EAAOC,GAAS,qGAGdF,EAAOE,IAAoB,UAAVA,IACQ,MAAvBF,EAAM,MAAU,KAAYC,EAAOC,GAAS,0JAClB,IAA1BF,EAAM,MAAU1E,SAAc2E,EAAOC,GAAS,2KAI/CD,GAGT,SAASE,GAAU9E,GAAQ,IAAD,EACK+E,oBAAS,GADd,8BAGxB,OACE,yBAAK3E,UAAU,QACb,kBAAC4E,GAAA,EAAD,CACIC,UAAWjC,GACX7H,KAAK,OACL8H,MAAM,oGACN7C,UAAU,mBACVoD,WAAW,YAGf,kBAACwB,GAAA,EAAD,CACIC,UAAWjC,GACXkC,KAAK,SACL/J,KAAK,QACL8H,MAAM,mKACN7C,UAAU,mBACV8C,YAAY,cACZM,WAAW,YAGdxD,EAAMtF,aACL,kBAACsK,GAAA,EAAD,CAAO7J,KAAK,cACV8J,UAAWjC,GACXmC,QAAQ,WACR/B,WAAW,EACXgC,QAAS,EACThF,UAAU,4BACVoB,MAAO,CAAC,OAAU,QAAS,cAAe,YAC1CyB,MAAM,oLACNC,YAAY,2KAMjBlD,EAAM3E,UACL,kBAAC2J,GAAA,EAAD,CAAO7J,KAAK,WACV8J,UAAWjC,GACX5C,UAAU,4BACVoB,MAAO,CAAC,OAAU,SAClByB,MAAM,+VACNkC,QAAQ,WACR/B,WAAW,EACXgC,QAAS,EACTlC,YAAY,ssBAMd,kBAAC8B,GAAA,EAAD,CACEC,UAAWjC,GACX7H,KAAK,aACLkK,QAAQ,IAEV,kBAACL,GAAA,EAAD,CACEC,UAAWjC,GACX7H,KAAK,KACLkK,QAAQ,KAUT,SAASC,GAActF,GAAQ,IAC5BuF,EAA2EvF,EAA3EuF,aAAcC,EAA6DxF,EAA7DwF,SAAiBC,GAA4CzF,EAAnD0F,MAAmD1F,EAA5CyF,YAAYE,EAAgC3F,EAAhC2F,aAAcC,EAAkB5F,EAAlB4F,cACjE,OACE,yBAAKxF,UAAU,kCACb,yBAAKA,UAAU,WACb,0BAAMyF,SAAUF,EAAaJ,IAC3B,kBAACT,GAAD,CAAUc,cAAeA,EAAelL,aAAa,EAAOW,UAAU,IAEtE,4BACE+E,UAAU,iFAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,qCAoBH,SAASM,GAAc/F,GAAQ,IAC5BuF,EAA2EvF,EAA3EuF,aAAcC,EAA6DxF,EAA7DwF,SAAiBC,GAA4CzF,EAAnD0F,MAAmD1F,EAA5CyF,YAAYE,EAAgC3F,EAAhC2F,aAAcC,EAAkB5F,EAAlB4F,cAOjE,OACE,yBAAKxF,UAAU,kCACb,yBAAKA,UAAU,WACb,0BAAMyF,SAAUF,GARtB,WACE3F,EAAMgG,SAAQ,GACdT,QAOM,kBAACT,GAAD,CAAUc,cAAeA,EAAexK,OAAO,EAAOV,aAAa,EAAMuL,SAAS,EAChF5K,UAAU,IACZ,4BACE+E,UAAU,sFAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,0DAOA,4BACErF,UAAU,wEAEVa,QAAS,kBAAMjB,EAAMgG,SAAQ,KAH/B,qCAmBH,SAASE,GAAoBlG,GAAQ,IAClCuF,EAA2EvF,EAA3EuF,aAAcC,EAA6DxF,EAA7DwF,SAAiBC,GAA4CzF,EAAnD0F,MAAmD1F,EAA5CyF,YAAYE,EAAgC3F,EAAhC2F,aAAgC3F,EAAlB4F,cAEjE,OACE,yBAAKxF,UAAU,uBACb,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,gBACb,uBAAGA,UAAU,QAAb,oFACA,0BAAMyF,SAAUF,EAAaJ,IAC7B,6BACE,kBAACP,GAAA,EAAD,CAAO7J,KAAK,OAAO8J,UAAU,WAAW7E,UAAU,4BAChDoB,MAAO,CAAC,OAAU,SAAUyB,MAAM,mCAEpC,kBAAC+B,GAAA,EAAD,CACEC,UAAU,SACV9J,KAAK,OACLkK,QAAQ,KAGV,4BACEjF,UAAU,iFAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,6DAkBH,SAASU,GAAkBnG,GAAQ,IAChCuF,EAAyFvF,EAAzFuF,aAAcC,EAA2ExF,EAA3EwF,SAAiBC,GAA0DzF,EAAjE0F,MAAiE1F,EAA1DyF,YAAYE,EAA8C3F,EAA9C2F,aAA6BS,GAAiBpG,EAAhC4F,cAAgC5F,EAAjBoG,cAOhF,OACE,yBAAKhG,UAAU,kCACb,yBAAKA,UAAU,WACb,0BAAMyF,SAAUF,GARtB,WACES,GAAa,GACbb,QAOI,6BACE,kBAACP,GAAA,EAAD,CAAO7J,KAAK,OAAO8J,UAAU,WAAW7E,UAAU,4BAChDoB,MAAO,CAAC,OAAU,SAAUyB,MAAM,mCAEpC,kBAAC+B,GAAA,EAAD,CACEC,UAAU,SACV9J,KAAK,KACLkK,QAAQ,KAGV,4BACEjF,UAAU,iFAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,0DAOA,4BACErF,UAAU,iFAEVa,QAAS,kBAAMmF,GAAa,KAH9B,2CCtWH,SAASC,GAAgBrG,GAAQ,IAC9BuF,EAA2EvF,EAA3EuF,aAAcC,EAA6DxF,EAA7DwF,SAAiBC,GAA4CzF,EAAnD0F,MAAmD1F,EAA5CyF,YAAYE,EAAgC3F,EAAhC2F,aAAgC3F,EAAlB4F,cACjE,OACE,yBAAKxF,UAAU,mBACb,yBAAKA,UAAU,WACb,wBAAIA,UAAU,oDAAd,4LAGA,0BAAMyF,SAAUF,EAAaJ,IAC3B,kBAACP,GAAA,EAAD,CAAO7J,KAAK,OACV8J,UAAWjC,GACXmC,QAAQ,WACR/B,WAAW,EACXgC,QAAS,EACThF,UAAU,uBACVoB,MAAO,CAAC,OAAU,SAElB0B,YAAY,yeAKd,4BACE9C,UAAU,iFAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,6DDgOVH,GAAegB,aAAU,CACvBzG,KAAM,eACN0G,SAAU7B,IAFG4B,CAGZhB,IAqCHS,GAAeO,aAAU,CACvBzG,KAAM,eACN0G,SAAU7B,IAFG4B,CAGZP,IAmCHG,GAAqBI,aAAU,CAC7BzG,KAAM,sBADayG,CAGlBJ,IA4CHC,GAAmBG,aAAU,CAC3BzG,KAAM,oBADWyG,CAGhBH,IE/WI,SAAShF,GAAenB,GAC7B,IAAIwG,EAAUC,cACN9L,EAAaqF,EAAbrF,SAMR,OACE,yBACEjC,IAAKiC,EAASnJ,GACd4O,UAAU,4BACVa,QARJ,WACEuF,EAAQE,KAAK,aAAe/L,EAASQ,KAAO,MAQ1CqG,MAAO,CACL,WAAc,QACd,MAAS,QACT,OAAU,QACV,MAAS,QACT,cAAe,OACf,YAAa,QACb,aAAc,SACd,aAAc,aACd,gBAAiB,OACjB,cAAe,SAGjB,yBACEN,IAAKzK,EAAM,IAAKkE,EAAS2F,OAAO,GAAGE,gBACrC,uBAAGJ,UAAU,oCACVzF,EAAS4G,UDYlB8E,GAAiBC,aAAU,CACzBzG,KAAM,iBACN0G,SAf6B,SAAA5B,GAC7B,IAAMC,EAAS,GASf,MARuB,CACrB,QAEanM,SAAQ,SAAAoM,GAChBF,EAAOE,KACVD,EAAOC,GAAS,wGAGbD,IAGQ0B,CAGdD,I,ICTGM,G,oDACJ,WAAY3G,GAAQ,IAAD,+BACjB,cAAMA,IACD/O,MAAQ,GAEb,EAAK2V,UAAY,EAAKA,UAAUC,KAAf,iBAJA,E,iEAOjBxE,KAAKrC,MAAM7O,kB,kCAIXkR,KAAKrC,MAAM8G,WAAWzE,KAAKrC,MAAM/O,MAAM4O,KAAKkH,eAAepC,U,+BAInD,IAAD,SAC8BtC,KAAKrC,MAAM/O,MAAM6E,SAA9CvF,EADD,EACCA,WAAYH,EADb,EACaA,aACZU,EAAgBuR,KAAKrC,MAAM/O,MAAMC,UAAjCJ,YACA6C,EAAS0O,KAAKrC,MAAM/O,MAAMyO,KAA1B/L,KAER,OACEvD,EACI,kBAACoS,GAAA,EAAD,CAAkBpC,UAAU,mDAC5B,6BACE,6BACGzM,GAAQ,wBAAIyM,UAAU,yBAAd,yCAA+CzM,EAAOA,EAAKyG,SAAW,KAAtE,KACT,yBAAKgG,UAAU,iCAAiCoB,MAAO,CAAC,OAAU,UAChE,yBAAKpB,UAAU,0CACf,yBAAKA,UAAU,kCAKnB,yBACEA,UAAU,OACVoB,MAAO,CACL,QAAW,OACX,YAAa,WACb,kBAAmB,iBAGtBjR,GAAcA,EAAWsI,KAAI,SAAA8B,GAAQ,OACpC,kBAAC,GAAD,CAAeA,SAAUA,EAAUM,SAAU,EAAK+E,MAAM/E,eAG1D,yBAAKmF,UAAU,mDACb,uBAAGA,UAAU,0CAEbtP,EAEE,yBAAKsP,UAAU,2BACb,wBAAI4G,MAAM,gEACPlW,IAHL,kBAACuV,GAAD,CAAgBd,aAAclD,KAAKuE,iB,GAlD5BnE,aAwERC,gBAVS,SAACzR,GAAD,MAAY,CAClCA,MAAOA,MAGkB,SAAC4R,GAAD,MAAe,CACxC1R,cAAe,SAAA2R,GAAK,OAAID,EAASvG,UAAgBhH,qBAAqBwN,KACtE7H,SAAU,SAAA6H,GAAK,OAAID,EAASzG,UAAa2G,gBAAgBD,KACzDgE,WAAY,SAAA/O,GAAI,OAAI8K,EAASjF,UAAiBhO,wBAAwBmI,QAGzD2K,CAGbiE,I,kBCvHK,SAASM,GAAUjH,GAAQ,IACxBxI,EAAawI,EAAbxI,SACR,OACE,yBAAK4I,UAAU,6BACb,yBAAKA,UAAU,WACb,uBAAGA,UAAU,sBAAsB5I,EAAS4C,UAC5C,uBAAGgG,UAAU,aAAa5I,EAASoE,QAMpC,SAASsL,GAAalH,GAAQ,IAC3BxI,EAAawI,EAAbxI,SAD0B,EAECuN,oBAAS,GAFV,oBAE1BoC,EAF0B,KAEff,EAFe,KAGhC,OACAe,EACE,kBAAChB,GAAD,CACCP,cAAe,CAAChK,KAAMpE,EAASoE,KAAMpK,GAAIgG,EAAShG,IAClD+T,aAAcvF,EAAMoH,KACpBhB,aAAcA,IAEf,yBAAKhG,UAAU,6BACb,yBAAKA,UAAU,WACb,uBAAGA,UAAU,sBAAsB5I,EAAS4C,UAC5C,uBAAGgG,UAAU,aAAa5I,EAASoE,MACnC,4BAAQwE,UAAU,gCAAgCa,QAAS,kBAAMmF,GAAa,KAA9E,oDAGA,4BAAQhG,UAAU,0DAChBa,QAAS,kBAAMjB,EAAMqH,OAAO7P,EAAShG,MADvC,gDAUH,SAAS8V,GAAUtH,GAAQ,IACxBuH,EAA+DvH,EAA/DuH,QAASjX,EAAsD0P,EAAtD1P,cAAekX,EAAuCxH,EAAvCwH,QAASC,EAA8BzH,EAA9ByH,gBAAiBC,EAAa1H,EAAb0H,SACtDC,IAAaF,GAAkBA,EAAgBG,SAASJ,GAE5D,OACE,6BACGE,GAAYF,GACRG,GACD,kBAACzB,GAAD,CACEN,cAAe,CAAClK,KAAM6L,GACtBhC,aAAcvF,EAAMvE,eACpBoC,mBAAoBmC,EAAMnC,mBAC1B2J,QAASA,IACXE,GAAY,uBAAGtH,UAAU,aAAb,0KAEfsH,GAAYF,GAAWlX,EAAc2P,OAAS,GAC7C,yBAAKG,UAAU,gBACb,uBAAGA,UAAU,iBAAb,wCACC9P,EAAcuI,KAAI,SAAAgP,GAAE,OACnBA,EAAG3T,UAAYsT,EACX,kBAACN,GAAD,CAAa1P,SAAUqQ,EAAIT,KAAMpH,EAAM8H,aAAcT,OAAQrH,EAAMlE,iBACnE,kBAACmL,GAAD,CAAUzP,SAAUqQ,SClDpC,SAASE,GAAU/H,GACjB,IAAIwG,EAAUC,cADU,EAEI9E,cAApBD,EAFgB,EAEhBA,QAASsG,EAFO,EAEPA,OACT5G,EAAQpB,EAARoB,IAEFhB,EACJ,+DAEI6H,EAAcvG,GAAWN,EAAIjG,KAC/BiF,EAAY,iBACZA,EAAY,YAMhB,OACE,kBAACe,GAAD,CACEf,UAAW6H,EACX7G,IAAKA,EACLC,YARJ,WACEmF,EAAQE,KAAK,UAAYsB,EAAS,aAAe5G,EAAIjG,KAAO,QAahE,SAAS+M,GAAgBlI,GAAQ,IACvB0B,EAAYC,cAAZD,QACA5L,EAAakK,EAAblK,SACFqS,EAASC,OAAOC,OAAO1H,MAC7BpF,QAAQC,IAAI2M,GAEZ,IAAIG,EAAc,GAElB,GAAI5G,GAAW5L,EAASmK,OAAS,EAC/B,IAAK,IAAIsI,EAAI,EAAGA,EAAIzS,EAASmK,OAAQsI,IAC/BzS,EAASyS,GAAG5N,WAAa+G,IAC3B4G,EAAW,uBAAOA,GAAP,CAAoBxS,EAASyS,MAK9C,OACI,yBAAKnI,UAAU,WACb,yBAAKA,UAAU,QACZkI,EAAYzP,KAAI,SAAAwH,GAAO,OACtB,6BACE,uBAAGD,UAAU,uCACX,0BAAMA,UAAU,oBAAoBC,EAAQ7F,OAC5C,0BAAM4F,UAAU,OACdoB,MAAO,CAACgH,SAAU,MAChB,yBAAKpI,UAAU,OAAOoB,MAAO,CAACiH,aAAc,qBAEhD,0BAAMrI,UAAU,uBAAuBC,EAAQ5F,QAEhD4F,EAAQ3F,aACP,uBAAG0F,UAAU,QACVC,EAAQ3F,kBAMnB,kBAACqF,GAAD,CAAiBjK,SAAUwS,KAMnC,SAASI,GAAW1I,GAAQ,IAClB0B,EAAYC,cAAZD,QACAiH,EAAe3I,EAAf2I,WACFC,EAAenS,EAAM,yBAIvBoS,EAFQ7I,EAAM2I,WAAWvN,MAER0N,QADZ,OACwB,KAEjC,OACE,yBAAK1I,UAAU,QACb,uBAAG2I,KAAI,8BAAyBF,GAC9BzI,UAAU,mEADZ,oDAGW,yBAAKc,IAAK0H,EAAcjI,MAAM,UAEzC,uBAAGoI,KAAI,+BAA0BtS,EAA1B,kBAAuCkS,EAAWnX,GAAlD,qBAAiEkQ,EAAjE,KACLtB,UAAU,8DADZ,gEAGa,yBAAKc,IAAK0H,EAAcjI,MAAM,W,IAM3CqI,G,oDACJ,WAAYhJ,GAAQ,IAAD,+BACjB,cAAMA,IACD/O,MAAQ,CACXqX,YAAa,GACbW,WAAY,KACZvB,UAAU,GAEZ,EAAKjM,eAAiB,EAAKA,eAAeoL,KAApB,iBACtB,EAAKqC,cAAgB,EAAKA,cAAcrC,KAAnB,iBACrB,EAAKiB,aAAe,EAAKA,aAAajB,KAAlB,iBACpB,EAAKsC,cAAgB,EAAKA,cAActC,KAAnB,iBAVJ,E,iEAaE,IACXmB,EAAW3F,KAAKrC,MAAMsC,MAAMjK,OAA5B2P,OACR3F,KAAKrC,MAAM7I,cAAc6Q,K,uCAIzB3F,KAAKrC,MAAMvE,eAAe4G,KAAKrC,MAAM/O,MAAM4O,KAAKuJ,mBAAmBzE,U,oCAGtD4C,GACblF,KAAKrC,MAAMhP,aAAa,CAAC0K,KAAM6L,M,oCAGlBA,GACblF,KAAKrC,MAAMhP,aAAa,CAAC0K,KAAM6L,IAC/BlF,KAAKgH,SAAL,6BAAkBhH,KAAKpR,OAAvB,IAA8ByW,UAAWrF,KAAKpR,MAAMyW,c,qCAIpDrF,KAAKrC,MAAMnE,eAAewG,KAAKrC,MAAM/O,MAAM4O,KAAKyJ,iBAAiB3E,U,+BAGzD,IAAD,OACCgE,EAAetG,KAAKrC,MAAM/O,MAAM2O,MAAhC+I,WACArY,EAAkB+R,KAAKrC,MAAM/O,MAAMC,UAAnCZ,cACFkX,EAAWnF,KAAKrC,MAAM/O,MAAMyO,KAAK/L,KAAO0O,KAAKrC,MAAM/O,MAAMyO,KAAK/L,KAAKnC,GAAK,KAC1E+X,EAAY,6CAIhB,OAHIZ,GAAcA,EAAW5G,WAAW6F,SAASJ,KAC/C+B,EAAY,8CAGVZ,GACE,6BACE,yBAAKvI,UAAU,kCACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcuI,EAAWxN,MACvC,uBAAGiF,UAAU,oBACX,uBAAGA,UAAWmJ,EAAWzH,cAAY,OACnCb,QAAS,kBAAM,EAAKjB,MAAM3I,SAASsR,EAAWnX,OAC7CmX,EAAW5G,WAAW9B,OACzB,uBAAGG,UAAU,+BAA+B0B,cAAY,OACtDb,QAAS,kBAAM,EAAKkI,cAAcR,EAAWnX,OAC5CmX,EAAW3G,eAAe/B,QAE/B,yBAAKG,UAAU,aACf,wBAAIA,UAAU,gBAAe,uBAAGA,UAAU,sBAAyBuI,EAAWvN,OAC9E,kBAACsN,GAAD,CAAYC,WAAYA,IAExB,yBAAKvI,UAAU,aACduI,EAAWjO,aACV,yBAAK0F,UAAU,OAAOoB,MAAO,CAACgI,WAAY,aACvCb,EAAWjO,aAGfiO,EAAWtN,UACV,yBAAK+E,UAAU,GAAGoB,MAAO,CAACgI,WAAY,aACpC,uBAAGpJ,UAAU,yBAAb,oMACCuI,EAAWtN,SAAWsN,EAAWtN,SAAW,oFAKrD,kBAACiM,GAAD,CACEC,QAASoB,EAAWnX,GACpBgW,QAASA,EAET/L,eAAgB4G,KAAK5G,eACrByN,cAAe7G,KAAK6G,cACpBpB,aAAczF,KAAKyF,aACnBhM,eAAgBuG,KAAKrC,MAAMlE,eAC3BxL,cAAeA,EACfmX,gBAAiBkB,EAAW3G,eAC5BnE,mBAAoBwE,KAAKrC,MAAMnC,mBAE/B6J,SAAUrF,KAAKpR,MAAMyW,SACrByB,cAAe9G,KAAK8G,cAEpBM,YAAad,EAAW5G,WACxB1K,SAAUgL,KAAKrC,MAAM3I,YAGvB,yBAAK+I,UAAU,uBAAuBoB,MAAO,CAAC,UAAa,SACxDmH,EAAWpY,WAAW0P,OAAS,GAC9B,yBAAKG,UAAU,iEACVuI,EAAWpY,WAAWsI,KAAI,SAAAuI,GAAG,OAC5B,kBAAC2G,GAAD,CAAW3G,IAAKA,QAIxB,kBAAC8G,GAAD,CAAiBpS,SAAU6S,EAAW7S,iB,GAvG3B2M,aA8HVC,gBAhBS,SAACzR,GAAD,MAAY,CAClCA,MAAOA,EACP2R,QAAS3R,EAAM2R,YAGU,SAACC,GAAD,MAAe,CACxC1L,cAAe,SAAA3F,GAAE,OAAIqR,EAAS6G,UAAYC,qBAAqBnY,KAC/D6F,SAAU,SAAAkQ,GAAO,OAAI1E,EAAS6G,UAAYE,gBAAgBrC,KAE1D9L,eAAgB,SAAA1D,GAAI,OAAI8K,EAASjF,UAAiBzO,sBAAsB4I,KACxE8D,eAAgB,SAAA9D,GAAI,OAAI8K,EAASjF,UAAiBtO,sBAAsByI,KACxE+D,eAAgB,SAAA/D,GAAI,OAAI8K,EAASjF,UAAiBnO,sBAAsBsI,KACxE/G,aAAc,SAAA+G,GAAI,OAAI8K,EAASjF,UAAiB5O,oBAAoB+I,KACpE8F,mBAAqB,SAAA2J,GAAO,OAAI3E,EAAS6G,UAAY7L,mBAAmB2J,QAG3D9E,CAGbsG,ICvOF,SAASa,GAAa7J,GAAQ,IACpBzP,EAAeyP,EAAfzP,WAER,OACE,6BACE,kBAACyU,GAAA,EAAD,CACIC,UAAWjC,GACX7H,KAAK,QACL8H,MAAM,mDACNC,YAAY,wIACZ9C,UAAU,mBACVoD,WAAW,YAGf,kBAACwB,GAAA,EAAD,CACIC,UAAWjC,GACX7H,KAAK,QACL8H,MAAM,yHACNC,YAAY,uKACZ9C,UAAU,mBACVoD,WAAW,YAGf,kBAACwB,GAAA,EAAD,CACI7J,KAAK,WACL8J,UAAWd,GACXX,WAAW,WACXE,UAAU,mBACVT,MAAM,2GAEH1S,GAAcA,EAAW0P,OAAS,GAAK1P,EAAWsI,KAAI,SAAA8B,GAAQ,OAC7D,4BAAQyF,UAAU,UAAUtH,MAAO6B,EAASnJ,GAAIkH,IAAKiC,EAASnJ,IAAKmJ,EAAS4G,aAIpF,kBAACyD,GAAA,EAAD,CACE7J,KAAK,cACL8J,UAAWjC,GACX5C,UAAU,6BAEV+E,QAAQ,WACR3B,WAAY,UACZJ,WAAW,EACXgC,QAAS,EACTnC,MAAM,qIAGR,kBAAC+B,GAAA,EAAD,CACEC,UAAWjC,GACX7H,KAAK,UACLkK,QAAQ,IAGV,kBAACL,GAAA,EAAD,CACEC,UAAWjC,GACX7H,KAAK,KACLkK,QAAQ,KAMT,SAASyE,GAAmB9J,GAAQ,IACjCuF,EAAuFvF,EAAvFuF,aAAcC,EAAyExF,EAAzEwF,SAAiBC,GAAwDzF,EAA/D0F,MAA+D1F,EAAxDyF,YAAYE,EAA4C3F,EAA5C2F,aAAcC,EAA8B5F,EAA9B4F,cAAerV,EAAeyP,EAAfzP,WAChF,OACE,yBAAK6P,UAAU,kCACb,yBAAKA,UAAU,WACb,wBAAIA,UAAU,gCAAd,+FACA,0BAAMyF,SAAUF,EAAaJ,IAC3B,kBAACsE,GAAD,CAAajE,cAAeA,EAAerV,WAAYA,IACvD,4BACE6P,UAAU,2FAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,iDAaV,IAAMsE,GAAsB,SAAApF,GAC1B,IAAMC,EAAS,GAWf,MAVuB,CACrB,QACA,WACA,SAEanM,SAAQ,SAAAoM,GAChBF,EAAOE,KACVD,EAAOC,GAAS,wGAGbD,GASF,SAASoF,GAAmBhK,GAAQ,IACjCuF,EAAuFvF,EAAvFuF,aAAcC,EAAyExF,EAAzEwF,SAAiBC,GAAwDzF,EAA/D0F,MAA+D1F,EAAxDyF,YAAYE,EAA4C3F,EAA5C2F,aAAcC,EAA8B5F,EAA9B4F,cAAerV,EAAeyP,EAAfzP,WAChF,OACE,0BAAMsV,SAAUF,EAAaJ,IAC3B,yBAAKnF,UAAU,kCACb,yBAAKA,UAAU,gBACb,kBAACyJ,GAAD,CAAajE,cAAeA,EAAerV,WAAYA,KAEzD,yBAAK6P,UAAU,iBACb,4BACEA,UAAU,sFAEV8E,KAAK,SACLY,SAAUN,GAAYC,GAJxB,oDAOA,4BAAQrF,UAAU,wEACLa,QAASjB,EAAMiK,UAAW3I,UAAS,MADhD,2CChHV,SAAS4I,GAAgBlK,GAAQ,IACvBK,EAAYL,EAAZK,QAEJ8J,EAAW,0EAGf,MACE,CACE,yBAAK/J,UAAU,qBAAqB1H,IAAK,GACvC,yBAAK0H,UAAU,kCACb,uBAAGA,UAAU,yBAAyBC,EAAQ7F,OAC9C,uBAAG4F,UAAU,gBAAgBC,EAAQ5F,OACrC,uBAAG2F,UAAU,4BAA4BC,EAAQ+J,cAEnD,yBAAKhK,UAAU,aACf,uBAAGA,UAAU,QAASC,EAAQ3F,aAC9B,uBAAG0F,UAAU,QAAQC,EAAQxF,OACzB,0BAAMuF,UAAU,+BAAhB,kGACA,0BAAMA,UAAU,6BAAhB,wIAEN,yBAAKA,UAAU,mDAAmD1H,IAAK,GACrE,4BAAQ0H,UAAW+J,EAAW,iBAAkBlJ,QAASjB,EAAMiK,UAAW3I,UAASjB,EAAQ7O,IAA3F,oDAGA,4BAAQ4O,UAAW+J,EAAW,iBAAkBlJ,QAAS,kBAAMjB,EAAMlF,cAAcuF,EAAQ7O,MAA3F,8CAGC6O,EAAQxF,OACL,4BAAQuF,UAAW+J,EAAW,mBAAoBlJ,QAASjB,EAAMqK,YAAa/I,UAASjB,EAAQ7O,GACjG8Y,eAAcjK,EAAQxF,QADpB,8EAIA,4BAAQuF,UAAW+J,EAAW,mBAAoBlJ,QAASjB,EAAMqK,YAAa/I,UAASjB,EAAQ7O,GACjG8Y,eAAcjK,EAAQxF,QADpB,+EAUZ,SAAS0P,GAAavK,GAAQ,IAGxBrF,EAFI0F,EACoDL,EADpDK,QAASmK,EAC2CxK,EAD3CwK,OAAQja,EACmCyP,EADnCzP,WAAY0Z,EACuBjK,EADvBiK,UAAWQ,EACYzK,EADZyK,cAAeJ,EACHrK,EADGqK,YAAaha,EAChB2P,EADgB3P,cACvE4G,EAAuD+I,EAAvD/I,mBAAoBD,EAAmCgJ,EAAnChJ,gBAAiB8D,EAAkBkF,EAAlBlF,cAG1CvC,OAAOC,KAAKjI,GAAYkI,SAAQ,SAAAC,GAEzBnI,EAAWmI,GAAKyC,MAAQkF,EAAQ1F,SAAapK,EAAWmI,GAAKlH,IAAM6O,EAAQ1F,WAC9EA,EAAWpK,EAAWmI,OAG1B,IAAI0O,GAAO,EAGX,OAFI/G,EAAQ7O,IAAMgZ,IAAQpD,GAAO,GAG/BA,EACE,kBAAC4C,GAAD,CACEpE,cAAe,CACbpU,GAAI6O,EAAQ7O,GACZgJ,MAAO6F,EAAQ7F,MACfC,MAAO4F,EAAQ5F,MACfE,SAAUA,EAASnJ,GACnBkJ,YAAa2F,EAAQ3F,aAEvB6K,aAAckF,EACdR,UAAWA,EACX1Z,WAAYA,IAEd,yBAAK6P,UAAU,kCACb,kBAAC8J,GAAD,CACE7J,QAASA,EACT4J,UAAWA,EACXI,YAAaA,EACbvP,cAAeA,IAEjB,yBAAKsF,UAAU,oBAAoB1H,IAAK,GACrCrI,EACG,kBAACmS,GAAA,EAAD,MACAnC,EAAQC,QAAUD,EAAQC,OAAOL,OAAS,GACrCI,EAAQC,OAAOzH,KAAI,SAAAmC,GAAK,OACrB,yBAAKoF,UAAU,2CACb1H,IAAKsC,EAAMxJ,IAET,yBAAK0P,IAAKzK,EAAMuE,EAAM0F,cACtB,0BAAMN,UAAU,sCACda,QAAS,kBAAMhK,EAAmB,CAAC+D,MAAOA,EAAMxJ,GAAIA,GAAI6O,EAAQ7O,OADlE,SAShB,yBAAK4O,UAAU,wBACb,2BAAOA,UAAU,yDACf8C,YAAY,4EAAgBgC,KAAK,OAAOwF,SAAU1T,EAClD2T,kBAAiBtK,EAAQ7O,KAC3B,uBAAG4O,UAAU,6BAAb,iCDTZ0J,GAAoBxD,aAAU,CAC5BzG,KAAM,oBACN0G,SAAUwD,IAFQzD,CAGjBwD,IA6BHE,GAAoB1D,aAAU,CAC5BzG,KAAM,oBACN0G,SAAUwD,IAFQzD,CAGjB0D,I,ICnBGY,G,oDACJ,WAAY5K,GAAQ,IAAD,+BACjB,cAAMA,IACD/O,MAAQ,CACX4Z,SAAU,GACVL,OAAQ,KACRM,eAAe,GAEjB,EAAKb,UAAY,EAAKA,UAAUpD,KAAf,iBACjB,EAAK4D,cAAgB,EAAKA,cAAc5D,KAAnB,iBACrB,EAAKwD,YAAc,EAAKA,YAAYxD,KAAjB,iBACnB,EAAK7P,gBAAkB,EAAKA,gBAAgB6P,KAArB,iBAVN,E,uDAaRkE,GAAI,IACLvZ,EAAOuZ,EAAEC,OAAOC,QAAhBzZ,GACR6Q,KAAKgH,SAAL,6BACKhH,KAAKpR,OADV,IAEEuZ,OAAQhZ,O,sCAKV6Q,KAAKrC,MAAMkL,sBACX7I,KAAKgH,SAAL,6BACKhH,KAAKpR,OADV,IAEEuZ,OAAQ,U,kCAICO,GACX1I,KAAKrC,MAAMmL,sBAAsBJ,EAAEC,OAAOC,W,sCAG5BF,GACd1I,KAAKrC,MAAMhJ,gBAAgB,CAAC+D,SAAUgQ,EAAEC,OAAOI,MAAM,GAAI5Z,GAAIuZ,EAAEC,OAAOC,QAAQI,c,+BAGrE,IAAD,SAC4BhJ,KAAKrC,MAAjClK,EADA,EACAA,SAAUzF,EADV,EACUA,cAClB,OACEyF,GAAYA,EAASmK,OAAS,EAC5BnK,EAAS+C,KAAI,SAAAwH,GAAO,OACpB,kBAACkK,GAAD,CACElK,QAASA,EACTmK,OAAQ,EAAKvZ,MAAMuZ,OACnBP,UAAW,EAAKA,UAChBQ,cAAe,EAAKA,cACpBJ,YAAa,EAAKA,YAClBiB,YAAa,EAAKtL,MAAMsL,YACxB/a,WAAY,EAAKyP,MAAMzP,WACvBF,cAAeA,EACf2G,gBAAiB,EAAKA,gBACtBC,mBAAoB,EAAK+I,MAAM/I,mBAC/B6D,cAAe,EAAKkF,MAAMlF,mBAG5B,uBAAGsF,UAAU,iCAAb,iF,GAzDmBqC,aA8D3B,SAAS8I,GAASvL,GAAO,IAEnBwL,EACAC,EAFIC,EAAQ1L,EAAR0L,IAkBR,MAfsB,OAAlBA,EAAIC,YACNH,EAAY,iBACZC,EAAYC,EAAIE,KAAKC,MAAM,KAAK,IAGZ,SAAlBH,EAAIC,YACNH,EAAY,wBACZC,EAAYC,EAAIE,KAAKC,MAAM,KAAK,IAGZ,QAAlBH,EAAIC,YACNH,EAAY,oBACZC,EAAY,OAIZ,0BAAMrL,UAAU,QACd,uBAAGA,UAAWoL,IACd,uBAAGzC,KAAM2C,EAAIE,KACXxL,UAAU,yCAETqL,IAKT,SAASK,GAAkB9L,GAAQ,IAAD,EACR+E,oBAAS,GADD,oBACzBqC,EADyB,KACnBpB,EADmB,OAEGjB,oBAAS,GAFZ,oBAEzBgH,EAFyB,KAEPC,EAFO,KAGxBtQ,EAAgFsE,EAAhFtE,KAAMnL,EAA0EyP,EAA1EzP,WAAY2a,EAA8DlL,EAA9DkL,oBAAqBC,EAAyCnL,EAAzCmL,sBAAuB9a,EAAkB2P,EAAlB3P,cAEhE4b,EAAY,oFAOlB,OACE,6BACG7E,EACG,kBAACrB,GAAD,CACEH,cACA,CAACzK,KAAMO,EAAOA,EAAKP,KAAO,KACxBT,YAAagB,EAAOA,EAAKhB,YAAc,KACvCW,SAAWK,EAAOA,EAAKL,SAAW,KAClC7J,GAAKkK,EAAOA,EAAKlK,GAAK,KACtB4J,MAAQM,EAAOA,EAAKN,MAAQ,KAC5B6K,QAASvK,EAAOA,EAAKuK,QAAU,MAEjCV,aAAcvF,EAAMuF,aACpBS,QAASA,IAEX,yBAAK5F,UAAU,kCACb,yBAAKA,UAAU,WACb,wBAAIA,UAAU,WACX1E,EAAKP,KACN,0BAAMiF,UAAU,4BACd,uBAAGA,UAAU,sBAAyB1E,EAAKN,QAE9CM,EAAKuK,SAAWvK,EAAKuK,QAAQhG,OAAS,GACrC,yBAAKG,UAAU,qCACZ1E,EAAKuK,QAAQpN,KAAI,SAAA6S,GAAG,OACnB,kBAACH,GAAD,CAASG,IAAKA,QAIpB,uBAAGtL,UAAU,qBAAb,oIACA,yBAAKA,UAAU,oCACf,uBAAGA,UAAU,eAAeoB,MAAO,CAACgI,WAAY,aAC7C9N,EAAKhB,YAAcgB,EAAKhB,YAAc,kGAEzC,uBAAG0F,UAAU,qBAAb,sKACA,yBAAKA,UAAU,oCACf,uBAAGA,UAAU,eAAeoB,MAAO,CAACgI,WAAY,aAC7C9N,EAAKL,SAAWK,EAAKL,SAAW,mFAEnC,4BAAQ+E,UAAU,iFACDa,QAAS,kBAAM+E,GAAQ,KADxC,sDAKR,yBAAK5F,UAAY2L,EAAkDE,EAAY,mBAA3CA,EAAY,iBAC7ChL,QAAS,kBAAM+K,GAAQD,KACrB,yBAAK3L,UAAU,WACX2L,EACG,uCACA,gGAKXA,GACC,kBAACjC,GAAD,CACIvZ,WAAYA,EACZgV,aA9DV,WACEyG,GAAQD,GACR/L,EAAMkM,uBA6DEtG,cAAe,KAIrB,kBAAC,GAAD,CACE9P,SAAU4F,EAAKyQ,aACf5b,WAAYA,EACZ2a,oBAAqBA,EACrBC,sBAAuBA,EACvBrQ,cAAekF,EAAMlF,cACrBzK,cAAeA,EACf2G,gBAAiBgJ,EAAMhJ,gBACvBC,mBAAoB+I,EAAM/I,sB,IAO5BmV,G,oDACJ,WAAYpM,GAAQ,IAAD,+BACjB,cAAMA,IACD/O,MAAQ,GAGf,EAAKob,iBAAmB,EAAKA,iBAAiBxF,KAAtB,iBACxB,EAAKyF,iBAAmB,EAAKA,iBAAiBzF,KAAtB,iBACxB,EAAK0F,oBAAsB,EAAKA,oBAAoB1F,KAAzB,iBAC3B,EAAKqE,oBAAsB,EAAKA,oBAAoBrE,KAAzB,iBAC3B,EAAKsE,sBAAwB,EAAKA,sBAAsBtE,KAA3B,iBATV,E,iEAajBxE,KAAKrC,MAAM7O,kB,yCAIXoK,QAAQC,IAAI6G,KAAKrC,MAAM/O,MAAM4O,KAAK2M,cAClCnK,KAAKrC,MAAM5I,WAAWiL,KAAKrC,MAAM/O,MAAM4O,KAAK2M,aAAa7H,U,yCAIzDtC,KAAKrC,MAAM9E,WAAWmH,KAAKrC,MAAM/O,MAAM4O,KAAK4M,aAAa9H,U,4CAIzDtC,KAAKrC,MAAMzF,cAAc8H,KAAKrC,MAAM/O,MAAM4O,KAAK6M,kBAAkB/H,U,4CAIjEtC,KAAKrC,MAAM2M,cAActK,KAAKrC,MAAM/O,MAAM4O,KAAK+M,kBAAkBjI,U,4CAG7C5M,GACpBsK,KAAKrC,MAAM2M,cAAc,CAACnb,GAAIuG,EAAKvG,GAAIqJ,OAAQ9C,EAAK8C,W,+BAG5C,IAAD,IAC4BwH,KAAKrC,MAAhCrM,EADD,EACCA,KAAM+H,EADP,EACOA,KAAMnL,EADb,EACaA,WACZF,EAAkBgS,KAAKrC,MAAM/O,MAAM2O,MAAnCvP,cAER,OACEsD,IAASA,EAAK+H,KACV,kBAAC4J,GAAD,CAAeC,aAAclD,KAAKgK,iBAAkB1Y,KAAMA,EAC1DiS,cAAe,CAACzK,KAAMxH,EAAOA,EAAKyG,SAAW,KAAMkB,WAAY3H,EAAOA,EAAKnC,GAAK,QAChFkK,GACA,kBAACoQ,IAAD,GACEpQ,KAAMA,EACN/H,KAAMA,EACNwD,cAAekL,KAAKrC,MAAM7I,cAC1BoO,aAAclD,KAAKiK,kBAJrB,8BAMiBjK,KAAKrC,MAAM7I,eAN5B,oCAOuBkL,KAAKkK,qBAP5B,2BAQchc,GARd,oCASuB8R,KAAK6I,qBAT5B,sCAUyB7I,KAAK8I,uBAV9B,8BAWiB9I,KAAKrC,MAAMlF,eAX5B,gCAamBuH,KAAKrC,MAAMhJ,iBAb9B,mCAcsBqL,KAAKrC,MAAM/I,oBAdjC,8BAgBiB5G,GAhBjB,Q,GA/CgBoS,aA6FXC,gBAxBS,SAACzR,GAAD,MAAY,CAClCA,MAAOA,EACP2R,QAAS3R,EAAM2R,QACfjP,KAAM1C,EAAMyO,KAAK/L,KACjB+H,KAAMzK,EAAM2O,MAAMiN,QAClBtc,WAAYU,EAAM6E,SAASvF,eAGF,SAACsS,GAAD,MAAe,CACxC1L,cAAe,SAAA3F,GAAE,OAAIqR,EAAS6G,UAAYC,qBAAqBnY,KAC/D0J,WAAY,SAACnD,GAAD,OAAU8K,EAAS6G,UAAYoD,kBAAkB/U,KAC7DX,WAAY,SAACW,GAAD,OAAU8K,EAAS6G,UAAYqD,kBAAkBhV,KAE7DwC,cAAe,SAACxC,GAAD,OAAU8K,EAAS6G,UAAYsD,qBAAqBjV,KACnE4U,cAAe,SAAC5U,GAAD,OAAU8K,EAAS6G,UAAYuD,4BAA4BlV,KAC1E+C,cAAe,SAAAtJ,GAAE,OAAIqR,EAAS6G,UAAYwD,qBAAqB1b,KAE/DwF,gBAAiB,SAACe,GAAD,OAAU8K,EAAS6G,UAAYyD,uBAAuBpV,KACvEd,mBAAoB,SAACc,GAAD,OAAU8K,EAAS6G,UAAY0D,0BAA0BrV,KAE7E5G,cAAe,SAAA2R,GAAK,OAAID,EAASvG,UAAgBhH,qBAAqBwN,QAIzDJ,CAGb0J,ICpYIiB,G,sLACkB,IAEV1T,EAAU0I,KAAKrC,MAAMsC,MAAMjK,OAA3BsB,MACJA,GACF0I,KAAKrC,MAAMjG,WAAWJ,K,+BAKxB,IAAI2T,GAAS,EAEb,OAD8B,IAA1BjL,KAAKrC,MAAMnM,aAAqByZ,GAAS,GAEzC,6BACKA,EACK,kBAAC,GAAD,MACA,uF,GAhBuB7K,aAkC5BC,gBAXS,SAACzR,GAAD,MAAY,CAChC4C,WAAY5C,EAAMyO,KAAK7L,WACvBF,KAAM1C,EAAMyO,KAAK/L,KACjB1C,MAAOA,MAIgB,SAAA4R,GAAQ,MAAK,CACpC9I,WAAY,SAACJ,GAAD,OAAWkJ,EAAS1G,UAAYhJ,kBAAkBwG,QAGnD+I,CAA6C2K,I,oBCjCtDE,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,SAAU,WACVhN,MAAO,IACPiN,gBAAiBH,EAAMI,QAAQC,WAAWJ,MAC1CK,OAAQ,iBACRC,UAAWP,EAAMQ,QAAQ,GACzBC,QAAST,EAAMU,QAAQ,EAAG,EAAG,QAKjC,SAASC,KACP,IAAMC,EAAUd,KAEhB,OACE,qCAAMnN,UAAU,aAAhB,YAAuCiO,EAAQX,OAC7C,wBAAIlc,GAAG,sBACL,uBAAGuX,KAAK,0FAAR,wGAMR,SAASuF,KAAe,IAChBC,EAAaC,cAAbD,SAEN,OACE,kBAAC,IAAD,CAAMnO,UAAU,GAAGyB,GAAG,KACpB,wBAAIzB,UAAU,mBAAmBoB,MAAO,CAAC,cAAe,SAAxD,8EAEgB,MAAb+M,GAAoB,uBAAGnO,UAAU,yBAAyB,IAAtC,yG,IAMvBqO,G,oDACJ,WAAYzO,GAAQ,IAAD,+BACjB,cAAMA,IACD/O,MAAQ,CACXyd,WAAW,GAEb,EAAKza,MAAQ,EAAKA,MAAM4S,KAAX,iBACb,EAAK8H,OAAS,EAAKA,OAAO9H,KAAZ,iBACd,EAAK+H,WAAa,EAAKA,WAAW/H,KAAhB,iBAClB,EAAKgI,YAAc,EAAKA,YAAYhI,KAAjB,iBARF,E,iEAYjB,IAAMlN,EAAQF,aAAaY,QAAQ,SAC/BV,GACF0I,KAAKrC,MAAMjG,WAAWJ,K,mCAKxB0I,KAAKgH,SAAL,6BAAkBhH,KAAKpR,OAAvB,IAA8Byd,WAAW,O,oCAIzCrM,KAAKgH,SAAL,6BAAkBhH,KAAKpR,OAAvB,IAA8Byd,WAAW,O,8BAIzCrM,KAAKrC,MAAM/L,MAAM,CAAC+E,SAAU,MAAOC,SAAU,gB,+BAI7CoJ,KAAKrC,MAAM/L,MAAM,CAAC+E,SAAU,aAAcC,SAAU,iB,+BAG5C,IAAD,EACgCoJ,KAAKrC,MAAMN,KAA1C7L,EADD,EACCA,WAAYH,EADb,EACaA,SAAUC,EADvB,EACuBA,KAE9B,MACE,CACA,yBAAKyM,UAAU,UACb,yBAAKA,UAAU,4CAIb,kBAACkO,GAAD,MACC5a,EACG,KACAG,EACEF,GACA,yBAAKyM,UAAU,IACX,uBAAGA,UAAU,GAAGoB,MAAO,CAAC,cAAe,SAIvC,kBAAC,IAAD,CAAMK,GAAG,cAAT,qFAKJ,yBAAKzB,UAAU,IACb,uBAAGA,UAAU,GAAGa,QAASoB,KAAKuM,WAAYpN,MAAO,CAAC,cAAe,SAAjE,kCAGA,4BAAQpB,UAAU,MAAKa,QAASoB,KAAKpO,OAArC,kCACA,4BAAQmM,UAAU,MAAKa,QAASoB,KAAKsM,QAArC,qCAKV,kBAACG,GAAA,EAAD,CACE9N,KAAMqB,KAAKpR,MAAMyd,UACjBK,QAAS1M,KAAKwM,YACdG,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAACb,GAAD,a,GA5EW3L,aAoGNC,gBAZS,SAACzR,GAAD,MAAY,CAClCA,MAAOA,EACPyO,KAAMzO,EAAMyO,KACZkD,QAAS3R,EAAM2R,YAGU,SAACC,GAAD,MAAe,CACxC9I,WAAY,SAACJ,GAAD,OAAWkJ,EAAS1G,UAAYhJ,kBAAkBwG,KAC9DuV,OAAQ,kBAAMrM,EAAS1G,UAAYnJ,kBACnCiB,MAAO,SAAC8D,GAAD,OAAU8K,EAAS1G,UAAYtJ,aAAakF,QAGtC2K,CAGb+L,ICjIIU,GZHS,SAAC3I,GACd,IAAM4I,EAAiBC,cACjBF,EAAQG,sBAAY9P,GAAU+P,8BAClCC,0BAAgBJ,KAGCA,EAAeK,IAAIC,IAetC,OAAOP,EYlBKQ,GASdC,IAASC,OACP,kBAAC,IAAD,CAAUV,MAAOA,IACf,kBAAC,IAAD,KACE,qCAAK/O,UAAU,MAAM5O,GAAG,QAAxB,YAAyC,IACvC,kBAAC,GAAD,MACA,yBAAK4O,UAAU,6BACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0P,OAAK,EAACC,KAAK,IAAI9K,UAAW0B,KACjC,kBAAC,IAAD,CAAOmJ,OAAK,EAACC,KAAK,sBAAsB9K,UAAW7C,KACnD,kBAAC,IAAD,CAAO2N,KAAK,mCAAmC9K,UAAW+D,KAC1D,kBAAC,IAAD,CAAO+G,KAAK,aAAa9K,UAAWmH,KACpC,kBAAC,IAAD,CAAO2D,KAAK,qBAAqB9K,UAAWoI,UAKzC2C,SAASC,eAAe,U,gICpC1BC,EAAe,SAACC,EAAOC,GAAR,OAAiBC,IAAEC,IAAIH,EAAO,CAACC,KAgC9C7e,EAAgB,SAACgf,EAAM/e,GAClC,IAAIgf,EAAM,KAKV,OAJAD,EAAK1X,KAAI,SAAA4X,GACHA,EAAO,IAAUjf,IACnBgf,EAAMC,MAEHD,I,siECzCmBzhB,wBAAc,CACtCgU,gBAAiB,CAAC,WAClBtG,aAAc,CAAC,WACfD,gBAAiB,CAAC,WAElBmN,qBAAsB,CAAC,WACvBhN,kBAAmB,CAAC,SACpBD,qBAAsB,CAAC,WAEvBgU,kBAAmB,CAAC,WACpBC,eAAgB,CAAC,SACjBtU,kBAAmB,CAAC,WAEpByQ,kBAAmB,CAAC,WACpBjQ,eAAgB,CAAC,WACjBD,kBAAmB,CAAC,WAEpBmQ,kBAAmB,CAAC,WACpBhQ,eAAgB,CAAC,WACjBD,kBAAmB,CAAC,WAEpBkQ,qBAAsB,CAAC,WACvB/P,kBAAmB,CAAC,WACpBD,qBAAsB,CAAC,WAEvBiQ,4BAA6B,CAAC,WAC9B9P,yBAA0B,CAAC,WAC3BD,4BAA6B,CAAC,WAE9BgQ,qBAAsB,CAAC,WACvB7P,kBAAmB,CAAC,WACpBD,qBAAsB,CAAC,WAEvB+P,uBAAwB,CAAC,WACzB5P,oBAAqB,CAAC,WACtBD,uBAAwB,CAAC,WAEzB8P,0BAA2B,CAAC,WAC5B3P,uBAAwB,CAAC,WACzBD,0BAA2B,CAAC,WAE5BK,mBAAoB,CAAC,WACrBC,wBAAyB,CAAC,WAE1B8L,gBAAiB,CAAC,WAClBjM,aAAc,CAAC,SACfD,gBAAiB,CAAC,aA9Cd3N,E,EAAAA,MAAOC,E,EAAAA,SAiDF2O,EAAa5O,EACXC,YAIR,IAAME,EAAgBC,IAAU,CACnCC,cAAc,EACdwR,UAAW,GACXpR,UAAW,KAEXC,eAAgB,KAChBkY,WAAY,KACZhY,YAAa,KAEbkc,QAAS,KAETxc,cAAe,KACfugB,WAAY,KAEZ/f,QAAS,KAKAggB,EAAiB,CAC1B5V,SAAU,SAAAhK,GAAK,OAAIA,EAAM2O,MAAMgC,YAMtBmB,EAAkB,SAAC9R,EAAD,GAAwB,EAAdG,QACrC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAMwR,UAAW,MAG3CpF,EAAkB,SAACvL,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACrC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAW,KAAMoR,UAAWxQ,KAG7DqL,EAAe,SAACxL,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAClC,OAAOH,EAAMI,MAAM,CAAEjB,cAAc,EAAOI,UAAUY,EAASwQ,UAAW,MAI/D+H,EAAuB,SAAC1Y,EAAD,GAAwB,EAAdG,QAC1C,OAAOH,EAAMI,MAAM,CAAEZ,gBAAgB,KAG5BiM,EAAuB,SAACzL,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC1C,OAAOH,EAAMI,MAAM,CAAEZ,gBAAgB,EAAOE,YAAa,KAAMgY,WAAYvX,KAGlEuL,EAAoB,SAAC1L,EAAD,GAAuB,IAAb2C,EAAY,EAAZA,MACvC,OAAO3C,EAAMI,MAAM,CAAEZ,gBAAgB,EAAOE,YAAaiD,EAAO+U,WAAY,QAInE+H,EAAoB,SAACzf,EAAD,GAAwB,EAAdG,QACvC,OAAOH,EAAMI,MAAM,CAAEZ,gBAAgB,KAG5B4L,EAAoB,SAACpL,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACvC,OAAOH,EAAMI,MAAM,CAAEZ,gBAAgB,EAAOE,YAAa,KAAMkc,QAASzb,KAG/Duf,EAAiB,SAAC1f,EAAD,GAAuB,IAAb2C,EAAY,EAAZA,MACpC,OAAO3C,EAAMI,MAAM,CAAEZ,gBAAgB,EAAOE,YAAaiD,EAAOiZ,QAAS,QAIhEC,EAAoB,SAAC7b,EAAD,GAAwB,EAAdG,QACvC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1C+L,EAAoB,SAAC3L,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACvC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAW,KAAMK,QAASO,EAAQP,QACzEgc,QAASzb,EAAQsK,QAGZmB,EAAiB,SAAC5L,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACpC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAUY,EAASP,QAAS,MAI9Dkc,EAAoB,SAAC9b,EAAD,GAAwB,EAAdG,QACvC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1CiM,EAAoB,SAAC7L,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACvC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAW,KAClDqc,QAAQ,2BACD5b,EAAM4b,SACNzb,MAKF2L,EAAiB,SAAC9L,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACpC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAWY,EAASP,QAAS,MAI/Dmc,EAAuB,SAAC/b,EAAD,GAAwB,EAAdG,QAC1C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1CmM,EAAuB,SAAC/L,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC1C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOugB,WAAY,KACnD/D,QAAQ,2BAAK5b,EAAM4b,SAAZ,IAAqBV,aAAa,CAAE/a,GAAH,mBAAeH,EAAM4b,QAAQV,oBAGhElP,EAAoB,SAAChM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACvC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOugB,WAAWxf,EAASP,QAAS,MAI/Doc,EAA8B,SAAChc,EAAD,GAAwB,EAAdG,QACjD,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1CqM,EAA8B,SAACjM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC3C0f,EAAgBvf,YAAcN,EAAM4b,QAAQV,aAAc/a,EAAQI,IAClEC,EAAQR,EAAM4b,QAAQV,aAAaza,QAAQof,GACjD,OAAO7f,EAAMI,MAAM,CACfhB,eAAe,EACfG,UAAW,KACXK,QAASO,EAAQP,QACjBgc,QAAQ,2BACD5b,EAAM4b,SADN,IAEHV,aAAa,GAAD,mBACLlb,EAAM4b,QAAQV,aAAaxa,MAAM,EAAGF,IAD/B,CAERL,GAFQ,YAGLH,EAAM4b,QAAQV,aAAaxa,MAAMF,EAAQ,UAM/C0L,EAA2B,SAAClM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC9C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAUY,EAASP,QAAS,MAI9Dqc,EAAuB,SAACjc,EAAD,GAAwB,EAAdG,QAC1C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1CuM,EAAuB,SAACnM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACpC0f,EAAgBvf,YAAcN,EAAM4b,QAAQV,aAAc/a,EAAQI,IAClEC,EAAQR,EAAM4b,QAAQV,aAAaza,QAAQof,GACjD,OAAO7f,EAAMI,MAAM,CACfhB,eAAe,EACfG,UAAW,KACXK,QAASO,EAAQP,QACjBgc,QAAQ,2BACD5b,EAAM4b,SADN,IAEHV,aAAa,GAAD,mBACLlb,EAAM4b,QAAQV,aAAaxa,MAAM,EAAGF,IAD/B,YAELR,EAAM4b,QAAQV,aAAaxa,MAAMF,EAAQ,UAM/C4L,EAAoB,SAACpM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACvC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAUY,EAASP,QAAS,MAI9Dsc,EAAyB,SAAClc,EAAD,GAAwB,EAAdG,QAC5C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1CyM,EAAyB,SAACrM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACtC0f,EAAgBvf,YAAcN,EAAM4b,QAAQV,aAAc/a,EAAQiP,QAAQ7O,IAC1EC,EAAQR,EAAM4b,QAAQV,aAAaza,QAAQof,GACjD,OAAO7f,EAAMI,MAAM,CACfhB,eAAe,EACfG,UAAW,KACXK,QAASO,EAAQP,QACjBgc,QAAQ,2BACD5b,EAAM4b,SADN,IAEHV,aAAa,GAAD,mBACLlb,EAAM4b,QAAQV,aAAaxa,MAAM,EAAGF,IAD/B,CAERL,EAAQiP,SAFA,YAGLpP,EAAM4b,QAAQV,aAAaxa,MAAMF,EAAQ,UAM/C8L,EAAsB,SAACtM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACzC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAUY,EAASP,QAAS,MAI9Duc,EAA4B,SAACnc,EAAD,GAAwB,EAAdG,QAC/C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1C2M,EAA4B,SAACvM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACzC0f,EAAgBvf,YAAcN,EAAM4b,QAAQV,aAAc/a,EAAQiP,QAAQ7O,IAC1EC,EAAQR,EAAM4b,QAAQV,aAAaza,QAAQof,GACjD,OAAO7f,EAAMI,MAAM,CACfhB,eAAe,EACfG,UAAW,KACXK,QAASO,EAAQP,QACjBgc,QAAQ,2BACD5b,EAAM4b,SADN,IAEHV,aAAa,GAAD,mBACLlb,EAAM4b,QAAQV,aAAaxa,MAAM,EAAGF,IAD/B,CAERL,EAAQiP,SAFA,YAGLpP,EAAM4b,QAAQV,aAAaxa,MAAMF,EAAQ,UAM/CgM,EAAyB,SAACxM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAC5C,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOG,UAAUY,EAASP,QAAS,MAI9DgN,EAAqB,SAAC5M,EAAD,GAAyB,IAAfuW,EAAc,EAAdA,QACxC,OAAOvW,EAAMI,MAAM,CACfsX,WAAW,2BACJ1X,EAAM0X,YADH,IAEN3G,eAAe,GAAD,mBACP/Q,EAAM0X,WAAW3G,gBADV,CAEVwF,SAMH1J,EAA0B,SAAC7M,EAAD,GAAyB,IAAfuW,EAAc,EAAdA,QACzCxF,EAAiBkO,YAAajf,EAAM0X,WAAW3G,eAAgBwF,GAEnE,OAAOvW,EAAMI,MAAM,CACfsX,WAAW,2BACJ1X,EAAM0X,YADH,IAEN3G,eAAgBA,OAKf4H,EAAkB,SAAC3Y,EAAD,GAAwB,EAAdG,QACrC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAMQ,QAAS,MAG1C6M,EAAkB,SAACzM,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QACrC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOugB,WAAY,KACnDjI,WAAW,2BACJ1X,EAAM0X,YADH,IAEN5G,WAAY3Q,EAAQ2Q,gBAKnBpE,EAAe,SAAC1M,EAAD,GAAyB,IAAfG,EAAc,EAAdA,QAClC,OAAOH,EAAMI,MAAM,CAAEhB,eAAe,EAAOugB,WAAYxf,EAASP,QAAS,MAIhEe,EAAUC,wBAAc3B,GAAD,mBAC/BH,EAAM6O,kBAAoBmE,GADK,cAE/BhT,EAAMghB,kBAAoBvU,GAFK,cAG/BzM,EAAMihB,eAAiBvU,GAHQ,cAK/B1M,EAAM+O,wBAA0B6K,GALD,cAM/B5Z,EAAMkhB,wBAA0BvU,GAND,cAO/B3M,EAAMmhB,qBAAuBvU,GAPE,cAS/B5M,EAAMohB,qBAAuBT,GATE,cAU/B3gB,EAAMqhB,qBAAuB/U,GAVE,cAW/BtM,EAAMshB,kBAAoBV,GAXK,cAa/B5gB,EAAMgP,oBAAsB+N,GAbG,cAc/B/c,EAAMuhB,oBAAsB1U,GAdG,cAe/B7M,EAAMwhB,iBAAmB1U,GAfM,cAiB/B9M,EAAMiP,oBAAsB+N,GAjBG,cAkB/Bhd,EAAMyhB,oBAAsB1U,GAlBG,cAmB/B/M,EAAM0hB,iBAAmB1U,GAnBM,cAqB/BhN,EAAMmP,uBAAyB8N,GArBA,cAsB/Bjd,EAAM2hB,uBAAyB1U,GAtBA,cAuB/BjN,EAAM4hB,oBAAsB1U,GAvBG,cAyB/BlN,EAAMoP,+BAAiC8N,GAzBR,cA0B/Bld,EAAM6hB,+BAAiC1U,GA1BR,cA2B/BnN,EAAM8hB,4BAA8B1U,GA3BL,cA6B/BpN,EAAMqP,uBAAyB8N,GA7BA,cA8B/Bnd,EAAM+hB,uBAAyB1U,GA9BA,cA+B/BrN,EAAMgiB,oBAAsB1U,GA/BG,cAiC/BtN,EAAMsP,0BAA4B8N,GAjCH,cAkC/Bpd,EAAMiiB,0BAA4B1U,GAlCH,cAmC/BvN,EAAMkiB,uBAAyB1U,GAnCA,cAqC/BxN,EAAMuP,6BAA+B8N,GArCN,cAsC/Brd,EAAMmiB,6BAA+B1U,GAtCN,cAuC/BzN,EAAMoiB,0BAA4B1U,GAvCH,cAyC/B1N,EAAMqiB,sBAAwBvU,GAzCC,cA0C/B9N,EAAMsiB,2BAA6BvU,GA1CJ,cA4C/B/N,EAAMkP,kBAAoB2K,GA5CK,cA6C/B7Z,EAAMuiB,kBAAoB5U,GA7CK,cA8C/B3N,EAAMwiB,eAAiB5U,GA9CQ,M","file":"static/js/main.ad087097.chunk.js","sourcesContent":["import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\nimport { getObjectbyId } from '../../components/utils'\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getFeedbacksRequest: ['payload'],\r\n    getFeedbacksFail: ['payload'],\r\n    getFeedbacksSuccess: ['payload'],\r\n\r\n    createFeedbackRequest: ['payload'],\r\n    createFeedbackFail: ['payload'],\r\n    createFeedbackSuccess: ['payload'],\r\n\r\n    updateFeedbackRequest: ['payload'],\r\n    updateFeedbackFail: ['payload'],\r\n    updateFeedbackSuccess: ['payload'],\r\n\r\n    deleteFeedbackRequest: ['payload'],\r\n    deleteFeedbackFail: ['payload'],\r\n    deleteFeedbackSuccess: ['payload'],\r\n\r\n    createSuggestionRequest: ['payload'],\r\n    createSuggestionFail: ['payload'],\r\n    createSuggestionSuccess: ['payload'],\r\n})\r\n\r\nexport const FeedbacksTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    eventFetching: false,\r\n    \r\n    feedback_list: [],\r\n    categories: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    feedbackDetail: null,\r\n    errorDetail: null,\r\n\r\n    errorEvent: null,\r\n\r\n    message: '',\r\n    suggMessage: ''\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const FeedbacksSelectors = {\r\n    getFeedbacks: state => state.feedbacks.feedback_list,\r\n    getCategories: state => state.feedbacks.categories,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get Feedbacks\r\nexport const getFeedbacksRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, feedback_list: [] })\r\n}\r\n\r\nexport const getFeedbacksSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, feedback_list: payload })\r\n}\r\n\r\nexport const getFeedbacksFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, feedback_list: [] })\r\n}\r\n\r\n// create Feedbacks\r\nexport const createFeedbackRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, })\r\n}\r\n\r\nexport const createFeedbackSuccess = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorEvent: null, message: payload.message })\r\n}\r\n\r\nexport const createFeedbackFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorEvent: payload, })\r\n}\r\n\r\n// update \r\nexport const updateFeedbackRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const updateFeedbackSuccess = (state, { payload }) => {\r\n    const feedbackInList = getObjectbyId(state.feedback_list, payload.id)\r\n    const index = state.feedback_list.indexOf(feedbackInList)\r\n    return state.merge({ \r\n        eventFetching: false,\r\n        errorEvent: null,\r\n        feedback_list: [\r\n            ...state.feedback_list.slice(0, index),\r\n            payload,\r\n            ...state.feedback_list.slice(index + 1)\r\n            ]\r\n        })\r\n}\r\n\r\nexport const updateFeedbackFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorEvent: payload, message: '' })\r\n}\r\n\r\n// delete\r\nexport const deleteFeedbackRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const deleteFeedbackSuccess = (state, { payload }) => {\r\n    const feedbackInList = getObjectbyId(state.feedback_list, payload.id)\r\n    const index = state.feedback_list.indexOf(feedbackInList)\r\n    return state.merge({ \r\n        eventFetching: false,\r\n        errorEvent: null,\r\n        feedback_list: [\r\n            ...state.feedback_list.slice(0, index),\r\n            ...state.feedback_list.slice(index + 1)\r\n            ]\r\n        })\r\n}\r\n\r\nexport const deleteFeedbackFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorEvent: payload, suggMessage: '' })\r\n}\r\n\r\n// create Suggestion\r\nexport const createSuggestionRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, })\r\n}\r\n\r\nexport const createSuggestionSuccess = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorEvent: null, suggMessage: payload.message })\r\n}\r\n\r\nexport const createSuggestionFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorEvent: payload, })\r\n}\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_FEEDBACKS_REQUEST]: getFeedbacksRequest,\r\n    [Types.GET_FEEDBACKS_SUCCESS]: getFeedbacksSuccess,\r\n    [Types.GET_FEEDBACKS_FAIL]: getFeedbacksFail,\r\n\r\n    [Types.CREATE_FEEDBACK_REQUEST]: createFeedbackRequest,\r\n    [Types.CREATE_FEEDBACK_SUCCESS]: createFeedbackSuccess,\r\n    [Types.CREATE_FEEDBACK_FAIL]: createFeedbackFail,\r\n\r\n    [Types.UPDATE_FEEDBACK_REQUEST]: updateFeedbackRequest,\r\n    [Types.UPDATE_FEEDBACK_SUCCESS]: updateFeedbackSuccess,\r\n    [Types.UPDATE_FEEDBACK_FAIL]: updateFeedbackFail,\r\n\r\n    [Types.DELETE_FEEDBACK_REQUEST]: deleteFeedbackRequest,\r\n    [Types.DELETE_FEEDBACK_SUCCESS]: deleteFeedbackSuccess,\r\n    [Types.DELETE_FEEDBACK_FAIL]: deleteFeedbackFail,\r\n\r\n    [Types.CREATE_SUGGESTION_REQUEST]: createSuggestionRequest,\r\n    [Types.CREATE_SUGGESTION_SUCCESS]: createSuggestionSuccess,\r\n    [Types.CREATE_SUGGESTION_FAIL]: createSuggestionFail,\r\n})\r\n","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\n\r\nconst { Types, Creators } = createActions({\r\n  loginRequest: ['payload'],\r\n  loginSuccess: ['payload'],\r\n  loginFailure: ['payload'],\r\n\r\n  logoutRequest: null,\r\n  logoutSuccess: null,\r\n  logoutFailure: ['error'],\r\n\r\n  checkTokenRequest: ['payload'],\r\n  checkTokenSuccess: ['payload'],\r\n  checkTokenFail: ['error'],\r\n\r\n  partialUpdateUserRequest: ['payload'],\r\n  partialUpdateUserFail: ['payload'],\r\n  partialUpdateUserSuccess: ['payload'],\r\n})\r\n\r\nexport const AuthTypes = Types\r\nexport default Creators\r\n\r\n/* ------------- Initial State ------------- */\r\n\r\nexport const INITIAL_STATE = Immutable({\r\n  fetching: false,\r\n  user: null,\r\n  error: '',\r\n  isLoggedIn: false,\r\n  isLoggingIn: false\r\n})\r\n\r\n/* ------------- Selectors ------------- */\r\n\r\nexport const AuthSelectors = {\r\n  getUser: state => state.user,\r\n  login: state => state.user,\r\n}\r\n\r\n/* ------------- Reducers ------------- */\r\n\r\n// login request\r\nexport const loginRequest = (state, { payload }) => {\r\n  return state.merge({ fetching: true, user: null, isLoggingIn: true, isLoggedIn: false })\r\n}\r\n  \r\n\r\n// login success\r\nexport const loginSuccess = (state, { payload, user }) => {\r\n  return state.merge({ fetching: false, error: null, user: payload.profile, isLoggedIn: true, isLoggingIn: false })\r\n}\r\n\r\n// login fail\r\nexport const loginFailure = (state, action) => {\r\n  const { error } = action\r\n  return state.merge({ fetching: false, error: error, user: null, isLoggedIn: false, isLoggingIn: false })\r\n}\r\n\r\n\r\n// logout request\r\nexport const logoutRequest = (state) => {\r\n  return state.merge({ fetching: true, isLoggingIn: true })\r\n}\r\n\r\nexport const logoutSuccess = (state) => {\r\n  return state.merge({ fetching: false, error: null, user: null, isLoggingIn: false, isLoggedIn: false  })\r\n}\r\n\r\nexport const logoutFailure = (state, { error }) => {\r\n  return state.merge({ fetching: false, error: error, isLoggingIn: false })\r\n}\r\n \r\nexport const checkTokenRequest = (state, { payload }) => {\r\n  return state.merge({ fetching: true })\r\n}\r\n\r\nexport const checkTokenSuccess = (state, { payload }) => {\r\n  return state.merge({ fetching: false, error: null, user: payload.profile, isLoggedIn: true, isLoggingIn: false })\r\n}\r\n\r\nexport const checkTokenFail = (state, { error }) => {\r\n  return state.merge({ fetching: false, error: error, user: null, isLoggedIn: false, isLoggingIn: false })\r\n}\r\n\r\n// partial update User\r\nexport const partialUpdateUserRequest = (state, { payload }) => {\r\n  return state.merge({ fetching: true, message: '' })\r\n}\r\n\r\nexport const partialUpdateUserSuccess = (state, { payload }) => {\r\n  return state.merge({ fetching: false, error: null, user: payload.profile })\r\n}\r\n\r\nexport const partialUpdateUserFail = (state, { payload }) => {\r\n  return state.merge({ fetching: false, error: payload, message: '' })\r\n}\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n  [Types.LOGIN_REQUEST]: loginRequest,\r\n  [Types.LOGIN_SUCCESS]: loginSuccess,\r\n  [Types.LOGIN_FAILURE]: loginFailure,\r\n  \r\n  [Types.CHECK_TOKEN_REQUEST]: checkTokenRequest,\r\n  [Types.CHECK_TOKEN_FAIL]: checkTokenFail,\r\n  [Types.CHECK_TOKEN_SUCCESS]: checkTokenSuccess,\r\n  \r\n  [Types.LOGOUT_REQUEST]: logoutRequest,\r\n  [Types.LOGOUT_SUCCESS]: logoutSuccess,\r\n  [Types.LOGOUT_FAILURE]: logoutFailure,\r\n\r\n  [Types.PARTIAL_UPDATE_USER_REQUEST]: partialUpdateUserRequest,\r\n  [Types.PARTIAL_UPDATE_USER_SUCCESS]: partialUpdateUserSuccess,\r\n  [Types.PARTIAL_UPDATE_USER_FAIL]: partialUpdateUserFail,\r\n  \r\n})\r\n","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getProductsRequest: ['payload'],\r\n    getProductsFail: ['payload'],\r\n    getProductsSuccess: ['payload'],\r\n\r\n    getProductDetailRequest: ['payload'],\r\n    getProductDetailFail: ['error'],\r\n    getProductDetailSuccess: ['payload'],\r\n\r\n    getCategoriesRequest: ['payload'],\r\n    getCategoriesFail: ['payload'],\r\n    getCategoriesSuccess: ['payload'],\r\n\r\n})\r\n\r\nexport const ProductsTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    product_list: [],\r\n    categories: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    productDetail: null,\r\n    errorDetail: null,\r\n\r\n    message: '',\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const ProductsSelectors = {\r\n    getProducts: state => state.products.product_list,\r\n    getCategories: state => state.products.categories,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get products\r\nexport const getProductsRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, product_list: [] })\r\n}\r\n\r\nexport const getProductsSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, product_list: payload })\r\n}\r\n\r\nexport const getProductsFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, product_list: [] })\r\n}\r\n\r\n// Get one\r\nexport const getProductDetailRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getProductDetailSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, productDetail: payload,\r\n         tours_info: payload.tours_info})\r\n}\r\n\r\nexport const getProductDetailFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, productDetail: null })\r\n}\r\n\r\n// Get categories\r\nexport const getCategoriesRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, categories: [] })\r\n}\r\n\r\nexport const getCategoriesSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, categories: payload })\r\n}\r\n\r\nexport const getCategoriesFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, categories: [] })\r\n}\r\n\r\n\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_PRODUCTS_REQUEST]: getProductsRequest,\r\n    [Types.GET_PRODUCTS_SUCCESS]: getProductsSuccess,\r\n    [Types.GET_PRODUCTS_FAIL]: getProductsFail,\r\n\r\n    [Types.GET_PRODUCT_DETAIL_REQUEST]: getProductDetailRequest,\r\n    [Types.GET_PRODUCT_DETAIL_SUCCESS]: getProductDetailSuccess,\r\n    [Types.GET_PRODUCT_DETAIL_FAIL]: getProductDetailFail,\r\n\r\n    [Types.GET_CATEGORIES_REQUEST]: getCategoriesRequest,\r\n    [Types.GET_CATEGORIES_SUCCESS]: getCategoriesSuccess,\r\n    [Types.GET_CATEGORIES_FAIL]: getCategoriesFail,\r\n})\r\n","// export const url = 'http://35.222.169.29';\r\nexport const url = 'https://svoyaeda.su';\r\n// export const url = 'http://192.168.1.6';\r\n\r\nexport const apiUrl = `${url}/api`;\r\n\r\nexport default {\r\n    JWT_AUTH: `${apiUrl}/jwt/api-token-auth/`,\r\n    JWT_CHECK_TOKEN: `${apiUrl}/jwt/api-token-verify/`,\r\n    updateUser: (id) => `${apiUrl}/profiles/${id}/`,\r\n\r\n    // products\r\n    GET_PRODUCTS: `${apiUrl}/products/`,\r\n    getProductDetail: (id) => `${apiUrl}/products/${id}/`,\r\n    addProductImage: (id) => `${apiUrl}/products/${id}/add_image/`,\r\n    deleteProductImage: (id) => `${apiUrl}/products/${id}/delete_image/`,\r\n\r\n    // shops\r\n    GET_SHOPS: `${apiUrl}/shops/`,\r\n    getShopDetail: (id) => `${apiUrl}/shops/${id}/`,\r\n    updateShop: (id) => `${apiUrl}/shops/${id}/`,\r\n    likeShop: (id) => `${apiUrl}/shops/${id}/like/`,\r\n\r\n    // categories\r\n    GET_CATEGORIES: `${apiUrl}/categories/`,\r\n\r\n    // feedbacks\r\n    FEEDBACKS: `${apiUrl}/feedbacks/`,\r\n    feedback: (id) => `${apiUrl}/feedbacks/${id}/`,\r\n    SUGGS: `${apiUrl}/suggestions/`,\r\n}","\n// standart serializer field error. There are could be several fields\n// {\n//     \"birth_id\": [\"This field is required.\"]\n// }\n\n\nexport const parseErrorData = (error) => {\n\n    if (error && typeof error.response !== 'undefined') {\n        let errorObj = {\n            status: error.response.status, \n            statusText: error.response.statusText,\n            message: null,\n            response: error.response,\n        }\n        if ('message' in error.response.data) {\n            errorObj.message = JSON.stringify(error.response.data.message)\n        }\n        else {\n            let message = ''\n            for (const property in error.response.data) {\n                message = message + `${property}: ${error.response.data[property]}. `\n              }\n            errorObj.message = message\n\n        }\n        return errorObj\n\n    } else {\n        return { \n         status: 'Connection Error',\n         statusText: 'An error occurred while sending your data!',\n         message: 'An error occurred while sending your data!' }\n    }\n}\n\nexport const createUrlParamsFromFilters = (filters) => {\n    const params = new URLSearchParams()\n\n    if (filters != null) Object.keys(filters).forEach(key => {\n            if (filters[key] !== null && !(filters[key] instanceof Array)) \n                params.append(key, filters[key])\n            if (filters[key] !== null && filters[key] instanceof Array){\n                delete params[key]\n                filters[key].map(value => {\n                    if (value !== '')\n                        params.append(key, value)\n                    return null\n                })\n            }\n        })\n    return params\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\n\r\nconst create = () => {\r\n  const logIn = payload => {\r\n    const { username, password } = payload;\r\n    const url = endpoints.JWT_AUTH;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"username\", username);\r\n    formData.append(\"password\", password);\r\n\r\n    return axios({\r\n          method: 'post',\r\n          url: url,\r\n          data: formData,\r\n          headers: { 'content-type': 'multipart/form-data', }\r\n    })\r\n    .then(response => {\r\n        localStorage.setItem('token', response.data.token);\r\n        return response.data\r\n    })\r\n    .catch(err => {\r\n      const error = new Error(err);\r\n      error.data = parseErrorData(err);\r\n      throw error;\r\n    })\r\n    }\r\n\r\n  const logOut = () => {\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  const checkToken = (payload: string) => {\r\n    return axios.post(endpoints.JWT_CHECK_TOKEN, { token: payload })\r\n      .then(response => {\r\n        localStorage.setItem('token', response.data.token);\r\n        return response.data\r\n      })\r\n      .catch(err => {\r\n        const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n      })\r\n  }\r\n\r\n  const partialUpdateUser = payload => {\r\n    const { id, nickname } = payload;\r\n    const token = localStorage.getItem('token') || '';\r\n    const url = endpoints.updateUser(id);\r\n\r\n    const formData = new FormData();\r\n    nickname && formData.append(\"nickname\", nickname);\r\n\r\n    return axios({\r\n                method: 'patch',\r\n                url: url,\r\n                data: formData,\r\n                headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n    })\r\n    .then(response => {\r\n        return response.data\r\n    })\r\n    .catch(err => {\r\n        const error = new Error(err);\r\n        error.data = parseErrorData(err);\r\n        throw error;\r\n    })\r\n}\r\n\r\n  return {\r\n    logIn,\r\n    checkToken,\r\n    logOut,\r\n    partialUpdateUser\r\n  }\r\n}\r\n\r\nexport default {\r\n  create\r\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getCategories = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_CATEGORIES, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getProducts = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_PRODUCTS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getProductDetail = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getProductDetail(id);\r\n\r\n        return axios({\r\n                    method: 'get',\r\n                    url: url,\r\n                    // headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const createProduct = payload => {\r\n        const { title, price, description, category } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.GET_PRODUCTS;\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"title\", title);\r\n        formData.append(\"price\", price);\r\n        formData.append(\"category\", category);\r\n        description && formData.append(\"description\", description);\r\n        \r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const partialUpdateProduct = payload => {\r\n        const { id, title, description, price, category, active } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getProductDetail(id);\r\n\r\n        const formData = new FormData();\r\n        title && formData.append(\"title\", title);\r\n        description && formData.append(\"description\", description);\r\n        price && formData.append(\"price\", price);\r\n        category && formData.append(\"category\", category);\r\n        active && formData.append(\"active\", active);\r\n        \r\n        return axios({\r\n                    method: 'patch',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const deleteProduct = id => {\r\n        // const { id } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getProductDetail(id);\r\n\r\n        return axios({\r\n                    method: 'delete',\r\n                    url: url,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const addProductImage = payload => {\r\n        const { id, original } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.addProductImage(id);\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"original\", original);\r\n        \r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const deleteProductImage = payload => {\r\n        const { id, image } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.deleteProductImage(id);\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"image\", image);\r\n        \r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getProducts,\r\n        getProductDetail,\r\n        getCategories,\r\n        createProduct,\r\n        partialUpdateProduct,\r\n        deleteProduct,\r\n        addProductImage,\r\n        deleteProductImage\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getShops = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.GET_SHOPS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const getShopDetail = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.getShopDetail(id);\r\n\r\n        return axios({\r\n                    method: 'get',\r\n                    url: url,\r\n                    // headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const createShop = payload => {\r\n        const { name, phone, description, delivery, profile_id } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.GET_SHOPS;\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"name\", name);\r\n        formData.append(\"phone\", phone);\r\n        formData.append(\"profile\", profile_id);\r\n        description && formData.append(\"description\", description);\r\n        delivery && formData.append(\"delivery\", delivery);\r\n        \r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const updateShop = payload => {\r\n        const { id } = payload;\r\n        // const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.updateShop(id);\r\n    \r\n        // const formData = new FormData();\r\n        // name && formData.append(\"name\", name);\r\n        // description && formData.append(\"description\", description);\r\n        // phone && formData.append(\"phone\", phone);\r\n        // delivery && formData.append(\"delivery\", delivery);\r\n\r\n        // if (socials) {\r\n        //     socials.map(s =>\r\n        //         formData.append(\"socials\", s)\r\n        //     )\r\n        //     formData.append(\"socials_arr\", socials)\r\n        // }\r\n\r\n    \r\n        // return axios({\r\n        //             method: 'patch',\r\n        //             url: url,\r\n        //             data: formData,\r\n        //             headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        // })\r\n        // .then(response => {\r\n        //     return response.data\r\n        // })\r\n        // .catch(err => {\r\n        //     const error = new Error(err);\r\n        //     error.data = parseErrorData(err);\r\n        //     throw error;\r\n        // })\r\n\r\n        const token = localStorage.getItem('token') || '';\r\n        return axios({\r\n                    method: 'patch',\r\n                    url: url,\r\n                    data: payload,\r\n                    headers: { 'content-type': 'application/JSON', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const likeShop = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.likeShop(id);\r\n        console.log('id', id)\r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getShops,\r\n        getShopDetail,\r\n        createShop,\r\n        updateShop,\r\n        likeShop\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import axios from 'axios';\r\nimport endpoints from './endpoints';\r\nimport { parseErrorData, createUrlParamsFromFilters } from './utils';\r\n\r\nconst create = () => {\r\n\r\n    const getFeedbacks = (filters) => {\r\n        const params = createUrlParamsFromFilters(filters);\r\n        return axios.get(endpoints.FEEDBACKS, { params })\r\n        .then(response => response.data)\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const createFeedback = payload => {\r\n        const { shop, rel_feedback, text } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.FEEDBACKS;\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"text\", text);\r\n        shop && formData.append(\"shop\", shop);\r\n        rel_feedback && formData.append(\"rel_feedback\", rel_feedback);\r\n        \r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const updateFeedback = payload => {\r\n        const { id, text } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.feedback(id);\r\n    \r\n        const formData = new FormData();\r\n        text && formData.append(\"text\", text);\r\n    \r\n        return axios({\r\n                    method: 'patch',\r\n                    url: url,\r\n                    data: formData,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const deleteFeedback = id => {\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.feedback(id);\r\n\r\n        return axios({\r\n                    method: 'delete',\r\n                    url: url,\r\n                    headers: { 'content-type': 'multipart/form-data', 'Authorization': `JWT ${token}` }\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    const createSuggestion = payload => {\r\n        const { text } = payload;\r\n        const token = localStorage.getItem('token') || '';\r\n        const url = endpoints.SUGGS;\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"text\", text);\r\n        \r\n        return axios({\r\n                    method: 'post',\r\n                    url: url,\r\n                    data: formData,\r\n        })\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n        .catch(err => {\r\n            const error = new Error(err);\r\n            error.data = parseErrorData(err);\r\n            throw error;\r\n        })\r\n    }\r\n\r\n    return {\r\n        getFeedbacks,\r\n        createFeedback,\r\n        updateFeedback,\r\n        deleteFeedback,\r\n        createSuggestion\r\n    }\r\n}\r\n\r\nexport default {\r\n    create\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport AuthActions from '../redux-sauce/auth'\r\nimport ShopsActions from '../redux-sauce/shops'\r\n\r\n\r\nexport function * logIn (api, action) {\r\n  try {\r\n    let response = yield call(api.logIn, action.payload)\r\n    yield put(AuthActions.loginSuccess(response))\r\n\r\n  } catch (e) {\r\n    yield put(AuthActions.loginFailure(e.message))\r\n    // yield put(Notifications.error({ title: '', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function * logOut (api, action) {\r\n  try {\r\n    yield call(api.logOut)\r\n    yield put(AuthActions.logoutSuccess())\r\n  } catch (e) {\r\n    yield put(AuthActions.logoutFailure(e.message))\r\n    // yield put(Notifications.error({ title: '', message: e.message, position: 'tc' }));\r\n  }\r\n}\r\n\r\nexport function* checkToken(api, action) {\r\n  const { payload } = action;\r\n  try {\r\n    let response = yield call(api.checkToken, payload);\r\n    yield put(AuthActions.checkTokenSuccess(response));\r\n    yield put(ShopsActions.getShopOwnSuccess(response.shop));\r\n  } catch (e) {\r\n    yield put(AuthActions.checkTokenFail(e.message))\r\n  }\r\n}\r\n\r\nexport function* partialUpdateUser(api, action) {\r\n  try {\r\n      let response = yield call(api.partialUpdateUser, action.payload);\r\n      yield put(AuthActions.partialUpdateUserSuccess(response));\r\n  } catch (err) {\r\n      yield put(AuthActions.partialUpdateUserFail(err))\r\n  }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport ProductsActions from '../redux-sauce/products'\r\n\r\nexport function* getProducts(api, action) {\r\n    try {\r\n        let response = yield call(api.getProducts, action.payload);\r\n        yield put(ProductsActions.getProductsSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getProductsFail(err))\r\n    }\r\n}\r\n\r\nexport function* getProductDetail(api, action) {\r\n    try {\r\n        let response = yield call(api.getProductDetail, action.payload);\r\n        yield put(ProductsActions.getProductDetailSuccess(response));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getProductDetailFail(err))\r\n    }\r\n}\r\n\r\nexport function* getCategories(api, action) {\r\n    try {\r\n        let response = yield call(api.getCategories, action.payload);\r\n        yield put(ProductsActions.getCategoriesSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ProductsActions.getCategoriesFail(err))\r\n    }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport ShopsActions from '../redux-sauce/shops'\r\nimport AuthActions from '../redux-sauce/auth'\r\n\r\nexport function* getShops(api, action) {\r\n    try {\r\n        let response = yield call(api.getShops, action.payload);\r\n        yield put(ShopsActions.getShopsSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(ShopsActions.getShopsFail(err))\r\n    }\r\n}\r\n\r\nexport function* getShopDetail(api, action) {\r\n    try {\r\n        let response = yield call(api.getShopDetail, action.payload);\r\n        yield put(ShopsActions.getShopDetailSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.getShopDetailFail(err))\r\n    }\r\n}\r\n\r\nexport function* createShop(api, action) {\r\n    try {\r\n        let response = yield call(api.createShop, action.payload);\r\n        yield put(ShopsActions.createShopSuccess(response));\r\n        yield put(AuthActions.partialUpdateUserSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.createShopFail(err))\r\n    }\r\n}\r\n\r\nexport function* updateShop(api, action) {\r\n    try {\r\n        let response = yield call(api.updateShop, action.payload);\r\n        yield put(ShopsActions.updateShopSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.updateShopFail(err))\r\n    }\r\n}\r\n\r\nexport function* createProduct(api, action) {\r\n    try {\r\n        let response = yield call(api.createProduct, action.payload);\r\n        yield put(ShopsActions.createProductSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.createProductFail(err))\r\n    }\r\n}\r\n\r\nexport function* partialUpdateProduct(api, action) {\r\n    try {\r\n        let response = yield call(api.partialUpdateProduct, action.payload);\r\n        yield put(ShopsActions.partialUpdateProductSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.partialUpdateProductFail(err))\r\n    }\r\n}\r\n\r\nexport function* deleteProduct(api, action) {\r\n    try {\r\n        let response = yield call(api.deleteProduct, action.payload);\r\n        yield put(ShopsActions.deleteProductSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.deleteProductFail(err))\r\n    }\r\n}\r\n\r\nexport function* addProductImage(api, action) {\r\n    try {\r\n        let response = yield call(api.addProductImage, action.payload);\r\n        yield put(ShopsActions.addProductImageSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.addProductImageFail(err))\r\n    }\r\n}\r\n\r\nexport function* deleteProductImage(api, action) {\r\n    try {\r\n        let response = yield call(api.deleteProductImage, action.payload);\r\n        yield put(ShopsActions.deleteProductImageSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.deleteProductImageFail(err))\r\n    }\r\n}\r\n\r\nexport function* likeShop(api, action) {\r\n    try {\r\n        let response = yield call(api.likeShop, action.payload);\r\n        yield put(ShopsActions.likeShopSuccess(response));\r\n    } catch (err) {\r\n        yield put(ShopsActions.likeShopFail(err))\r\n    }\r\n}","import { put, call } from 'redux-saga/effects';\r\n\r\nimport FeedbacksActions from '../redux-sauce/feedbacks'\r\nimport ShopsActions from '../redux-sauce/shops'\r\n\r\nexport function* getFeedbacks(api, action) {\r\n    try {\r\n        let response = yield call(api.getFeedbacks, action.payload);\r\n        yield put(FeedbacksActions.getFeedbacksSuccess(response.results));\r\n    } catch (err) {\r\n        yield put(FeedbacksActions.getFeedbacksFail(err))\r\n    }\r\n}\r\n\r\nexport function* createFeedback(api, action) {\r\n    try {\r\n        let response = yield call(api.createFeedback, action.payload);\r\n        yield put(FeedbacksActions.createFeedbackSuccess(response));\r\n        if (response.feedback.shop)\r\n            yield put(ShopsActions.addToFeedbacksList(response.feedback.profile));\r\n    } catch (err) {\r\n        yield put(FeedbacksActions.createFeedbackFail(err))\r\n    }\r\n}\r\n\r\nexport function* updateFeedback(api, action) {\r\n    try {\r\n        let response = yield call(api.updateFeedback, action.payload);\r\n        yield put(FeedbacksActions.updateFeedbackSuccess(response));\r\n    } catch (err) {\r\n        yield put(FeedbacksActions.updateFeedbackFail(err))\r\n    }\r\n}\r\n\r\nexport function* deleteFeedback(api, action) {\r\n    try {\r\n        let response = yield call(api.deleteFeedback, action.payload);\r\n        yield put(FeedbacksActions.deleteFeedbackSuccess(response));\r\n        if (response.shop)\r\n            yield put(ShopsActions.removeFromFeedbacksList(response.profile));\r\n    } catch (err) {\r\n        yield put(FeedbacksActions.deleteFeedbackFail(err))\r\n    }\r\n}\r\n\r\nexport function* createSuggestion(api, action) {\r\n    try {\r\n        let response = yield call(api.createSuggestion, action.payload);\r\n        yield put(FeedbacksActions.createSuggestionSuccess(response));\r\n    } catch (err) {\r\n        yield put(FeedbacksActions.createSuggestionFail(err))\r\n    }\r\n}","import { takeEvery, all, takeLatest } from \"redux-saga/effects\";\r\n\r\n/* -------------- API -------------- */\r\nimport AuthApi from \"../api/authApi\";\r\nimport ProductsApi from '../api/productsApi';\r\nimport ShopsApi from '../api/shopsApi';\r\nimport FeedbacksApi from '../api/feedbacksApi';\r\n\r\n/* ------------- Types ------------- */\r\nimport { AuthTypes } from \"../redux-sauce/auth\";\r\nimport { ProductsTypes } from '../redux-sauce/products';\r\nimport { ShopsTypes } from '../redux-sauce/shops';\r\nimport { FeedbacksTypes } from '../redux-sauce/feedbacks';\r\n\r\n/* ------------- Sagas ------------- */\r\nimport { logIn, logOut, checkToken, partialUpdateUser } from \"./authSagas\";\r\nimport * as productsSaga from './productsSagas';\r\nimport * as shopsSaga from './shopsSagas';\r\nimport * as feedbacksSaga from './feedbacksSagas';\r\n\r\nconst authApi = AuthApi.create();\r\nconst productsApi = ProductsApi.create();\r\nconst shopsApi = ShopsApi.create();\r\nconst feedbacksApi = FeedbacksApi.create();\r\n\r\nexport default function* root() {\r\n  yield all([\r\n    takeEvery(AuthTypes.LOGIN_REQUEST, logIn, authApi),\r\n    takeEvery(AuthTypes.LOGOUT_REQUEST, logOut, authApi),\r\n    takeEvery(AuthTypes.CHECK_TOKEN_REQUEST, checkToken, authApi),\r\n    takeEvery(AuthTypes.PARTIAL_UPDATE_USER_REQUEST, partialUpdateUser, authApi),\r\n\r\n    takeEvery(ProductsTypes.GET_PRODUCTS_REQUEST, productsSaga.getProducts, productsApi),\r\n    takeEvery(ProductsTypes.GET_PRODUCT_DETAIL_REQUEST, productsSaga.getProductDetail, productsApi),\r\n    takeEvery(ProductsTypes.GET_CATEGORIES_REQUEST, productsSaga.getCategories, productsApi),\r\n\r\n    takeEvery(ShopsTypes.GET_SHOPS_REQUEST, shopsSaga.getShops, shopsApi),\r\n    takeEvery(ShopsTypes.GET_SHOP_DETAIL_REQUEST, shopsSaga.getShopDetail, shopsApi),\r\n    takeEvery(ShopsTypes.CREATE_SHOP_REQUEST, shopsSaga.createShop, shopsApi),\r\n    takeEvery(ShopsTypes.UPDATE_SHOP_REQUEST, shopsSaga.updateShop, shopsApi),\r\n    takeEvery(ShopsTypes.LIKE_SHOP_REQUEST, shopsSaga.likeShop, shopsApi),\r\n\r\n    takeEvery(ShopsTypes.CREATE_PRODUCT_REQUEST, shopsSaga.createProduct, productsApi),\r\n    takeEvery(ShopsTypes.PARTIAL_UPDATE_PRODUCT_REQUEST, shopsSaga.partialUpdateProduct, productsApi),\r\n    takeEvery(ShopsTypes.DELETE_PRODUCT_REQUEST, shopsSaga.deleteProduct, productsApi),\r\n    takeEvery(ShopsTypes.ADD_PRODUCT_IMAGE_REQUEST, shopsSaga.addProductImage, productsApi),\r\n    takeEvery(ShopsTypes.DELETE_PRODUCT_IMAGE_REQUEST, shopsSaga.deleteProductImage, productsApi),\r\n\r\n    takeEvery(FeedbacksTypes.GET_FEEDBACKS_REQUEST, feedbacksSaga.getFeedbacks, feedbacksApi),\r\n    takeEvery(FeedbacksTypes.CREATE_FEEDBACK_REQUEST, feedbacksSaga.createFeedback, feedbacksApi),\r\n    takeEvery(FeedbacksTypes.UPDATE_FEEDBACK_REQUEST, feedbacksSaga.updateFeedback, feedbacksApi),\r\n    takeEvery(FeedbacksTypes.DELETE_FEEDBACK_REQUEST, feedbacksSaga.deleteFeedback, feedbacksApi),\r\n\r\n    takeEvery(FeedbacksTypes.CREATE_SUGGESTION_REQUEST, feedbacksSaga.createSuggestion, feedbacksApi),\r\n  ]);\r\n}\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n// import { routerMiddleware, routerReducer } from 'react-router-redux'\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootSaga from '../sagas';\r\n// import { reducer as notifications } from 'react-notification-system-redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nexport const reducers = combineReducers({\r\n  auth: require('../redux-sauce/auth').reducer,\r\n  products: require('../redux-sauce/products').reducer,\r\n  shops: require('../redux-sauce/shops').reducer,\r\n  feedbacks: require('../redux-sauce/feedbacks').reducer,\r\n  \r\n  form: formReducer,\r\n  // notifications: notifications\r\n})\r\n\r\nexport default (history) => {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const store = createStore(reducers, composeWithDevTools(\r\n    applyMiddleware(sagaMiddleware)\r\n  ));\r\n\r\n  let sagasManager = sagaMiddleware.run(rootSaga)\r\n\r\n  if (module.hot) {\r\n    module.hot.accept(() => {\r\n      const nextRootReducer = require('./').reducers\r\n      store.replaceReducer(nextRootReducer)\r\n\r\n      const newYieldedSagas = require('../sagas').default\r\n      sagasManager.cancel()\r\n      sagasManager.done.then(() => {\r\n        sagasManager = sagaMiddleware.run(newYieldedSagas)\r\n      })\r\n    })\r\n  }\r\n\r\n  return store\r\n}\r\n\r\n","import React, { useState } from 'react'\r\n\r\nimport 'photoswipe/dist/photoswipe.css'\r\nimport 'photoswipe/dist/default-skin/default-skin.css'\r\nimport { Gallery, Item } from 'react-photoswipe-gallery'\r\n\r\nimport { url } from '../redux/api/endpoints'\r\n\r\n\r\nexport function PhotoGallery (props) {\r\n  const { products } = props\r\n\r\n  return (\r\n    products.length > 0 &&\r\n      <Gallery>\r\n        <Item\r\n          original=\"https://placekitten.com/1024/768?image=1\"\r\n          thumbnail=\"https://placekitten.com/80/60?image=1\"\r\n          width=\"1024\"\r\n          height=\"768\"\r\n          title=\"Grapefruit slice atop a pile of other slices\"\r\n        >\r\n          {({ ref, open }) => (\r\n            <img ref={ref} onClick={open} src=\"https://placekitten.com/80/60?image=1\" \r\n              className='rounded-m'\r\n              />\r\n          )}\r\n        </Item>\r\n        <Item\r\n          original=\"https://placekitten.com/1024/768?image=2\"\r\n          thumbnail=\"https://placekitten.com/80/60?image=2\"\r\n          width=\"1024\"\r\n          height=\"768\"\r\n        >\r\n          {({ ref, open }) => (\r\n            <img ref={ref} onClick={open} src=\"https://placekitten.com/80/60?image=2\" className='rounded-m ml-1'/>\r\n          )}\r\n        </Item>\r\n        <Item\r\n          original=\"https://placekitten.com/1024/768?image=2\"\r\n          thumbnail=\"https://placekitten.com/80/60?image=2\"\r\n          width=\"1024\"\r\n          height=\"768\"\r\n        >\r\n          {({ ref, open }) => (\r\n            <img ref={ref} onClick={open} src=\"https://placekitten.com/80/60?image=2\" className='rounded-m ml-1'/>\r\n          )}\r\n        </Item>\r\n        <Item\r\n          original=\"https://placekitten.com/1024/768?image=2\"\r\n          thumbnail=\"https://placekitten.com/80/60?image=2\"\r\n          width=\"1024\"\r\n          height=\"768\"\r\n        >\r\n          {({ ref, open }) => (\r\n            <img ref={ref} onClick={open} src=\"https://placekitten.com/80/60?image=2\" className='rounded-m ml-1'/>\r\n          )}\r\n        </Item>\r\n      </Gallery>\r\n)}\r\n\r\nexport function AllPhotoGallery (props) {\r\n  const { products } = props\r\n\r\n  return (\r\n    products.length > 0 &&\r\n      <Gallery fullscreenButton={false} shareButton={false}>\r\n        <div className='d-flex flex-wrap' >\r\n          {products.map(product => \r\n            product.images.length > 0 && product.images.map(img =>\r\n              <Item\r\n                original={url + img.catalog_image}\r\n                thumbnail={url + img.thumb_image}\r\n                width={img.cat_width}\r\n                height={img.cat_height}\r\n                title={\r\n                  `\r\n                    ${product.title} - ${product.price} \\n\r\n                    \\n ${product.description && product.description}\r\n                  ` \r\n                }\r\n              >\r\n                {({ ref, open }) => (\r\n                  <img ref={ref} onClick={open} \r\n                    src={url + img.thumb_image} \r\n                    className='mx-1 my-1'\r\n                    />\r\n                )}\r\n              </Item>\r\n            )\r\n          )}\r\n        </div>\r\n      </Gallery>\r\n  )\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { url } from '../redux/api/endpoints';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\n// actions\r\nimport ShopsActions from '../redux/redux-sauce/shops';\r\nimport { AllPhotoGallery } from '../components/Photos';\r\n\r\n\r\nexport function CatButtonComp (props) {\r\n  const { cat, className, handleClick } = props\r\n\r\n  return (\r\n    <button \r\n      className={className}\r\n      key={cat.id} onClick={handleClick} \r\n      data-id={cat.id}\r\n      >\r\n        {cat.ru_name} \r\n        {cat.images.length > 0 && <img style={{'width': '25px'}} \r\n          src={url + cat.images[0].catalog_image} />}\r\n    </button>\r\n  )\r\n}\r\n\r\nfunction ShopsList(props) {\r\n  const { catName } = useParams();\r\n  const { shop_list, listFetching } = props\r\n  \r\n  return (\r\n    listFetching \r\n      ? 'fetching'\r\n      : shop_list && shop_list.length > 0 \r\n        ? shop_list.map(shop => \r\n          <Link to={'/shops/' + shop.id + '/products/' + catName + '/'}>\r\n            <div className='card card-style mx-1 mb-2 pb-2 px-1 mt-2'>\r\n              <div className='content mb-0 d-flex justify-content-between'>\r\n                <h5 className='font-17'>{shop.name}</h5>\r\n                <p className=''>\r\n                  <i className=\"fas fa-heart color-red2-light font-20\" aria-hidden=\"true\">\r\n                    <sup className='font-700'>{shop.likes_list.length}</sup>\r\n                  </i>\r\n                  <i className=\"far fa-comments ml-3 font-20\" aria-hidden=\"true\">\r\n                    <sup className='font-700'>{shop.feedbacks_list.length} </sup>\r\n                  </i> \r\n                </p>\r\n              </div>\r\n              <div className='content mt-0 mb-1' style={{lineHeight: '18px'}}>\r\n                {shop.category_products && shop.category_products.length > 0 && shop.category_products.map(product => \r\n                  <p className='mb-0 d-flex justify-content-between'>\r\n                    <span className='font-16 '>{product.title}</span>\r\n                    <span className='font-17 font-italic'>{product.price}</span>\r\n                  </p>\r\n                  )}\r\n              </div>\r\n              {shop.cat_images_cnt &&\r\n                <div className='content my-0 d-flex justify-content-end'>\r\n                  {shop.cat_images_cnt} \r\n                </div>\r\n              }\r\n            </div>\r\n          </Link>  \r\n          )\r\n      : <div className='card card-style my-3'>\r\n          <div className='content'>\r\n            <img src={url + '/images/sad.png'} width='50px' className='d-block mx-auto'/>\r\n            <p className='mt-1 font-15 text-center'>    .</p>\r\n          </div>\r\n        </div>\r\n  );\r\n}\r\n\r\n\r\nclass Main extends Component {\r\n  \r\n  componentDidMount() {\r\n    const { catName } = this.props.match.params\r\n    this.props.getShops({category: catName, category_last_active: catName})    \r\n  }\r\n\r\n  render() {\r\n    const { shop_list, listFetching, errorList } = this.props.state.shops\r\n    return (\r\n        listFetching\r\n          ? <CircularProgress className='mx-5 my-5 color-black align-middle text-center'/>\r\n          : <ShopsList shop_list={shop_list} listFetching={listFetching} getShops={this.props.getShops}\r\n            errorList={errorList}/>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  notifications: state.notifications,\r\n  routing: state.routing,\r\n  state: state,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShops: query => dispatch(ShopsActions.getShopsRequest(query)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Main);\r\n","import React, { Component, useState  } from 'react';\r\nimport { Field, FieldArray, reduxForm } from 'redux-form'\r\n\r\nimport { styled } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\n\r\nexport const renderFromHelper = ({ touched, error }) => {\r\n  if (!(touched && error)) {\r\n    return\r\n  } else {\r\n    return <FormHelperText>{touched && error}</FormHelperText>\r\n  }\r\n}\r\n\r\nexport const renderTextField = ({\r\n  label,\r\n  placeholder,\r\n  input,\r\n  multiline,\r\n  meta: { touched, invalid, error },\r\n  labelClass,\r\n  formClass,\r\n  ...custom\r\n}) => (\r\n  <TextField\r\n    label={label}\r\n    placeholder={placeholder}\r\n    error={touched && invalid}\r\n    helperText={touched && error}\r\n    {...input}\r\n    {...custom}\r\n    multiline={multiline}\r\n    InputLabelProps={{\r\n      className: labelClass,\r\n    }}\r\n  />\r\n)\r\n\r\nconst MySelect = styled(Select)({\r\n  verticalAlign: 'baseline',\r\n  fontSize: '0.8rem'\r\n});\r\n\r\nexport const renderSelectField = ({\r\n  input,\r\n  label,\r\n  formClass,\r\n  labelClass,\r\n  selectClass,\r\n  meta: { touched, error },\r\n  children,\r\n  ...custom\r\n}) => (\r\n  <FormControl error={touched && error} className={formClass} >\r\n    <InputLabel className={labelClass}>{label}</InputLabel>\r\n    <MySelect\r\n      className={selectClass}\r\n      {...input}\r\n      {...custom}\r\n    >\r\n      {children}\r\n    </MySelect>\r\n    {renderFromHelper({ touched, error })}\r\n  </FormControl>\r\n)\r\n\r\nexport const renderDateTimeField = ({\r\n  label,\r\n  placeholder,\r\n  input,\r\n  meta: { touched, invalid, error },\r\n  labelClass,\r\n  ...custom\r\n}) => (\r\n\r\n  <TextField\r\n    label={label}\r\n    type=\"date\"\r\n    error={touched && invalid}\r\n    helperText={touched && error}\r\n    {...input}\r\n    {...custom}\r\n    InputLabelProps={{\r\n      className: labelClass,\r\n      shrink: true \r\n    }}\r\n  />\r\n)\r\n\r\nconst renderSocials = ({ fields, meta: { error, submitFailed } }) => (\r\n    <div className=''>\r\n      <button className='btn btn-m mb-2 rounded-s text-uppercase font-900 shadow-s\r\n            bg-blue2 text-wrap' type=\"button\" onClick={() => fields.push({})}>\r\n           . \r\n      </button>\r\n      {submitFailed && error && <span>{error}</span>}\r\n  \r\n    {fields.map((member, index) => (\r\n      <div key={index} >\r\n        <Field\r\n          name={`${member}.link_type`}\r\n          type=\"text\"\r\n          formClass='mx-1 align-middle w-25'\r\n          component={renderSelectField}\r\n          \r\n        >\r\n          <option className='font-10' value='vk' >\r\n            vk\r\n          </option>\r\n          <option className='font-10' value='inst'>instagram</option>\r\n          <option className='font-10' value='web'>web</option>\r\n        </Field>\r\n        \r\n        <Field\r\n          name={`${member}.link`}\r\n          type=\"text\"\r\n          component={renderTextField}\r\n          label=\"\"\r\n          style={{'width':'60%'}}\r\n        />\r\n        <span \r\n          className='btn btn-xxs ml-2 rounded-s font-900 shadow-s border-red2-dark bg-red2-light'\r\n          type=\"button\"\r\n          title=\"Remove Member\"\r\n          onClick={() => fields.remove(index)}>\r\n            X\r\n        </span>\r\n      </div>\r\n    ))}\r\n  </div>\r\n)\r\n\r\nconst validateShopForm = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'name',\r\n    'phone',\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (!values[field]) {\r\n      errors[field] = ' '\r\n    }\r\n\r\n    if (values[field] && field === 'phone') {\r\n      if (values['phone'][0] !== '8') errors[field] = '    8.'\r\n      if (values['phone'].length != 11) errors[field] = '   11 .'\r\n    }\r\n  })\r\n\r\n  return errors\r\n}\r\n\r\nfunction ShopForm (props) {\r\n  const [delEnabled, setDel] = useState(false);\r\n\r\n  return (\r\n    <div className='mb-3'>\r\n      <Field\r\n          component={renderTextField}\r\n          name=\"name\"\r\n          label=' '\r\n          className='input-group my-2'\r\n          labelClass='font-12'\r\n        />\r\n      \r\n      <Field\r\n          component={renderTextField}\r\n          type='number'\r\n          name=\"phone\"\r\n          label='(  )'\r\n          className='input-group my-2'\r\n          placeholder='8XXXXXXXXXX'\r\n          labelClass='font-12'\r\n        />\r\n      \r\n      {props.description &&\r\n        <Field name=\"description\" \r\n          component={renderTextField}\r\n          variant=\"outlined\"\r\n          multiline={true}\r\n          rowsMax={5}\r\n          className=\"form-control font-12 my-2\"\r\n          style={{\"height\": \"130px\", \"white-space\": \"pre-wrap\"}}\r\n          label=' ()'\r\n          placeholder='()\r\n             .\r\n          '\r\n          />\r\n      }\r\n\r\n    {props.delivery &&\r\n      <Field name=\"delivery\" \r\n        component={renderTextField}\r\n        className=\"form-control font-12 my-2\"\r\n        style={{\"height\": \"130px\"}} \r\n        label='    ?  ?   .'\r\n        variant=\"outlined\"\r\n        multiline={true}\r\n        rowsMax={5}\r\n        placeholder='()\r\n                   .\r\n                 ,       .\r\n        '\r\n        />\r\n    }\r\n      <Field\r\n        component={renderTextField}\r\n        name=\"profile_id\"\r\n        hidden={true}\r\n      />\r\n      <Field\r\n        component={renderTextField}\r\n        name=\"id\"\r\n        hidden={true}\r\n      />\r\n\r\n      {/* {props.socials &&\r\n        <FieldArray name=\"socials\" component={renderSocials} />\r\n      } */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function InitShopForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues } = props\r\n  return (\r\n    <div className='card card-style mx-0 mb-1 mt-2'>\r\n      <div className='content'>\r\n        <form onSubmit={handleSubmit(parentSubmit)}>\r\n          <ShopForm initialValues={initialValues} description={false} delivery={false}/>\r\n          {/* <p className='mb-0'>   . .</p> */}\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            bg-blue2 text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n          \r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nInitShopForm = reduxForm({\r\n  form: 'initShopForm',\r\n  validate: validateShopForm,\r\n})(InitShopForm)\r\n\r\n\r\nexport function EditShopForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues } = props\r\n\r\n  function submitAndClose(){\r\n    props.setEdit(false)\r\n    parentSubmit()\r\n  }\r\n\r\n  return (\r\n    <div className='card card-style mx-0 mb-1 mt-2'>\r\n      <div className='content'>\r\n        <form onSubmit={handleSubmit(submitAndClose)}>\r\n          <ShopForm initialValues={initialValues} phone={false} description={true} socials={true}\r\n            delivery={true}/>\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            bg-mint-light text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n             text-wrap'\r\n            onClick={() => props.setEdit(false)}\r\n            >\r\n            \r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nEditShopForm = reduxForm({\r\n  form: 'editShopForm',\r\n  validate: validateShopForm,\r\n})(EditShopForm)\r\n\r\n\r\nexport function FeedbackCreateForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues } = props\r\n\r\n  return (\r\n    <div className='card mx-0 mt-3 mb-1'>\r\n      <div className='divider mb-3'></div>\r\n      <div className='content my-0'>\r\n        <p className='mb-0'>  </p>\r\n        <form onSubmit={handleSubmit(parentSubmit)}>\r\n        <div>\r\n          <Field name=\"text\" component=\"textarea\" className=\"form-control font-12 my-2\"\r\n            style={{\"height\": \"150px\"}} label=''\r\n            />\r\n          <Field\r\n            component='number'\r\n            name=\"shop\"\r\n            hidden={true}\r\n          />\r\n        </div>\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            bg-blue2 text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nFeedbackCreateForm = reduxForm({\r\n  form: 'feedbackCreateForm',\r\n  // validate: validateShopForm,\r\n})(FeedbackCreateForm)\r\n\r\nexport function FeedbackEditForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues, setEditOnOff } = props\r\n  \r\n  function submitAndClose(){\r\n    setEditOnOff(false)\r\n    parentSubmit()\r\n  }\r\n\r\n  return (\r\n    <div className='card card-style mx-0 mb-1 mt-2'>\r\n      <div className='content'>\r\n        <form onSubmit={handleSubmit(submitAndClose)}>\r\n        <div>\r\n          <Field name=\"text\" component=\"textarea\" className=\"form-control font-12 my-2\"\r\n            style={{\"height\": \"150px\"}} label=''\r\n            />\r\n          <Field\r\n            component='number'\r\n            name=\"id\"\r\n            hidden={true}\r\n          />\r\n        </div>\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            bg-blue2 text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            bg-blue2 text-wrap'\r\n            onClick={() => setEditOnOff(false)}\r\n          >\r\n            \r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nFeedbackEditForm = reduxForm({\r\n  form: 'feedbackEditForm',\r\n  // validate: validateShopForm,\r\n})(FeedbackEditForm)","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nimport { renderTextField, renderSelectField } from './ShopForms'\r\n\r\n\r\nexport function SuggestionForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues } = props\r\n  return (\r\n    <div className=\"card card-style\">\r\n      <div className='content'>\r\n        <h5 className=\"text-center font-13 font-700 color-mainFont-dark\">\r\n              \r\n        </h5>\r\n        <form onSubmit={handleSubmit(parentSubmit)}>\r\n          <Field name=\"text\" \r\n            component={renderTextField}\r\n            variant=\"outlined\"\r\n            multiline={true}\r\n            rowsMax={5}\r\n            className=\"form-control font-11\"\r\n            style={{\"height\": \"140px\"}}\r\n            // label=' ()'\r\n            placeholder='   - ? \r\n              ? , !\r\n                 :)\r\n            '\r\n            />\r\n          <button \r\n            className='btn btn-l rounded-s text-uppercase font-900 shadow-s\r\n            bg-mint-light text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst validateSuggestionForm = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'text',\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (!values[field]) {\r\n      errors[field] = ' '\r\n    }\r\n  })\r\n  return errors\r\n}\r\n\r\nSuggestionForm = reduxForm({\r\n  form: 'suggestionForm',\r\n  validate: validateSuggestionForm,\r\n})(SuggestionForm)","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom'\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { url } from '../redux/api/endpoints';\r\n\r\n// actions\r\nimport ProductsActions from '../redux/redux-sauce/products';\r\nimport ShopsActions from '../redux/redux-sauce/shops';\r\nimport FeedbacksActions from '../redux/redux-sauce/feedbacks';\r\nimport { SuggestionForm } from '../components/RestForms';\r\n\r\n\r\nexport function CatButtonComp (props) {\r\n  let history = useHistory()\r\n  const { category } = props\r\n\r\n  function handleClick() {\r\n    history.push(\"/category/\" + category.name + \"/\");\r\n  }\r\n\r\n  return (\r\n    <div \r\n      key={category.id}\r\n      className='card-style mx-0 my-1 pt-2'\r\n      onClick={handleClick}\r\n      style={{\r\n        'background': 'white',\r\n        'width': '110px',\r\n        'height': '100px',\r\n        'color': 'white',\r\n        'font-weight': 'bold',\r\n        'font-size': '1.5em',\r\n        'text-align': 'center',\r\n        'word-break': 'break-word',\r\n        'border-radius': '15px',\r\n        'line-height': '12px',\r\n      }}\r\n    >\r\n      <img \r\n        src={url + '/' +category.images[0].catalog_image}/>\r\n      <p className='mb-0 mt-1 color-mainDark font-13'>\r\n        {category.ru_name}\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass MainCats extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n    }\r\n    this.createSug = this.createSug.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.props.getCategories()\r\n  }\r\n  \r\n  createSug () {\r\n    this.props.createSugg(this.props.state.form.suggestionForm.values)\r\n  }\r\n\r\n\r\n  render() {\r\n    const { categories, listFetching } = this.props.state.products\r\n    const { suggMessage } = this.props.state.feedbacks\r\n    const { user } = this.props.state.auth\r\n    \r\n    return (\r\n      listFetching\r\n        ? <CircularProgress className='mx-5 my-5 color-black align-middle text-center'/>\r\n        : <div>\r\n            <div>\r\n              {user && <h3 className='my-3 mx-3 color-white'>, {user ? user.nickname : 'dd'}!</h3>}\r\n              <div className=\"card header-card shape-rounded\" style={{\"height\": \"210px\"}}>\r\n                <div className=\"card-overlay bg-mint-light opacity-95\"></div>\r\n                <div className=\"card-overlay dark-mode-tint\"></div>\r\n                {/* <div className=\"card-bg\" \r\n                  style={{\"background-image\": \"url('images/pictures/20s.jpg')\"}}></div> */}\r\n              </div>\r\n            </div>\r\n            <div \r\n              className='mt-2' \r\n              style={{\r\n                'display': 'flex',\r\n                'flex-flow': 'row wrap',\r\n                'justify-content': 'space-around'\r\n              }}\r\n            >\r\n            {categories && categories.map(category =>\r\n              <CatButtonComp category={category} getShops={this.props.getShops}/>\r\n            )}\r\n            </div>\r\n            <div className=\"divider-icon divider-margins bg-mint-light my-3\">\r\n              <i className=\"fa font-17 color-mint-light fa-times\"></i>\r\n            </div>\r\n            {!suggMessage \r\n              ? <SuggestionForm parentSubmit={this.createSug}/>\r\n              : <div className=\"ad-300x50 bg-mint-light\">\r\n                  <h6 class=\"color-white text-center pt-3 font-15 font-700 text-uppercase\">\r\n                    {suggMessage}\r\n                  </h6>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getCategories: query => dispatch(ProductsActions.getCategoriesRequest(query)),\r\n  getShops: query => dispatch(ShopsActions.getShopsRequest(query)),\r\n  createSugg: data => dispatch(FeedbacksActions.createSuggestionRequest(data)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MainCats);\r\n","import React, { useState } from 'react';\r\nimport { FeedbackCreateForm, FeedbackEditForm } from './ShopForms';\r\n\r\n\r\nexport function Feedback (props) {\r\n  const { feedback } = props\r\n  return (\r\n    <div className='card card-style mx-0 my-1'>\r\n      <div className='content'>\r\n        <p className='mb-1 pl-2 font-700'>{feedback.nickname}</p>\r\n        <p className='mb-1 pl-2'>{feedback.text}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function OwnFeedback (props) {\r\n  const { feedback } = props\r\n  const [ editOnOff, setEditOnOff] = useState(false)\r\n    return (\r\n    editOnOff \r\n    ? <FeedbackEditForm \r\n       initialValues={{text: feedback.text, id: feedback.id}}\r\n       parentSubmit={props.edit}\r\n       setEditOnOff={setEditOnOff}\r\n       />\r\n    : <div className='card card-style mx-0 my-1'>\r\n        <div className='content'>\r\n          <p className='mb-1 pl-2 font-700'>{feedback.nickname}</p>\r\n          <p className='mb-1 pl-2'>{feedback.text}</p>\r\n          <button className='btn btn-sx rounded-s shadow-s' onClick={() => setEditOnOff(true)}>\r\n            \r\n          </button>\r\n          <button className='btn btn-sx rounded-s shadow-s bg-red1-light float-right' \r\n            onClick={() => props.delete(feedback.id)}>\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport function Feedbacks(props) {\r\n  const { shop_id, feedback_list, user_id, whoFeedbackList, showFeed } = props\r\n  let isFeedback = whoFeedbackList ? whoFeedbackList.includes(user_id) : false\r\n\r\n  return (\r\n    <div>\r\n      {showFeed && user_id\r\n        ? !isFeedback && \r\n          <FeedbackCreateForm \r\n            initialValues={{shop: shop_id}} \r\n            parentSubmit={props.createFeedback}\r\n            addToFeedbacksList={props.addToFeedbacksList}\r\n            user_id={user_id}/>\r\n        : showFeed && <p className='my-0 ml-3'>   .</p>\r\n      }\r\n      {showFeed && user_id && feedback_list.length > 0 &&\r\n        <div className='content mt-1'>\r\n          <p className='mb-0 font-700'></p>\r\n          {feedback_list.map(fb => \r\n            fb.profile === user_id \r\n              ? <OwnFeedback feedback={fb} edit={props.editFeedback} delete={props.deleteFeedback}/>\r\n              : <Feedback feedback={fb}/>\r\n            )}\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nimport { url } from '../redux/api/endpoints';\r\n// actions\r\nimport ShopActions from '../redux/redux-sauce/shops';\r\nimport FeedbacksActions from '../redux/redux-sauce/feedbacks';\r\n\r\nimport { Feedbacks } from '../components/Feedbacks';\r\nimport { AllPhotoGallery } from '../components/Photos';\r\nimport { CatButtonComp } from './Main';\r\n\r\n\r\nfunction CatButton(props) {\r\n  let history = useHistory();\r\n  const { catName, shopId } = useParams();\r\n  const { cat } = props\r\n\r\n  const className = \r\n    'btn btn-s rounded-l font-500 shadow-xs text-nowrap my-1 mx-1'\r\n\r\n  const classActive = catName == cat.name \r\n    ? className + ' bg-mint-light' \r\n    : className + ' bg-white'\r\n\r\n  function handleClick() {\r\n    history.push(\"/shops/\" + shopId + '/products/' + cat.name + '/')\r\n  }\r\n\r\n  return (\r\n    <CatButtonComp\r\n      className={classActive}\r\n      cat={cat} \r\n      handleClick={handleClick} \r\n    />\r\n  );\r\n}\r\n\r\n\r\nfunction CatProductList2(props) {\r\n  const { catName } = useParams();\r\n  const { products } = props\r\n  const lWidth = window.screen.width\r\n  console.log(lWidth)\r\n\r\n  let catProducts = []\r\n\r\n  if (catName && products.length > 0) {\r\n    for (var i = 0; i < products.length; i++){\r\n      if (products[i].category === catName){\r\n        catProducts = [...catProducts, products[i]]\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div className='content'>\r\n        <div className='mb-3'>\r\n          {catProducts.map(product => \r\n            <div>\r\n              <p className='d-flex mb-0 justify-content-between'>\r\n                <span className='font-17 font-500'>{product.title}</span>\r\n                <span className='mx-1' \r\n                  style={{flexGrow: '2'}}>\r\n                    <div className=\"mt-3\" style={{borderBottom: '0.09rem dotted'}}></div>\r\n                </span>\r\n                <span className='font-19 font-italic'>{product.price}</span>\r\n              </p>\r\n              {product.description && \r\n                <p className='mb-0'>\r\n                  {product.description}\r\n                </p>\r\n              }\r\n            </div>\r\n          )}\r\n        </div>\r\n        <AllPhotoGallery products={catProducts} />\r\n      </div>\r\n    )\r\n}\r\n\r\n\r\nfunction ViberBlock(props) {\r\n  const { catName } = useParams();\r\n  const { shopDetail } = props\r\n  const viberIconSrc = url + '/images/viber_icon.png'\r\n\r\n  let phone = props.shopDetail.phone\r\n  let re = /8{1}/;\r\n  let re_phone = phone.replace(re, '7');\r\n\r\n  return (\r\n    <div className='mt-1'>\r\n      <a href={`viber://chat?number=${re_phone}`} \r\n        className='btn btn-xs mr-2 font-12 rounded-s shadow-s color-mainFont-light'\r\n        >\r\n         <img src={viberIconSrc} width='20px' />\r\n      </a>\r\n      <a href={`viber://forward?text=${url}/shops/${shopDetail.id}/products/${catName}/`}\r\n        className='btn btn-sx font-12 rounded-s shadow-s color-mainFont-light'\r\n        >\r\n         <img src={viberIconSrc} width='20px' />\r\n      </a>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass ShopDetail extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      catProducts: [],\r\n      active_cat: null,\r\n      showFeed: false,\r\n    }\r\n    this.createFeedback = this.createFeedback.bind(this);\r\n    this.showFeedbacks = this.showFeedbacks.bind(this);\r\n    this.editFeedback = this.editFeedback.bind(this);\r\n    this.openFeedbacks = this.openFeedbacks.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { shopId } = this.props.match.params\r\n    this.props.getShopDetail(shopId)\r\n  }\r\n\r\n  createFeedback () {\r\n    this.props.createFeedback(this.props.state.form.feedbackCreateForm.values)\r\n  }\r\n\r\n  showFeedbacks (shop_id) {\r\n    this.props.getFeedbacks({shop: shop_id})\r\n  }\r\n\r\n  openFeedbacks (shop_id) {\r\n    this.props.getFeedbacks({shop: shop_id})\r\n    this.setState({...this.state, showFeed: !this.state.showFeed})\r\n  }\r\n\r\n  editFeedback () {\r\n    this.props.updateFeedback(this.props.state.form.feedbackEditForm.values)\r\n  }\r\n\r\n  render() {\r\n    const { shopDetail } = this.props.state.shops\r\n    const { feedback_list } = this.props.state.feedbacks\r\n    const user_id  = this.props.state.auth.user ? this.props.state.auth.user.id : null\r\n    let likeClass = 'far fa-heart color-red2-light ml-1 font-21'\r\n    if (shopDetail && shopDetail.likes_list.includes(user_id)) \r\n      likeClass = 'fas fa-heart color-red2-light ml-1 font-21'\r\n\r\n    return (\r\n        shopDetail &&\r\n          <div>\r\n            <div className='card card-style my-2 mx-1 pb-2'>\r\n              <div className='content mb-1'>\r\n                <h5 className='float-left'>{shopDetail.name}</h5>\r\n                <p className='float-right mb-0'>\r\n                  <i className={likeClass} aria-hidden=\"true\"\r\n                    onClick={() => this.props.likeShop(shopDetail.id)}></i>\r\n                    {shopDetail.likes_list.length}\r\n                  <i className=\"far fa-comments ml-3 font-21\" aria-hidden=\"true\" \r\n                    onClick={() => this.openFeedbacks(shopDetail.id)}></i>\r\n                    {shopDetail.feedbacks_list.length} \r\n                </p>\r\n                <div className='clearfix'></div>\r\n                <h5 className='font-13 my-0'><i className=\"fab fa-viber mr-2\"></i>{shopDetail.phone}</h5>\r\n                <ViberBlock shopDetail={shopDetail}/>\r\n\r\n                <div className='clearfix'></div>\r\n                {shopDetail.description &&\r\n                  <div className='mt-2' style={{whiteSpace: \"pre-wrap\"}}>\r\n                    {shopDetail.description}\r\n                  </div>\r\n                }\r\n                {shopDetail.delivery &&\r\n                  <div className='' style={{whiteSpace: \"pre-wrap\"}}>\r\n                    <p className='my-0 font-14 font-600'>,    :</p>\r\n                    {shopDetail.delivery ? shopDetail.delivery : ' '}\r\n                  </div>\r\n                }\r\n              </div>\r\n\r\n            <Feedbacks \r\n              shop_id={shopDetail.id}\r\n              user_id={user_id}\r\n\r\n              createFeedback={this.createFeedback} \r\n              showFeedbacks={this.showFeedbacks}\r\n              editFeedback={this.editFeedback}\r\n              deleteFeedback={this.props.deleteFeedback}\r\n              feedback_list={feedback_list}\r\n              whoFeedbackList={shopDetail.feedbacks_list}\r\n              addToFeedbacksList={this.props.addToFeedbacksList}\r\n              \r\n              showFeed={this.state.showFeed}\r\n              openFeedbacks={this.openFeedbacks}\r\n\r\n              whoLikeList={shopDetail.likes_list}\r\n              likeShop={this.props.likeShop}\r\n              />\r\n            </div>\r\n            <div className='card card-style mx-1' style={{'transform': 'none'}}>\r\n              {shopDetail.categories.length > 1 &&\r\n                <div className='content d-flex justify-content-center overflow-auto flex-wrap'>\r\n                    {shopDetail.categories.map(cat => \r\n                      <CatButton cat={cat}/>\r\n                    )} \r\n                </div>  \r\n                }\r\n              <CatProductList2 products={shopDetail.products} />\r\n            </div>\r\n          </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  routing: state.routing,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShopDetail: id => dispatch(ShopActions.getShopDetailRequest(id)),\r\n  likeShop: shop_id => dispatch(ShopActions.likeShopRequest(shop_id)),\r\n\r\n  createFeedback: data => dispatch(FeedbacksActions.createFeedbackRequest(data)),\r\n  updateFeedback: data => dispatch(FeedbacksActions.updateFeedbackRequest(data)),\r\n  deleteFeedback: data => dispatch(FeedbacksActions.deleteFeedbackRequest(data)),\r\n  getFeedbacks: data => dispatch(FeedbacksActions.getFeedbacksRequest(data)),\r\n  addToFeedbacksList : user_id => dispatch(ShopActions.addToFeedbacksList(user_id)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ShopDetail);\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nimport { renderTextField, renderSelectField } from './ShopForms'\r\n\r\n\r\nfunction ProductForm (props) {\r\n  const { categories } = props\r\n\r\n  return (\r\n    <div>\r\n      <Field\r\n          component={renderTextField}\r\n          name=\"title\"\r\n          label=''\r\n          placeholder=', ,   .'\r\n          className='input-group my-2'\r\n          labelClass='font-12'\r\n        />\r\n\r\n      <Field\r\n          component={renderTextField}\r\n          name=\"price\"\r\n          label='   .'\r\n          placeholder='30  , 500  , 10    .'\r\n          className='input-group my-2'\r\n          labelClass='font-12'\r\n        />\r\n      \r\n      <Field \r\n          name=\"category\" \r\n          component={renderSelectField}\r\n          labelClass='font-12 '\r\n          formClass='input-group my-2'\r\n          label=' '\r\n         >\r\n            {categories && categories.length > 0 && categories.map(category => \r\n              <option className='font-10' value={category.id} key={category.id}>{category.ru_name}</option>\r\n              )}\r\n        </Field>\r\n      \r\n      <Field \r\n        name=\"description\" \r\n        component={renderTextField} \r\n        className=\"form-control font-12 my-2 \"\r\n        // style={{\"height\": \"150px\"}} \r\n        variant=\"outlined\"\r\n        labelClass={'font-12'}\r\n        multiline={true}\r\n        rowsMax={5}\r\n        label='()'\r\n        />\r\n\r\n      <Field\r\n        component={renderTextField}\r\n        name=\"shop_id\"\r\n        hidden={true}\r\n      />\r\n\r\n      <Field\r\n        component={renderTextField}\r\n        name=\"id\"\r\n        hidden={true}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function CreateProductForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues, categories } = props\r\n  return (\r\n    <div className='card card-style mx-1 mb-1 mt-2'>\r\n      <div className='content'>\r\n        <h3 className='font-18 font-500 text-center'> </h3>\r\n        <form onSubmit={handleSubmit(parentSubmit)}>\r\n          <ProductForm initialValues={initialValues} categories={categories}/>\r\n          <button \r\n            className='btn btn-m mb-1 mt-4 rounded-s text-uppercase font-900 shadow-s\r\n            bg-mint-light text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst validateProductForm = values => {\r\n  const errors = {}\r\n  const requiredFields = [\r\n    'title',\r\n    'category',\r\n    'price'\r\n  ]\r\n  requiredFields.forEach(field => {\r\n    if (!values[field]) {\r\n      errors[field] = ' '\r\n    }\r\n  })\r\n  return errors\r\n}\r\n\r\nCreateProductForm = reduxForm({\r\n  form: 'createProductForm',\r\n  validate: validateProductForm,\r\n})(CreateProductForm)\r\n\r\n\r\nexport function UpdateProductForm (props) {\r\n  const { parentSubmit, pristine, reset, submitting, handleSubmit, initialValues, categories } = props\r\n  return (\r\n    <form onSubmit={handleSubmit(parentSubmit)}>\r\n      <div className='card card-style mx-1 mb-1 mt-2'>\r\n        <div className='content mb-5'>\r\n          <ProductForm initialValues={initialValues} categories={categories}/>\r\n        </div>\r\n        <div className='content mt-5 '>\r\n          <button \r\n            className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            bg-mint-light text-wrap'\r\n            type=\"submit\"\r\n            disabled={pristine || submitting}>\r\n            \r\n          </button>\r\n          <button className='btn btn-m mb-1 rounded-s text-uppercase font-900 shadow-s\r\n            text-wrap' onClick={props.clickEdit} data-id={null}>\r\n              \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nUpdateProductForm = reduxForm({\r\n  form: 'updateProductForm',\r\n  validate: validateProductForm,\r\n})(UpdateProductForm)","import React, { Component, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { url } from '../redux/api/endpoints';\r\n\r\n// actions\r\nimport ShopActions from '../redux/redux-sauce/shops';\r\nimport ProductsActions from '../redux/redux-sauce/products';\r\n\r\n// form\r\nimport { InitShopForm, EditShopForm } from '../components/ShopForms';\r\nimport { CreateProductForm, UpdateProductForm } from '../components/ProductForms';\r\n\r\n\r\nfunction ProductContent (props) {\r\n  const { product } = props\r\n\r\n  let btnClass = 'btn btn-sx mb-1 mx-1 rounded-s font-500 font-12 shadow-s \\\r\n     text-wrap'\r\n\r\n  return(\r\n    [\r\n      <div className='content mb-0 mx-4 ' key={1}>\r\n        <div className='d-flex justify-content-between'>\r\n          <p className='my-0 font-15 font-500'>{product.title}</p>\r\n          <p className='my-0 font-17'>{product.price}</p>\r\n          <p className='my-0 font-15 font-italic'>{product.ru_category}</p>\r\n        </div>\r\n        <div className='clearfix'></div>\r\n        <p className='my-0' >{product.description}</p>\r\n        <p className='my-0'>{product.active \r\n          ? <span className='color-green2-light font-500'>.  .</span> \r\n          : <span className='color-red1-light font-500'>.   </span>}</p>\r\n      </div>,\r\n      <div className='content mt-1 mb-0 d-flex justify-content-center ' key={2}>\r\n        <button className={btnClass + ' bg-mint-light'} onClick={props.clickEdit} data-id={product.id}>\r\n            \r\n        </button>\r\n        <button className={btnClass + ' bg-red1-light'} onClick={() => props.deleteProduct(product.id)}>\r\n            \r\n        </button>\r\n        {product.active \r\n          ? <button className={btnClass + ' bg-brown2-light'} onClick={props.clickActive} data-id={product.id} \r\n          data-active={!product.active}>\r\n                \r\n            </button>\r\n          : <button className={btnClass + ' bg-green2-light'} onClick={props.clickActive} data-id={product.id} \r\n          data-active={!product.active}>\r\n               \r\n           </button>\r\n        }\r\n      </div>\r\n    ]\r\n  )\r\n}\r\n\r\nfunction ProductEdit (props) {\r\n  const { product, editId, categories, clickEdit, clickEditDone, clickActive, eventFetching,\r\n       deleteProductImage, addProductImage, deleteProduct } = props\r\n  let category\r\n\r\n  Object.keys(categories).forEach(key => {\r\n\r\n    if ((categories[key].name == product.category) | (categories[key].id == product.category))\r\n      category = categories[key]\r\n  })\r\n  \r\n  let edit = false\r\n  if (product.id == editId) edit = true\r\n\r\n  return (\r\n    edit \r\n    ? <UpdateProductForm \r\n        initialValues={{\r\n          id: product.id,\r\n          title: product.title,\r\n          price: product.price,\r\n          category: category.id,\r\n          description: product.description\r\n        }}\r\n        parentSubmit={clickEditDone}\r\n        clickEdit={clickEdit}\r\n        categories={categories}\r\n      />\r\n    : <div className='card card-style mt-2 mb-1 mx-1'>\r\n        <ProductContent \r\n          product={product} \r\n          clickEdit={clickEdit} \r\n          clickActive={clickActive} \r\n          deleteProduct={deleteProduct}/>\r\n\r\n        <div className='content mb-0 mt-1' key={3}>\r\n          {eventFetching \r\n            ? <CircularProgress />\r\n            : product.images && product.images.length > 0 \r\n                && product.images.map(image =>\r\n                      <div className='rounded-m img-fluid mx-2 my-2 float-left'\r\n                        key={image.id} \r\n                        >\r\n                          <img src={url + image.thumb_image}/>\r\n                          <span className='badge color-black font-13 align-top' \r\n                            onClick={() => deleteProductImage({image: image.id, id: product.id})}>\r\n                            X\r\n                          </span>\r\n                      </div>\r\n                      )\r\n            }\r\n          {/* <div className=\"clearfix\"></div> */}\r\n          \r\n          <div className=\"file-data pb-4 mb-4 \">\r\n            <input className='px-4 py-2 upload-file shadow-s rounded-s bg-mint-light'\r\n              placeholder=' ' type='file' onChange={addProductImage} \r\n              data-product-id={product.id} />\r\n            <p className=\"upload-file-text font-300\">+ </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nclass ProductsEdit extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      editList: [],\r\n      editId: null,\r\n      needToRefresh: false\r\n    }\r\n    this.clickEdit = this.clickEdit.bind(this);\r\n    this.clickEditDone = this.clickEditDone.bind(this);\r\n    this.clickActive = this.clickActive.bind(this);\r\n    this.addProductImage = this.addProductImage.bind(this);\r\n  }\r\n\r\n  clickEdit (e) {\r\n    const { id } = e.target.dataset\r\n    this.setState({\r\n      ...this.state, \r\n      editId: id\r\n    })\r\n  }\r\n\r\n  clickEditDone () {\r\n    this.props.submitUpdateProduct()\r\n    this.setState({\r\n      ...this.state, \r\n      editId: null,\r\n    })\r\n  }\r\n\r\n  clickActive (e) {\r\n    this.props.submitActivateProduct(e.target.dataset)\r\n  }\r\n\r\n  addProductImage(e) {\r\n    this.props.addProductImage({original: e.target.files[0], id: e.target.dataset.productId})\r\n  }\r\n\r\n  render () {\r\n    const { products, eventFetching } = this.props\r\n    return (\r\n      products && products.length > 0 \r\n      ? products.map(product => \r\n        <ProductEdit \r\n          product={product}\r\n          editId={this.state.editId}\r\n          clickEdit={this.clickEdit}\r\n          clickEditDone={this.clickEditDone}\r\n          clickActive={this.clickActive}\r\n          clickDelete={this.props.clickDelete}\r\n          categories={this.props.categories}\r\n          eventFetching={eventFetching}\r\n          addProductImage={this.addProductImage}\r\n          deleteProductImage={this.props.deleteProductImage}\r\n          deleteProduct={this.props.deleteProduct}\r\n        />\r\n        )\r\n      : <p className='mx-3 text-center font-19 my-3'> </p>\r\n    )\r\n  }\r\n}\r\n\r\nfunction SocLink (props){\r\n  const { soc } = props\r\n  let iconClass\r\n  let shortLink\r\n  if (soc.link_type === 'vk') {\r\n    iconClass = \"fab fa-vk mr-1\"\r\n    shortLink = soc.link.split('/')[3]\r\n  }\r\n\r\n  if (soc.link_type === 'inst') {\r\n    iconClass = \"fab fa-instagram mr-1\"\r\n    shortLink = soc.link.split('/')[3]\r\n  }\r\n\r\n  if (soc.link_type === 'web') {\r\n    iconClass = \"fas fa-globe mr-1\"\r\n    shortLink = 'web'\r\n  }\r\n\r\n  return (\r\n    <span className='mr-4'>\r\n      <i className={iconClass}></i>\r\n      <a href={soc.link} \r\n        className=' text-reset text-decoration-underline' \r\n        >\r\n        {shortLink}</a>\r\n    </span>\r\n  )\r\n}\r\n\r\nfunction ShopInfoEditable (props) {\r\n  const [edit, setEdit] = useState(false)\r\n  const [createNewProduct, setCNP] = useState(false)\r\n  const { shop, categories, submitUpdateProduct, submitActivateProduct, eventFetching } = props\r\n\r\n  const cardClass = 'card card-style mx-1 my-2 rounded-s text-uppercase font-700 rounded-m text-center'\r\n\r\n  function createAndCloseform () {\r\n    setCNP(!createNewProduct)\r\n    props.createProductSubmit()\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {edit\r\n        ? <EditShopForm \r\n            initialValues={\r\n            {name: shop ? shop.name : null,\r\n              description: shop ? shop.description : null ,\r\n              delivery:  shop ? shop.delivery : null,\r\n              id:  shop ? shop.id : null,\r\n              phone:  shop ? shop.phone : null,\r\n              socials: shop ? shop.socials : null,\r\n            }}  \r\n            parentSubmit={props.parentSubmit}\r\n            setEdit={setEdit}\r\n            />\r\n        : <div className='card card-style mt-2 mx-1 mb-1'>\r\n            <div className='content'>\r\n              <h5 className='font-16'>\r\n                {shop.name}\r\n                <span className='font-13 mr-3 float-right'>\r\n                  <i className=\"fab fa-viber mr-2\"></i>{shop.phone}</span>\r\n              </h5>\r\n              {shop.socials && shop.socials.length > 0 &&\r\n                <div className='d-flex justify-content-start mb-1'>\r\n                  {shop.socials.map(soc =>\r\n                    <SocLink soc={soc}/>\r\n                    )}\r\n                </div>\r\n              }\r\n              <p className='mt-3 mb-0 font-16'>()</p>\r\n              <div className=\"divider-icon bg-mint-light mb-1\"></div>\r\n              <p className='font-13 mb-0' style={{whiteSpace: \"pre-wrap\"}}>\r\n                {shop.description ? shop.description : '   .'}\r\n              </p>\r\n              <p className='mt-3 mb-0 font-16'>     ?</p>\r\n              <div className=\"divider-icon bg-mint-light mb-1\"></div>\r\n              <p className='font-13 mb-0' style={{whiteSpace: \"pre-wrap\"}}>\r\n                {shop.delivery ? shop.delivery : ' '}\r\n              </p>\r\n              <button className='btn btn-m mt-2 mb-1 rounded-s text-uppercase font-900 shadow-s\r\n                bg-mint-light' onClick={() => setEdit(true)}></button>\r\n            </div>\r\n          </div>\r\n      }\r\n      <div className={!createNewProduct ? cardClass + ' bg-mint-light' : cardClass + ' bg-brown2-light'}\r\n         onClick={() => setCNP(!createNewProduct)}>\r\n           <div className='content'>\r\n              {createNewProduct \r\n                ? ''\r\n                : ' '\r\n              }\r\n            </div>\r\n      </div>\r\n\r\n      {createNewProduct &&\r\n        <CreateProductForm \r\n            categories={categories}\r\n            parentSubmit={createAndCloseform}\r\n            initialValues={{}}\r\n          />\r\n      }\r\n\r\n      <ProductsEdit \r\n        products={shop.all_products} \r\n        categories={categories} \r\n        submitUpdateProduct={submitUpdateProduct}\r\n        submitActivateProduct={submitActivateProduct}\r\n        deleteProduct={props.deleteProduct}\r\n        eventFetching={eventFetching}\r\n        addProductImage={props.addProductImage}\r\n        deleteProductImage={props.deleteProductImage}\r\n      />\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nclass ShopCabinet extends Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n    }\r\n\r\n  this.submitCreateShop = this.submitCreateShop.bind(this);\r\n  this.submitUpdateShop = this.submitUpdateShop.bind(this);\r\n  this.submitCreateProduct = this.submitCreateProduct.bind(this);\r\n  this.submitUpdateProduct = this.submitUpdateProduct.bind(this);\r\n  this.submitActivateProduct = this.submitActivateProduct.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getCategories()\r\n  }\r\n\r\n  submitUpdateShop(){\r\n    console.log(this.props.state.form.editShopForm)\r\n    this.props.updateShop(this.props.state.form.editShopForm.values)\r\n  }\r\n\r\n  submitCreateShop(){\r\n    this.props.createShop(this.props.state.form.initShopForm.values)\r\n  }\r\n\r\n  submitCreateProduct(){\r\n    this.props.createProduct(this.props.state.form.createProductForm.values)\r\n  }\r\n\r\n  submitUpdateProduct(){\r\n    this.props.updateProduct(this.props.state.form.updateProductForm.values)\r\n  }\r\n\r\n  submitActivateProduct(data){\r\n    this.props.updateProduct({id: data.id, active: data.active})\r\n  }\r\n\r\n  render() {\r\n    const { user, shop, categories } = this.props\r\n    const { eventFetching } = this.props.state.shops\r\n    \r\n    return (\r\n      user && !user.shop \r\n        ? <InitShopForm  parentSubmit={this.submitCreateShop} user={user}\r\n          initialValues={{name: user ? user.nickname : null, profile_id: user ? user.id : null}}/>\r\n        : shop && \r\n          <ShopInfoEditable \r\n            shop={shop}\r\n            user={user}\r\n            getShopDetail={this.props.getShopDetail}\r\n            parentSubmit={this.submitUpdateShop}\r\n\r\n            getShopDetail={this.props.getShopDetail}\r\n            createProductSubmit={this.submitCreateProduct}\r\n            categories={categories}\r\n            submitUpdateProduct={this.submitUpdateProduct}\r\n            submitActivateProduct={this.submitActivateProduct}\r\n            deleteProduct={this.props.deleteProduct}\r\n\r\n            addProductImage={this.props.addProductImage}\r\n            deleteProductImage={this.props.deleteProductImage}\r\n\r\n            eventFetching={eventFetching}\r\n           />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  routing: state.routing,\r\n  user: state.auth.user,\r\n  shop: state.shops.shopOwn,\r\n  categories: state.products.categories\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getShopDetail: id => dispatch(ShopActions.getShopDetailRequest(id)),\r\n  createShop: (data) => dispatch(ShopActions.createShopRequest(data)),\r\n  updateShop: (data) => dispatch(ShopActions.updateShopRequest(data)),\r\n\r\n  createProduct: (data) => dispatch(ShopActions.createProductRequest(data)),\r\n  updateProduct: (data) => dispatch(ShopActions.partialUpdateProductRequest(data)),\r\n  deleteProduct: id => dispatch(ShopActions.deleteProductRequest(id)),\r\n\r\n  addProductImage: (data) => dispatch(ShopActions.addProductImageRequest(data)),\r\n  deleteProductImage: (data) => dispatch(ShopActions.deleteProductImageRequest(data)),\r\n\r\n  getCategories: query => dispatch(ProductsActions.getCategoriesRequest(query)),\r\n\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ShopCabinet);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n// import Main from '../containers/Main';\r\nimport MainCats  from '../containers/MainCats'\r\n\r\nimport AuthActions from '../redux/redux-sauce/auth';\r\n\r\n\r\nclass ViberAuthenticationComponent extends Component {\r\n    componentDidMount() {\r\n      // const token = localStorage.getItem('token');\r\n      const { token } = this.props.match.params\r\n      if (token) {\r\n        this.props.checkToken(token);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      let access = false\r\n      if (this.props.isLoggedIn === true) access = true\r\n      return (\r\n          <div>\r\n              {access\r\n                  ? <MainCats />\r\n                  : ' '\r\n              }\r\n          </div>\r\n      )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isLoggedIn: state.auth.isLoggedIn,\r\n    user: state.auth.user,\r\n    state: state\r\n});\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    checkToken: (token) => dispatch(AuthActions.checkTokenRequest(token)),\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViberAuthenticationComponent);\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, useParams, useLocation } from \"react-router-dom\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// actions\r\nimport AuthActions from '../redux/redux-sauce/auth';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\n\r\nfunction Body () {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div  className='my-5 mx-2' className={classes.paper}>\r\n      <h2 id=\"simple-modal-title\">\r\n        <a href='viber://pa?chatURI=dm-eda&context=Chto_za_CONTEXT?&text='>  </a>\r\n      </h2>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction HeaderTitle (){\r\n  let { pathname } = useLocation();\r\n\r\n  return (\r\n    <Link className='' to='/'>\r\n      <h5 className='font-17 font-700' style={{'line-height': '17px'}}>\r\n          -\r\n        {pathname !== '/' && <p className='font-11 ml-4 font-400'>{'<'}   </p>}\r\n        </h5>\r\n    </Link>\r\n  )\r\n}\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalOpen: false,\r\n    }\r\n    this.login = this.login.bind(this);\r\n    this.login2 = this.login2.bind(this);\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      this.props.checkToken(token);\r\n    }\r\n  }\r\n\r\n  handleOpen () {\r\n    this.setState({...this.state, modalOpen: true})\r\n  }\r\n\r\n  handleClose () {\r\n    this.setState({...this.state, modalOpen: false})\r\n  }\r\n\r\n  login () {\r\n    this.props.login({username: 'kzr', password: 'qwerty123'})\r\n  }\r\n\r\n  login2 () {\r\n    this.props.login({username: 'test_user1', password: 'svinbin123'})\r\n  }\r\n\r\n  render() {\r\n    const { isLoggedIn, fetching, user } = this.props.auth\r\n\r\n    return (\r\n      [\r\n      <div className='header' >\r\n        <div className='d-flex pt-3 mx-3 justify-content-between'>\r\n          {/* <Link className='' to='/'>\r\n            <h5 className='font-17 font-700'>  -</h5>\r\n          </Link> */}\r\n          <HeaderTitle />\r\n          {fetching \r\n            ? null\r\n            : isLoggedIn \r\n              ? user &&\r\n                <div className=''>\r\n                    <p className='' style={{'line-height': '22px'}}>\r\n                      {/* <p className='my0-1'>{user.nickname}</p> */}\r\n                      {/* <i className=\"fas fa-sign-out-alt ml-1\" onClick={this.props.logout}></i> */}\r\n                    \r\n                    <Link to='/shops/my/'>\r\n                       \r\n                    </Link>\r\n                    </p>\r\n                  </div>\r\n              : <div className=''>\r\n                  <p className='' onClick={this.handleOpen} style={{'line-height': '22px'}}>\r\n                    \r\n                  </p>\r\n                  <button className='btn'onClick={this.login}></button>\r\n                  <button className='btn'onClick={this.login2}>2</button>\r\n                </div>\r\n            }\r\n        </div>\r\n        \r\n        <Modal\r\n          open={this.state.modalOpen}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"simple-modal-title\"\r\n          aria-describedby=\"simple-modal-description\"\r\n        >\r\n          <Body />\r\n        </Modal>\r\n        \r\n    </div>,\r\n    // <div className='footer-bar-4' id='footer-bar'>\r\n    //   <p className='foot-title'> </p>\r\n    // </div>\r\n      ]\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  state: state,\r\n  auth: state.auth,\r\n  routing: state.routing,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  checkToken: (token) => dispatch(AuthActions.checkTokenRequest(token)),\r\n  logout: () => dispatch(AuthActions.logoutRequest()),\r\n  login: (data) => dispatch(AuthActions.loginRequest(data)),\r\n})\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './redux/store/';\r\n\r\nimport ReactGA from 'react-ga';\r\n\r\n// Containers\r\nimport Main from './containers/Main'\r\nimport MainCats  from './containers/MainCats'\r\nimport ShopDetail from './containers/ShopDetail'\r\nimport ShopCabinet from './containers/ShopCabinet'\r\nimport ViberAuthenticationComponent from './containers/ViberLogin'\r\nimport Header from './containers/HeaderContainer'\r\n\r\nconst store = configureStore()\r\n\r\n// ReactGA.initialize('G-0Z91C0YP7N');\r\n// ReactGA.pageview(window.location.pathname + window.location.search);\r\n// ReactGA.event({\r\n//   category: 'TestCat',\r\n//   action: 'Prosto hueta'\r\n// });\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <div className='app' id=\"page\" className=''>\r\n        <Header />\r\n        <div className=\"page-content header-clear\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={MainCats} />\r\n            <Route exact path=\"/category/:catName/\" component={Main} />\r\n            <Route path=\"/shops/:shopId/products/:catName\" component={ShopDetail} />\r\n            <Route path=\"/shops/my/\" component={ShopCabinet} />\r\n            <Route path=\"/dm/login/v/:token\" component={ViberAuthenticationComponent} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  </Provider>, document.getElementById('root')\r\n);","import _ from 'lodash';\r\n\r\nexport const toggleArray = (arr: Array<String>, string: string) => {\r\n    if (arr.indexOf(string) === -1) {\r\n      return [...arr, string]\r\n    } else {\r\n      return arr.filter(item => item !== string)\r\n    }\r\n  }\r\n\r\nexport const lodashToggle = (array, item) => _.xor(array, [item])\r\n\r\nexport const toggleArrayLocations = (arr: Array<Object>, location: Object) => {\r\n  let alreadyIn = false;\r\n  let index = -1;\r\n  for (var i = 0; i < arr.length; i++){\r\n    if (_.isEqual(arr[i], location)){\r\n      alreadyIn = true;\r\n      index = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (alreadyIn){\r\n    arr.splice(index, 1);\r\n    return arr\r\n  } else {\r\n    return [...arr, location]\r\n  }\r\n}\r\n\r\nexport const addItemToArray = (arr: Array<String>, string: string) => {\r\n    return [...arr, string]\r\n  }\r\n\r\nexport const removeItemFromArray = (arr: Array<String>, string: string) => {\r\n    return arr.filter(item => item !== string)\r\n}\r\n\r\nexport const uniq = a => [...new Set(a)]\r\n\r\n\r\nexport const getObjectbyId = (list, id) => {\r\n  let obj = null\r\n  list.map(element => {\r\n    if (element['id'] == id)\r\n      obj = element\r\n  })\r\n  return obj\r\n}\r\n\r\nexport const getObjectInListbyFieldValue = (list, field, value) => {\r\n  let obj = null\r\n  list.map(element => {\r\n    if (element[field] == value)\r\n      obj = element\r\n  })\r\n  return obj\r\n}\r\n\r\nexport const toggleArrayDictById= (arr: Array<Object>, obj: Object) => {\r\n  let alreadyIn = false;\r\n  let index = -1;\r\n\r\n  for (var i = 0; i < arr.length; i++){\r\n    if (arr[i].id === obj.id){\r\n      alreadyIn = true;\r\n      index = i;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (alreadyIn){\r\n    arr.splice(index, 1);\r\n    return arr\r\n  } else {\r\n    return [...arr, obj]\r\n  }\r\n}","import { createReducer, createActions } from 'reduxsauce'\r\nimport Immutable from 'seamless-immutable'\r\n\r\nimport { getObjectbyId, lodashToggle } from '../../components/utils'\r\n\r\n\r\n/* ------------- Types and Action Creators ------------- */\r\nconst { Types, Creators } = createActions({\r\n    getShopsRequest: ['payload'],\r\n    getShopsFail: ['payload'],\r\n    getShopsSuccess: ['payload'],\r\n\r\n    getShopDetailRequest: ['payload'],\r\n    getShopDetailFail: ['error'],\r\n    getShopDetailSuccess: ['payload'],\r\n\r\n    getShopOwnRequest: ['payload'],\r\n    getShopOwnFail: ['error'],\r\n    getShopOwnSuccess: ['payload'],\r\n\r\n    createShopRequest: ['payload'],\r\n    createShopFail: ['payload'],\r\n    createShopSuccess: ['payload'],\r\n\r\n    updateShopRequest: ['payload'],\r\n    updateShopFail: ['payload'],\r\n    updateShopSuccess: ['payload'],\r\n\r\n    createProductRequest: ['payload'],\r\n    createProductFail: ['payload'],\r\n    createProductSuccess: ['payload'],\r\n\r\n    partialUpdateProductRequest: ['payload'],\r\n    partialUpdateProductFail: ['payload'],\r\n    partialUpdateProductSuccess: ['payload'],\r\n\r\n    deleteProductRequest: ['payload'],\r\n    deleteProductFail: ['payload'],\r\n    deleteProductSuccess: ['payload'],\r\n\r\n    addProductImageRequest: ['payload'],\r\n    addProductImageFail: ['payload'],\r\n    addProductImageSuccess: ['payload'],\r\n\r\n    deleteProductImageRequest: ['payload'],\r\n    deleteProductImageFail: ['payload'],\r\n    deleteProductImageSuccess: ['payload'],\r\n\r\n    addToFeedbacksList: ['user_id'],\r\n    removeFromFeedbacksList: ['user_id'],\r\n\r\n    likeShopRequest: ['payload'],\r\n    likeShopFail: ['error'],\r\n    likeShopSuccess: ['payload'],\r\n})\r\n\r\nexport const ShopsTypes = Types\r\nexport default Creators\r\n\r\n\r\n/* ------------- Initial State ------------- */\r\nexport const INITIAL_STATE = Immutable({\r\n    listFetching: false,\r\n    shop_list: [],\r\n    errorList: null,\r\n\r\n    detailFetching: null,\r\n    shopDetail: null,\r\n    errorDetail: null,\r\n\r\n    shopOwn: null,\r\n\r\n    eventFetching: null,\r\n    eventError: null,\r\n\r\n    message: '',\r\n})\r\n\r\n\r\n/* ------------- Selectors ------------- */\r\nexport const ShopsSelectors = {\r\n    getShops: state => state.shops.shop_list,\r\n}\r\n\r\n\r\n/* ------------- Reducers ------------- */\r\n// Get\r\nexport const getShopsRequest = (state, { payload }) => {\r\n    return state.merge({ listFetching: true, shop_list: [] })\r\n}\r\n\r\nexport const getShopsSuccess = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList: null, shop_list: payload })\r\n}\r\n\r\nexport const getShopsFail = (state, { payload }) => {\r\n    return state.merge({ listFetching: false, errorList:payload, shop_list: [] })\r\n}\r\n\r\n// Get one\r\nexport const getShopDetailRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getShopDetailSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, shopDetail: payload,})\r\n}\r\n\r\nexport const getShopDetailFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, shopDetail: null })\r\n}\r\n\r\n// Get own\r\nexport const getShopOwnRequest = (state, { payload }) => {\r\n    return state.merge({ detailFetching: true, })\r\n}\r\n\r\nexport const getShopOwnSuccess = (state, { payload }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: null, shopOwn: payload,})\r\n}\r\n\r\nexport const getShopOwnFail = (state, { error }) => {\r\n    return state.merge({ detailFetching: false, errorDetail: error, shopOwn: null })\r\n}\r\n\r\n// create shop\r\nexport const createShopRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const createShopSuccess = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList: null, message: payload.message, \r\n        shopOwn: payload.shop })\r\n}\r\n\r\nexport const createShopFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList:payload, message: '' })\r\n}\r\n\r\n// update shop\r\nexport const updateShopRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const updateShopSuccess = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList: null, \r\n        shopOwn: {\r\n            ...state.shopOwn,\r\n            ...payload\r\n        }\r\n    })\r\n}\r\n\r\nexport const updateShopFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList: payload, message: '' })\r\n}\r\n\r\n// create product\r\nexport const createProductRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const createProductSuccess = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, eventError: null,  \r\n        shopOwn: {...state.shopOwn, all_products: [payload, ...state.shopOwn.all_products,]} })\r\n}\r\n\r\nexport const createProductFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, eventError:payload, message: '' })\r\n}\r\n\r\n// partial update product\r\nexport const partialUpdateProductRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const partialUpdateProductSuccess = (state, { payload }) => {\r\n    const productInList = getObjectbyId(state.shopOwn.all_products, payload.id)\r\n    const index = state.shopOwn.all_products.indexOf(productInList)\r\n    return state.merge({ \r\n        eventFetching: false,\r\n        errorList: null,\r\n        message: payload.message, \r\n        shopOwn: {\r\n            ...state.shopOwn,\r\n            all_products: [\r\n                ...state.shopOwn.all_products.slice(0, index),\r\n                payload,\r\n                ...state.shopOwn.all_products.slice(index + 1)\r\n            ]\r\n        },\r\n        })\r\n}\r\n\r\nexport const partialUpdateProductFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList:payload, message: '' })\r\n}\r\n\r\n// delete product\r\nexport const deleteProductRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const deleteProductSuccess = (state, { payload }) => {\r\n    const productInList = getObjectbyId(state.shopOwn.all_products, payload.id)\r\n    const index = state.shopOwn.all_products.indexOf(productInList)\r\n    return state.merge({ \r\n        eventFetching: false,\r\n        errorList: null,\r\n        message: payload.message, \r\n        shopOwn: {\r\n            ...state.shopOwn,\r\n            all_products: [\r\n                ...state.shopOwn.all_products.slice(0, index),\r\n                ...state.shopOwn.all_products.slice(index + 1)\r\n            ]\r\n        },\r\n        })\r\n}\r\n\r\nexport const deleteProductFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList:payload, message: '' })\r\n}\r\n\r\n// add product image\r\nexport const addProductImageRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const addProductImageSuccess = (state, { payload }) => {\r\n    const productInList = getObjectbyId(state.shopOwn.all_products, payload.product.id)\r\n    const index = state.shopOwn.all_products.indexOf(productInList)\r\n    return state.merge({ \r\n        eventFetching: false,\r\n        errorList: null,\r\n        message: payload.message, \r\n        shopOwn: {\r\n            ...state.shopOwn,\r\n            all_products: [\r\n                ...state.shopOwn.all_products.slice(0, index),\r\n                payload.product,\r\n                ...state.shopOwn.all_products.slice(index + 1)\r\n            ]\r\n        },\r\n        })\r\n}\r\n\r\nexport const addProductImageFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList:payload, message: '' })\r\n}\r\n\r\n// delete job image\r\nexport const deleteProductImageRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const deleteProductImageSuccess = (state, { payload }) => {\r\n    const productInList = getObjectbyId(state.shopOwn.all_products, payload.product.id)\r\n    const index = state.shopOwn.all_products.indexOf(productInList)\r\n    return state.merge({ \r\n        eventFetching: false,\r\n        errorList: null,\r\n        message: payload.message, \r\n        shopOwn: {\r\n            ...state.shopOwn,\r\n            all_products: [\r\n                ...state.shopOwn.all_products.slice(0, index),\r\n                payload.product,\r\n                ...state.shopOwn.all_products.slice(index + 1)\r\n            ]\r\n        },\r\n        })\r\n}\r\n\r\nexport const deleteProductImageFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, errorList:payload, message: '' })\r\n}\r\n\r\n// add profile id to feedback list\r\nexport const addToFeedbacksList = (state, { user_id }) => {\r\n    return state.merge({ \r\n        shopDetail: {\r\n            ...state.shopDetail,\r\n            feedbacks_list: [\r\n                ...state.shopDetail.feedbacks_list,\r\n                user_id\r\n            ]\r\n        } })\r\n}\r\n\r\n// add profile id to feedback list\r\nexport const removeFromFeedbacksList = (state, { user_id }) => {\r\n    let feedbacks_list = lodashToggle(state.shopDetail.feedbacks_list, user_id)\r\n\r\n    return state.merge({ \r\n        shopDetail: {\r\n            ...state.shopDetail,\r\n            feedbacks_list: feedbacks_list\r\n        } })\r\n}\r\n\r\n// like shop\r\nexport const likeShopRequest = (state, { payload }) => {\r\n    return state.merge({ eventFetching: true, message: '' })\r\n}\r\n\r\nexport const likeShopSuccess = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, eventError: null, \r\n        shopDetail: {\r\n            ...state.shopDetail,\r\n            likes_list: payload.likes_list\r\n        }\r\n    })\r\n}\r\n\r\nexport const likeShopFail = (state, { payload }) => {\r\n    return state.merge({ eventFetching: false, eventError: payload, message: '' })\r\n}\r\n/* ------------- Hookup Reducers To Types ------------- */\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n    [Types.GET_SHOPS_REQUEST]: getShopsRequest,\r\n    [Types.GET_SHOPS_SUCCESS]: getShopsSuccess,\r\n    [Types.GET_SHOPS_FAIL]: getShopsFail,\r\n\r\n    [Types.GET_SHOP_DETAIL_REQUEST]: getShopDetailRequest,\r\n    [Types.GET_SHOP_DETAIL_SUCCESS]: getShopDetailSuccess,\r\n    [Types.GET_SHOP_DETAIL_FAIL]: getShopDetailFail,\r\n\r\n    [Types.GET_SHOP_OWN_REQUEST]: getShopOwnRequest,\r\n    [Types.GET_SHOP_OWN_SUCCESS]: getShopOwnSuccess,\r\n    [Types.GET_SHOP_OWN_FAIL]: getShopOwnFail,\r\n\r\n    [Types.CREATE_SHOP_REQUEST]: createShopRequest,\r\n    [Types.CREATE_SHOP_SUCCESS]: createShopSuccess,\r\n    [Types.CREATE_SHOP_FAIL]: createShopFail,\r\n\r\n    [Types.UPDATE_SHOP_REQUEST]: updateShopRequest,\r\n    [Types.UPDATE_SHOP_SUCCESS]: updateShopSuccess,\r\n    [Types.UPDATE_SHOP_FAIL]: updateShopFail,\r\n\r\n    [Types.CREATE_PRODUCT_REQUEST]: createProductRequest,\r\n    [Types.CREATE_PRODUCT_SUCCESS]: createProductSuccess,\r\n    [Types.CREATE_PRODUCT_FAIL]: createProductFail,\r\n\r\n    [Types.PARTIAL_UPDATE_PRODUCT_REQUEST]: partialUpdateProductRequest,\r\n    [Types.PARTIAL_UPDATE_PRODUCT_SUCCESS]: partialUpdateProductSuccess,\r\n    [Types.PARTIAL_UPDATE_PRODUCT_FAIL]: partialUpdateProductFail,\r\n\r\n    [Types.DELETE_PRODUCT_REQUEST]: deleteProductRequest,\r\n    [Types.DELETE_PRODUCT_SUCCESS]: deleteProductSuccess,\r\n    [Types.DELETE_PRODUCT_FAIL]: deleteProductFail,\r\n\r\n    [Types.ADD_PRODUCT_IMAGE_REQUEST]: addProductImageRequest,\r\n    [Types.ADD_PRODUCT_IMAGE_SUCCESS]: addProductImageSuccess,\r\n    [Types.ADD_PRODUCT_IMAGE_FAIL]: addProductImageFail,\r\n\r\n    [Types.DELETE_PRODUCT_IMAGE_REQUEST]: deleteProductImageRequest,\r\n    [Types.DELETE_PRODUCT_IMAGE_SUCCESS]: deleteProductImageSuccess,\r\n    [Types.DELETE_PRODUCT_IMAGE_FAIL]: deleteProductImageFail,\r\n\r\n    [Types.ADD_TO_FEEDBACKS_LIST]: addToFeedbacksList,\r\n    [Types.REMOVE_FROM_FEEDBACKS_LIST]: removeFromFeedbacksList,\r\n\r\n    [Types.LIKE_SHOP_REQUEST]: likeShopRequest,\r\n    [Types.LIKE_SHOP_SUCCESS]: likeShopSuccess,\r\n    [Types.LIKE_SHOP_FAIL]: likeShopFail,\r\n})\r\n"],"sourceRoot":""}